(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";n.r(t);var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},i=function(e,t){return!!r(e)&&e.indexOf(t)>-1},o=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o,i)&&n.push(o)}return n},a=function(e,t){return void 0===t&&(t=[]),o(e,function(e){return!i(t,e)})},s=n(38),u=function(e){return Object(s.a)(e,"Function")},c=function(e){return null===e||void 0===e},l=n(24),f=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var d=function(e,t){if(e)if(Object(l.a)(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(f(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break},h=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return d(e,function(n,r){u(e)&&"prototype"===r||t.push(r)}),t};var p=function(e,t){var n=h(t),r=n.length;if(c(e))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},g=function(e){return"object"===typeof e&&null!==e},v=function(e){if(!g(e)||!Object(s.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var m=function(e,t){if(!Object(l.a)(e))return null;var n;if(u(t)&&(n=t),v(t)&&(n=function(e){return p(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var y=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},b=function(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r][t];if(!c(i)){n=Object(l.a)(i)?i[0]:i;break}}return n},x=function(e){if(!Object(l.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},_=function e(t,n){if(void 0===n&&(n=[]),Object(l.a)(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},w=function(e){if(Object(l.a)(e))return e.reduce(function(e,t){return Math.max(e,t)},e[0])},E=function(e){if(Object(l.a)(e))return e.reduce(function(e,t){return Math.min(e,t)},e[0])},S=function(e){var t=e.filter(function(e){return!isNaN(e)});if(!t.length)return{min:0,max:0};if(Object(l.a)(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var i=w(t);return{min:E(t),max:i}},O=Array.prototype,k=O.splice,M=O.indexOf,C=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=-1;(o=M.call(e,i))>-1;)k.call(e,o,1);return e},A=Array.prototype.splice,j=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,a=t[n];n!==i&&a===o||(o=a,A.call(e,a,1))}return e},T=function(e,t,n){if(!Object(l.a)(e)&&!v(e))return e;var r=n;return d(e,function(e,n){r=t(r,e,n)}),r},I=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,o=[],a=e.length;++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return j(e,o),n},N=function(e){return Object(s.a)(e,"String")};var P=function(e,t){var n;if(u(t))n=function(e,n){return t(e)-t(n)};else{var r=[];N(t)?r.push(t):Object(l.a)(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n];if(e[i]>t[i])return 1;if(e[i]<t[i])return-1}return 0}}return e.sort(n),e};function D(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}var L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D([].concat.apply([],e))},R=function(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];if(!c(o)){Object(l.a)(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function B(e){if(r(e))return e[0]}function F(e){if(r(e)){return e[e.length-1]}}var z=function(e,t){return!(!Object(l.a)(e)&&!N(e))&&e[0]===t};var G=function(e,t){return!(!Object(l.a)(e)&&!N(e))&&e[e.length-1]===t},U=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},V=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},W=Object.prototype.hasOwnProperty;var Y=function(e,t){if(!t||!Object(l.a)(e))return{};for(var n,r={},i=u(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),W.call(r,n)?r[n].push(a):r[n]=[a]}return r};function X(e,t){if(!t)return{0:e};if(!u(t)){var n=Object(l.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Y(e,t)}var H=function(e,t){if(!t)return[e];var n=X(e,t),r=[];for(var i in n)r.push(n[i]);return r};var q=function(e,t){return e["_wrap_"+t]};var K=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},Z={};var Q=function(e){var t=Z[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,Z[e]=t}return t};var $=function(e){var t=0,n=0,r=0,i=0;return Object(l.a)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},J=function(e,t,n){return e<t?t:e>n?n:e},ee=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},te=function(e){return Object(s.a)(e,"Number")},ne=function(e){return te(e)&&e%1!==0},re=function(e){return te(e)&&e%2===0},ie=Number.isInteger?Number.isInteger:function(e){return te(e)&&e%1===0},oe=function(e){return te(e)&&e<0},ae=1e-5;function se(e,t,n){return void 0===n&&(n=ae),Math.abs(e-t)<n}var ue=function(e){return te(e)&&e%2!==0},ce=function(e){return te(e)&&e>0},le=function(e,t){if(Object(l.a)(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=u(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},fe=function(e,t){if(Object(l.a)(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=u(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},de=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ge=parseInt,ve=Math.PI/180,me=function(e){return ve*e},ye=d,be=function(e,t){return e.hasOwnProperty(t)},xe=be,_e=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return d(e,function(n,r){u(e)&&"prototype"===r||t.push(n)}),t},we=function(e,t){return i(_e(e),t)},Ee=function(e){return c(e)?"":e.toString()},Se=function(e){return Ee(e).toLowerCase()},Oe=function(e){var t=Ee(e);return t.charAt(0).toLowerCase()+t.substring(1)};var ke=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e},Me=function(e){return Ee(e).toUpperCase()},Ce=function(e){var t=Ee(e);return t.charAt(0).toUpperCase()+t.substring(1)},Ae={}.toString,je=function(e){return Ae.call(e).replace(/^\[object /,"").replace(/]$/,"")},Te=function(e){return Object(s.a)(e,"Arguments")},Ie=function(e){return Object(s.a)(e,"Boolean")},Ne=function(e){return Object(s.a)(e,"Date")},Pe=function(e){return Object(s.a)(e,"Error")},De=function(e){return te(e)&&isFinite(e)},Le=function(e){return null===e},Re=Object.prototype,Be=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||Re)},Fe=function(e){return Object(s.a)(e,"RegExp")},ze=function(e){return void 0===e},Ge=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ue(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ve(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function We(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function Ye(e,t,n,r){return t&&We(e,t),n&&We(e,n),r&&We(e,r),e}var Xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];u(i)&&(i=i.prototype),Ye(n.prototype,i)}},He=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(l.a)(t)){n=[];for(var r=0,i=t.length;r<i;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var o in n={},t)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o];return n};var qe=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}},Ke=function(e,t){if(!u(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},Ze=5;function Qe(e,t,n,r){for(var i in n=n||0,r=r||Ze,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&v(o)?(v(e[i])||(e[i]={}),n<r?Qe(e[i],o,n+1,r):e[i]=t[i]):Object(l.a)(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var $e=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)Qe(e,t[r]);return e},Je=function(e,t,n,r){u(t)||(n=t,t=e,e=function(){});var i=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},o=i(t.prototype,e);return e.prototype=Ye(o,e.prototype),e.superclass=i(t.prototype,t),Ye(o,n),Ye(e,r),e},et=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i},tt=Object.prototype.hasOwnProperty;var nt=function(e){if(c(e))return!0;if(r(e))return!e.length;var t=je(e);if("Map"===t||"Set"===t)return!e.size;if(Be(e))return!Object.keys(e).length;for(var n in e)if(tt.call(e,n))return!1;return!0},rt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(N(t)||N(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var i=!0,o=0;o<t.length&&(i=e(t[o],n[o]));o++);return i}if(g(t)||g(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=e(t[a[o]],n[a[o]]));o++);return i}return!1},it=function(e,t,n){return u(n)?!!n(e,t):rt(e,t)},ot=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(t(o,i))}return n},at=function(e){return e},st=function(e,t){void 0===t&&(t=at);var n={};return f(e)&&!c(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n},ut=function(e,t,n){for(var r=0,i=N(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},ct=function(e,t,n){var r=e,i=N(t)?t.split("."):t;return i.forEach(function(e,t){t<i.length-1?(f(r[e])||(r[e]=te(i[t+1])?[]:{}),r=r[e]):r[e]=n}),e},lt=Object.prototype.hasOwnProperty,ft=function(e,t){if(null===e||!v(e))return{};var n={};return d(t,function(t){lt.call(e,t)&&(n[t]=e[t])}),n},dt=function(e,t){return T(e,function(e,n,r){return t.includes(r)||(e[r]=n),e},{})},ht=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},pt=function(e){return r(e)?Array.prototype.slice.call(e):[]},gt={},vt=function(e){return gt[e=e||"g"]?gt[e]+=1:gt[e]=1,e+gt[e]},mt=function(){},yt=function(e){return e};function bt(e){return c(e)?0:r(e)?e.length:Object.keys(e).length}var xt,_t=n(2),wt=Ke(function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return xt||(xt=document.createElement("canvas").getContext("2d")),xt.font=[o,a,i,n+"px",r].join(" "),xt.measureText(N(e)?e:"").width},function(e,t){return void 0===t&&(t={}),Object(_t.__spreadArrays)([e],_e(t)).join("")}),Et=function(e,t,n,r){void 0===r&&(r="...");var i,o,a=wt(r,n),s=N(e)?e:Ee(e),u=t,c=[];if(wt(e,n)<=t)return e;for(;i=s.substr(0,16),!((o=wt(i,n))+a>u&&o>u);)if(c.push(i),u-=o,!(s=s.substr(16)))return c.join("");for(;i=s.substr(0,1),!((o=wt(i,n))+a>u);)if(c.push(i),u-=o,!(s=s.substr(1)))return c.join("");return""+c.join("")+r},St=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();n.d(t,"contains",function(){return i}),n.d(t,"includes",function(){return i}),n.d(t,"difference",function(){return a}),n.d(t,"find",function(){return m}),n.d(t,"findIndex",function(){return y}),n.d(t,"firstValue",function(){return b}),n.d(t,"flatten",function(){return x}),n.d(t,"flattenDeep",function(){return _}),n.d(t,"getRange",function(){return S}),n.d(t,"pull",function(){return C}),n.d(t,"pullAt",function(){return j}),n.d(t,"reduce",function(){return T}),n.d(t,"remove",function(){return I}),n.d(t,"sortBy",function(){return P}),n.d(t,"union",function(){return L}),n.d(t,"uniq",function(){return D}),n.d(t,"valuesOfKey",function(){return R}),n.d(t,"head",function(){return B}),n.d(t,"last",function(){return F}),n.d(t,"startsWith",function(){return z}),n.d(t,"endsWith",function(){return G}),n.d(t,"filter",function(){return o}),n.d(t,"every",function(){return U}),n.d(t,"some",function(){return V}),n.d(t,"group",function(){return H}),n.d(t,"groupBy",function(){return Y}),n.d(t,"groupToMap",function(){return X}),n.d(t,"getWrapBehavior",function(){return q}),n.d(t,"wrapBehavior",function(){return K}),n.d(t,"number2color",function(){return Q}),n.d(t,"parseRadius",function(){return $}),n.d(t,"clamp",function(){return J}),n.d(t,"fixedBase",function(){return ee}),n.d(t,"isDecimal",function(){return ne}),n.d(t,"isEven",function(){return re}),n.d(t,"isInteger",function(){return ie}),n.d(t,"isNegative",function(){return oe}),n.d(t,"isNumberEqual",function(){return se}),n.d(t,"isOdd",function(){return ue}),n.d(t,"isPositive",function(){return ce}),n.d(t,"max",function(){return w}),n.d(t,"maxBy",function(){return le}),n.d(t,"min",function(){return E}),n.d(t,"minBy",function(){return fe}),n.d(t,"mod",function(){return de}),n.d(t,"toDegree",function(){return pe}),n.d(t,"toInteger",function(){return ge}),n.d(t,"toRadian",function(){return me}),n.d(t,"forIn",function(){return ye}),n.d(t,"has",function(){return be}),n.d(t,"hasKey",function(){return xe}),n.d(t,"hasValue",function(){return we}),n.d(t,"keys",function(){return h}),n.d(t,"isMatch",function(){return p}),n.d(t,"values",function(){return _e}),n.d(t,"lowerCase",function(){return Se}),n.d(t,"lowerFirst",function(){return Oe}),n.d(t,"substitute",function(){return ke}),n.d(t,"upperCase",function(){return Me}),n.d(t,"upperFirst",function(){return Ce}),n.d(t,"getType",function(){return je}),n.d(t,"isArguments",function(){return Te}),n.d(t,"isArray",function(){return l.a}),n.d(t,"isArrayLike",function(){return r}),n.d(t,"isBoolean",function(){return Ie}),n.d(t,"isDate",function(){return Ne}),n.d(t,"isError",function(){return Pe}),n.d(t,"isFunction",function(){return u}),n.d(t,"isFinite",function(){return De}),n.d(t,"isNil",function(){return c}),n.d(t,"isNull",function(){return Le}),n.d(t,"isNumber",function(){return te}),n.d(t,"isObject",function(){return f}),n.d(t,"isObjectLike",function(){return g}),n.d(t,"isPlainObject",function(){return v}),n.d(t,"isPrototype",function(){return Be}),n.d(t,"isRegExp",function(){return Fe}),n.d(t,"isString",function(){return N}),n.d(t,"isType",function(){return s.a}),n.d(t,"isUndefined",function(){return ze}),n.d(t,"isElement",function(){return Ge}),n.d(t,"requestAnimationFrame",function(){return Ue}),n.d(t,"clearAnimationFrame",function(){return Ve}),n.d(t,"augment",function(){return Xe}),n.d(t,"clone",function(){return He}),n.d(t,"debounce",function(){return qe}),n.d(t,"memoize",function(){return Ke}),n.d(t,"deepMix",function(){return $e}),n.d(t,"each",function(){return d}),n.d(t,"extend",function(){return Je}),n.d(t,"indexOf",function(){return et}),n.d(t,"isEmpty",function(){return nt}),n.d(t,"isEqual",function(){return rt}),n.d(t,"isEqualWith",function(){return it}),n.d(t,"map",function(){return ot}),n.d(t,"mapValues",function(){return st}),n.d(t,"mix",function(){return Ye}),n.d(t,"assign",function(){return Ye}),n.d(t,"get",function(){return ut}),n.d(t,"set",function(){return ct}),n.d(t,"pick",function(){return ft}),n.d(t,"omit",function(){return dt}),n.d(t,"throttle",function(){return ht}),n.d(t,"toArray",function(){return pt}),n.d(t,"toString",function(){return Ee}),n.d(t,"uniqueId",function(){return vt}),n.d(t,"noop",function(){return mt}),n.d(t,"identity",function(){return yt}),n.d(t,"size",function(){return bt}),n.d(t,"measureTextWidth",function(){return wt}),n.d(t,"getEllipsisText",function(){return Et}),n.d(t,"Cache",function(){return St})},function(e,t,n){"use strict";e.exports=n(232)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__createBinding",function(){return d}),n.d(t,"__exportStar",function(){return h}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return g}),n.d(t,"__spread",function(){return v}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__spreadArray",function(){return y}),n.d(t,"__await",function(){return b}),n.d(t,"__asyncGenerator",function(){return x}),n.d(t,"__asyncDelegator",function(){return _}),n.d(t,"__asyncValues",function(){return w}),n.d(t,"__makeTemplateObject",function(){return E}),n.d(t,"__importStar",function(){return O}),n.d(t,"__importDefault",function(){return k}),n.d(t,"__classPrivateFieldGet",function(){return M}),n.d(t,"__classPrivateFieldSet",function(){return C}),n.d(t,"__classPrivateFieldIn",function(){return A});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"create",function(){return f}),n.d(r,"clone",function(){return d}),n.d(r,"copy",function(){return h}),n.d(r,"identity",function(){return p}),n.d(r,"fromValues",function(){return g}),n.d(r,"set",function(){return v}),n.d(r,"transpose",function(){return m}),n.d(r,"invert",function(){return y}),n.d(r,"adjoint",function(){return b}),n.d(r,"determinant",function(){return x}),n.d(r,"multiply",function(){return _}),n.d(r,"rotate",function(){return w}),n.d(r,"scale",function(){return E}),n.d(r,"fromRotation",function(){return S}),n.d(r,"fromScaling",function(){return O}),n.d(r,"str",function(){return k}),n.d(r,"frob",function(){return M}),n.d(r,"LDU",function(){return C}),n.d(r,"add",function(){return A}),n.d(r,"subtract",function(){return j}),n.d(r,"exactEquals",function(){return T}),n.d(r,"equals",function(){return I}),n.d(r,"multiplyScalar",function(){return N}),n.d(r,"multiplyScalarAndAdd",function(){return P}),n.d(r,"mul",function(){return D}),n.d(r,"sub",function(){return L});var i={};n.r(i),n.d(i,"create",function(){return R}),n.d(i,"clone",function(){return B}),n.d(i,"copy",function(){return F}),n.d(i,"identity",function(){return z}),n.d(i,"fromValues",function(){return G}),n.d(i,"set",function(){return U}),n.d(i,"invert",function(){return V}),n.d(i,"determinant",function(){return W}),n.d(i,"multiply",function(){return Y}),n.d(i,"rotate",function(){return X}),n.d(i,"scale",function(){return H}),n.d(i,"translate",function(){return q}),n.d(i,"fromRotation",function(){return K}),n.d(i,"fromScaling",function(){return Z}),n.d(i,"fromTranslation",function(){return Q}),n.d(i,"str",function(){return $}),n.d(i,"frob",function(){return J}),n.d(i,"add",function(){return ee}),n.d(i,"subtract",function(){return te}),n.d(i,"multiplyScalar",function(){return ne}),n.d(i,"multiplyScalarAndAdd",function(){return re}),n.d(i,"exactEquals",function(){return ie}),n.d(i,"equals",function(){return oe}),n.d(i,"mul",function(){return ae}),n.d(i,"sub",function(){return se});var o={};n.r(o),n.d(o,"create",function(){return ue}),n.d(o,"fromMat4",function(){return ce}),n.d(o,"clone",function(){return le}),n.d(o,"copy",function(){return fe}),n.d(o,"fromValues",function(){return de}),n.d(o,"set",function(){return he}),n.d(o,"identity",function(){return pe}),n.d(o,"transpose",function(){return ge}),n.d(o,"invert",function(){return ve}),n.d(o,"adjoint",function(){return me}),n.d(o,"determinant",function(){return ye}),n.d(o,"multiply",function(){return be}),n.d(o,"translate",function(){return xe}),n.d(o,"rotate",function(){return _e}),n.d(o,"scale",function(){return we}),n.d(o,"fromTranslation",function(){return Ee}),n.d(o,"fromRotation",function(){return Se}),n.d(o,"fromScaling",function(){return Oe}),n.d(o,"fromMat2d",function(){return ke}),n.d(o,"fromQuat",function(){return Me}),n.d(o,"normalFromMat4",function(){return Ce}),n.d(o,"projection",function(){return Ae}),n.d(o,"str",function(){return je}),n.d(o,"frob",function(){return Te}),n.d(o,"add",function(){return Ie}),n.d(o,"subtract",function(){return Ne}),n.d(o,"multiplyScalar",function(){return Pe}),n.d(o,"multiplyScalarAndAdd",function(){return De}),n.d(o,"exactEquals",function(){return Le}),n.d(o,"equals",function(){return Re}),n.d(o,"mul",function(){return Be}),n.d(o,"sub",function(){return Fe});var a={};n.r(a),n.d(a,"create",function(){return ze}),n.d(a,"clone",function(){return Ge}),n.d(a,"copy",function(){return Ue}),n.d(a,"fromValues",function(){return Ve}),n.d(a,"set",function(){return We}),n.d(a,"identity",function(){return Ye}),n.d(a,"transpose",function(){return Xe}),n.d(a,"invert",function(){return He}),n.d(a,"adjoint",function(){return qe}),n.d(a,"determinant",function(){return Ke}),n.d(a,"multiply",function(){return Ze}),n.d(a,"translate",function(){return Qe}),n.d(a,"scale",function(){return $e}),n.d(a,"rotate",function(){return Je}),n.d(a,"rotateX",function(){return et}),n.d(a,"rotateY",function(){return tt}),n.d(a,"rotateZ",function(){return nt}),n.d(a,"fromTranslation",function(){return rt}),n.d(a,"fromScaling",function(){return it}),n.d(a,"fromRotation",function(){return ot}),n.d(a,"fromXRotation",function(){return at}),n.d(a,"fromYRotation",function(){return st}),n.d(a,"fromZRotation",function(){return ut}),n.d(a,"fromRotationTranslation",function(){return ct}),n.d(a,"fromQuat2",function(){return lt}),n.d(a,"getTranslation",function(){return ft}),n.d(a,"getScaling",function(){return dt}),n.d(a,"getRotation",function(){return ht}),n.d(a,"fromRotationTranslationScale",function(){return pt}),n.d(a,"fromRotationTranslationScaleOrigin",function(){return gt}),n.d(a,"fromQuat",function(){return vt}),n.d(a,"frustum",function(){return mt}),n.d(a,"perspectiveNO",function(){return yt}),n.d(a,"perspective",function(){return bt}),n.d(a,"perspectiveZO",function(){return xt}),n.d(a,"perspectiveFromFieldOfView",function(){return _t}),n.d(a,"orthoNO",function(){return wt}),n.d(a,"ortho",function(){return Et}),n.d(a,"orthoZO",function(){return St}),n.d(a,"lookAt",function(){return Ot}),n.d(a,"targetTo",function(){return kt}),n.d(a,"str",function(){return Mt}),n.d(a,"frob",function(){return Ct}),n.d(a,"add",function(){return At}),n.d(a,"subtract",function(){return jt}),n.d(a,"multiplyScalar",function(){return Tt}),n.d(a,"multiplyScalarAndAdd",function(){return It}),n.d(a,"exactEquals",function(){return Nt}),n.d(a,"equals",function(){return Pt}),n.d(a,"mul",function(){return Dt}),n.d(a,"sub",function(){return Lt});var s={};n.r(s),n.d(s,"create",function(){return Bt}),n.d(s,"clone",function(){return Ft}),n.d(s,"fromValues",function(){return zt}),n.d(s,"copy",function(){return Gt}),n.d(s,"set",function(){return Ut}),n.d(s,"add",function(){return Vt}),n.d(s,"subtract",function(){return Wt}),n.d(s,"multiply",function(){return Yt}),n.d(s,"divide",function(){return Xt}),n.d(s,"ceil",function(){return Ht}),n.d(s,"floor",function(){return qt}),n.d(s,"min",function(){return Kt}),n.d(s,"max",function(){return Zt}),n.d(s,"round",function(){return Qt}),n.d(s,"scale",function(){return $t}),n.d(s,"scaleAndAdd",function(){return Jt}),n.d(s,"distance",function(){return en}),n.d(s,"squaredDistance",function(){return tn}),n.d(s,"length",function(){return nn}),n.d(s,"squaredLength",function(){return rn}),n.d(s,"negate",function(){return on}),n.d(s,"inverse",function(){return an}),n.d(s,"normalize",function(){return sn}),n.d(s,"dot",function(){return un}),n.d(s,"cross",function(){return cn}),n.d(s,"lerp",function(){return ln}),n.d(s,"random",function(){return fn}),n.d(s,"transformMat4",function(){return dn}),n.d(s,"transformQuat",function(){return hn}),n.d(s,"zero",function(){return pn}),n.d(s,"str",function(){return gn}),n.d(s,"exactEquals",function(){return vn}),n.d(s,"equals",function(){return mn}),n.d(s,"sub",function(){return yn}),n.d(s,"mul",function(){return bn}),n.d(s,"div",function(){return xn}),n.d(s,"dist",function(){return _n}),n.d(s,"sqrDist",function(){return wn}),n.d(s,"len",function(){return En}),n.d(s,"sqrLen",function(){return Sn}),n.d(s,"forEach",function(){return On});var u={};n.r(u),n.d(u,"create",function(){return kn}),n.d(u,"identity",function(){return Mn}),n.d(u,"setAxisAngle",function(){return Cn}),n.d(u,"getAxisAngle",function(){return An}),n.d(u,"getAngle",function(){return jn}),n.d(u,"multiply",function(){return Tn}),n.d(u,"rotateX",function(){return In}),n.d(u,"rotateY",function(){return Nn}),n.d(u,"rotateZ",function(){return Pn}),n.d(u,"calculateW",function(){return Dn}),n.d(u,"exp",function(){return Ln}),n.d(u,"ln",function(){return Rn}),n.d(u,"pow",function(){return Bn}),n.d(u,"slerp",function(){return Fn}),n.d(u,"random",function(){return zn}),n.d(u,"invert",function(){return Gn}),n.d(u,"conjugate",function(){return Un}),n.d(u,"fromMat3",function(){return Vn}),n.d(u,"fromEuler",function(){return Wn}),n.d(u,"str",function(){return Yn}),n.d(u,"clone",function(){return Xn}),n.d(u,"fromValues",function(){return Hn}),n.d(u,"copy",function(){return qn}),n.d(u,"set",function(){return Kn}),n.d(u,"add",function(){return Zn}),n.d(u,"mul",function(){return Qn}),n.d(u,"scale",function(){return $n}),n.d(u,"dot",function(){return Jn}),n.d(u,"lerp",function(){return er}),n.d(u,"length",function(){return tr}),n.d(u,"len",function(){return nr}),n.d(u,"squaredLength",function(){return rr}),n.d(u,"sqrLen",function(){return ir}),n.d(u,"normalize",function(){return or}),n.d(u,"exactEquals",function(){return ar}),n.d(u,"equals",function(){return sr}),n.d(u,"rotationTo",function(){return ur}),n.d(u,"sqlerp",function(){return cr}),n.d(u,"setAxes",function(){return lr});var c={};n.r(c),n.d(c,"create",function(){return fr}),n.d(c,"clone",function(){return dr}),n.d(c,"fromValues",function(){return hr}),n.d(c,"fromRotationTranslationValues",function(){return pr}),n.d(c,"fromRotationTranslation",function(){return gr}),n.d(c,"fromTranslation",function(){return vr}),n.d(c,"fromRotation",function(){return mr}),n.d(c,"fromMat4",function(){return yr}),n.d(c,"copy",function(){return br}),n.d(c,"identity",function(){return xr}),n.d(c,"set",function(){return _r}),n.d(c,"getReal",function(){return wr}),n.d(c,"getDual",function(){return Er}),n.d(c,"setReal",function(){return Sr}),n.d(c,"setDual",function(){return Or}),n.d(c,"getTranslation",function(){return kr}),n.d(c,"translate",function(){return Mr}),n.d(c,"rotateX",function(){return Cr}),n.d(c,"rotateY",function(){return Ar}),n.d(c,"rotateZ",function(){return jr}),n.d(c,"rotateByQuatAppend",function(){return Tr}),n.d(c,"rotateByQuatPrepend",function(){return Ir}),n.d(c,"rotateAroundAxis",function(){return Nr}),n.d(c,"add",function(){return Pr}),n.d(c,"multiply",function(){return Dr}),n.d(c,"mul",function(){return Lr}),n.d(c,"scale",function(){return Rr}),n.d(c,"dot",function(){return Br}),n.d(c,"lerp",function(){return Fr}),n.d(c,"invert",function(){return zr}),n.d(c,"conjugate",function(){return Gr}),n.d(c,"length",function(){return Ur}),n.d(c,"len",function(){return Vr}),n.d(c,"squaredLength",function(){return Wr}),n.d(c,"sqrLen",function(){return Yr}),n.d(c,"normalize",function(){return Xr}),n.d(c,"str",function(){return Hr}),n.d(c,"exactEquals",function(){return qr}),n.d(c,"equals",function(){return Kr});var l=n(8);function f(){var e=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function d(e){var t=new l.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function p(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function g(e,t,n,r){var i=new l.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function v(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function m(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function y(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null}function b(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function x(e){return e[0]*e[3]-e[2]*e[1]}function _(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*s+o*u,e[1]=i*s+a*u,e[2]=r*c+o*l,e[3]=i*c+a*l,e}function w(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e}function E(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*u,e[3]=a*u,e}function S(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function O(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function k(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function M(e){return Math.hypot(e[0],e[1],e[2],e[3])}function C(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function A(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function j(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function T(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function I(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-a)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function N(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function P(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}var D=_,L=j;function R(){var e=new l.ARRAY_TYPE(6);return l.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function B(e){var t=new l.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function F(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function z(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function G(e,t,n,r,i,o){var a=new l.ARRAY_TYPE(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function U(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e}function V(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=n*o-r*i;return u?(u=1/u,e[0]=o*u,e[1]=-r*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-o*a)*u,e[5]=(r*a-n*s)*u,e):null}function W(e){return e[0]*e[3]-e[1]*e[2]}function Y(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return e[0]=r*c+o*l,e[1]=i*c+a*l,e[2]=r*f+o*d,e[3]=i*f+a*d,e[4]=r*h+o*p+s,e[5]=i*h+a*p+u,e}function X(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*c,e[1]=i*l+a*c,e[2]=r*-c+o*l,e[3]=i*-c+a*l,e[4]=s,e[5]=u,e}function H(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r*c,e[1]=i*c,e[2]=o*l,e[3]=a*l,e[4]=s,e[5]=u,e}function q(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=r*c+o*l+s,e[5]=i*c+a*l+u,e}function K(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function Z(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function Q(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function $(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function J(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ee(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function te(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function ne(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function re(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function ie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function oe(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=t[0],c=t[1],f=t[2],d=t[3],h=t[4],p=t[5];return Math.abs(n-u)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-f)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-h)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-p)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))}var ae=Y,se=te;function ue(){var e=new l.ARRAY_TYPE(9);return l.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ce(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function le(e){var t=new l.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function fe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function de(e,t,n,r,i,o,a,s,u){var c=new l.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c}function he(e,t,n,r,i,o,a,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function pe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ge(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function ve(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,d=-l*o+s*u,h=c*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(l*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function me(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=i*c-r*l,e[2]=r*s-i*a,e[3]=s*u-o*l,e[4]=n*l-i*u,e[5]=i*o-n*s,e[6]=o*c-a*u,e[7]=r*u-n*c,e[8]=n*a-r*o,e}function ye(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)}function be(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+h*a+p*c,e[1]=d*i+h*s+p*l,e[2]=d*o+h*u+p*f,e[3]=g*r+v*a+m*c,e[4]=g*i+v*s+m*l,e[5]=g*o+v*u+m*f,e[6]=y*r+b*a+x*c,e[7]=y*i+b*s+x*l,e[8]=y*o+b*u+x*f,e}function xe(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+c,e[7]=d*i+h*s+l,e[8]=d*o+h*u+f,e}function _e(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*i+d*s,e[2]=h*o+d*u,e[3]=h*a-d*r,e[4]=h*s-d*i,e[5]=h*u-d*o,e[6]=c,e[7]=l,e[8]=f,e}function we(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ee(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Se(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Oe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Me(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[3]=l-m,e[6]=d+v,e[1]=l+m,e[4]=1-c-p,e[7]=h-g,e[2]=d-v,e[5]=h+g,e[8]=1-c-f,e}function Ce(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*c-o*a,_=r*u-i*s,w=r*c-o*s,E=i*c-o*u,S=l*g-f*p,O=l*v-d*p,k=l*m-h*p,M=f*v-d*g,C=f*m-h*g,A=d*m-h*v,j=y*A-b*C+x*M+_*k-w*O+E*S;return j?(j=1/j,e[0]=(s*A-u*C+c*M)*j,e[1]=(u*k-a*A-c*O)*j,e[2]=(a*C-s*k+c*S)*j,e[3]=(i*C-r*A-o*M)*j,e[4]=(n*A-i*k+o*O)*j,e[5]=(r*k-n*C-o*S)*j,e[6]=(g*E-v*w+m*_)*j,e[7]=(v*x-p*E-m*b)*j,e[8]=(p*w-g*x+m*y)*j,e):null}function Ae(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function je(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Te(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function Ie(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ne(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Pe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function De(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function Le(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Re(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-d)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-h)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-v)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-m)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-y)<=l.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=l.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))}var Be=be,Fe=Ne;function ze(){var e=new l.ARRAY_TYPE(16);return l.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ge(e){var t=new l.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ue(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ve(e,t,n,r,i,o,a,s,u,c,f,d,h,p,g,v){var m=new l.ARRAY_TYPE(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=s,m[8]=u,m[9]=c,m[10]=f,m[11]=d,m[12]=h,m[13]=p,m[14]=g,m[15]=v,m}function We(e,t,n,r,i,o,a,s,u,c,l,f,d,h,p,g,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=g,e[15]=v,e}function Ye(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Xe(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function He(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*c-o*a,_=r*u-i*s,w=r*c-o*s,E=i*c-o*u,S=l*g-f*p,O=l*v-d*p,k=l*m-h*p,M=f*v-d*g,C=f*m-h*g,A=d*m-h*v,j=y*A-b*C+x*M+_*k-w*O+E*S;return j?(j=1/j,e[0]=(s*A-u*C+c*M)*j,e[1]=(i*C-r*A-o*M)*j,e[2]=(g*E-v*w+m*_)*j,e[3]=(d*w-f*E-h*_)*j,e[4]=(u*k-a*A-c*O)*j,e[5]=(n*A-i*k+o*O)*j,e[6]=(v*x-p*E-m*b)*j,e[7]=(l*E-d*x+h*b)*j,e[8]=(a*C-s*k+c*S)*j,e[9]=(r*k-n*C-o*S)*j,e[10]=(p*w-g*x+m*y)*j,e[11]=(f*x-l*w-h*y)*j,e[12]=(s*O-a*M-u*S)*j,e[13]=(n*M-r*O+i*S)*j,e[14]=(g*b-p*_-v*y)*j,e[15]=(l*_-f*b+d*y)*j,e):null}function qe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15];return e[0]=s*(d*m-h*v)-f*(u*m-c*v)+g*(u*h-c*d),e[1]=-(r*(d*m-h*v)-f*(i*m-o*v)+g*(i*h-o*d)),e[2]=r*(u*m-c*v)-s*(i*m-o*v)+g*(i*c-o*u),e[3]=-(r*(u*h-c*d)-s*(i*h-o*d)+f*(i*c-o*u)),e[4]=-(a*(d*m-h*v)-l*(u*m-c*v)+p*(u*h-c*d)),e[5]=n*(d*m-h*v)-l*(i*m-o*v)+p*(i*h-o*d),e[6]=-(n*(u*m-c*v)-a*(i*m-o*v)+p*(i*c-o*u)),e[7]=n*(u*h-c*d)-a*(i*h-o*d)+l*(i*c-o*u),e[8]=a*(f*m-h*g)-l*(s*m-c*g)+p*(s*h-c*f),e[9]=-(n*(f*m-h*g)-l*(r*m-o*g)+p*(r*h-o*f)),e[10]=n*(s*m-c*g)-a*(r*m-o*g)+p*(r*c-o*s),e[11]=-(n*(s*h-c*f)-a*(r*h-o*f)+l*(r*c-o*s)),e[12]=-(a*(f*v-d*g)-l*(s*v-u*g)+p*(s*d-u*f)),e[13]=n*(f*v-d*g)-l*(r*v-i*g)+p*(r*d-i*f),e[14]=-(n*(s*v-u*g)-a*(r*v-i*g)+p*(r*u-i*s)),e[15]=n*(s*d-u*f)-a*(r*d-i*f)+l*(r*u-i*s),e}function Ke(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],g=e[14],v=e[15];return(t*a-n*o)*(f*v-d*g)-(t*s-r*o)*(l*v-d*p)+(t*u-i*o)*(l*g-f*p)+(n*s-r*a)*(c*v-d*h)-(n*u-i*a)*(c*g-f*h)+(r*u-i*s)*(c*p-l*h)}function Ze(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*g,e[1]=b*i+x*u+_*d+w*v,e[2]=b*o+x*c+_*h+w*m,e[3]=b*a+x*l+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*g,e[5]=b*i+x*u+_*d+w*v,e[6]=b*o+x*c+_*h+w*m,e[7]=b*a+x*l+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*g,e[9]=b*i+x*u+_*d+w*v,e[10]=b*o+x*c+_*h+w*m,e[11]=b*a+x*l+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*g,e[13]=b*i+x*u+_*d+w*v,e[14]=b*o+x*c+_*h+w*m,e[15]=b*a+x*l+_*p+w*y,e}function Qe(e,t,n){var r,i,o,a,s,u,c,l,f,d,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*g+s*v+f*m+t[12],e[13]=i*g+u*v+d*m+t[13],e[14]=o*g+c*v+h*m+t[14],e[15]=a*g+l*v+p*m+t[15]),e}function $e(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Je(e,t,n,r){var i,o,a,s,u,c,f,d,h,p,g,v,m,y,b,x,_,w,E,S,O,k,M,C,A=r[0],j=r[1],T=r[2],I=Math.hypot(A,j,T);return I<l.EPSILON?null:(A*=I=1/I,j*=I,T*=I,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],u=t[1],c=t[2],f=t[3],d=t[4],h=t[5],p=t[6],g=t[7],v=t[8],m=t[9],y=t[10],b=t[11],x=A*A*a+o,_=j*A*a+T*i,w=T*A*a-j*i,E=A*j*a-T*i,S=j*j*a+o,O=T*j*a+A*i,k=A*T*a+j*i,M=j*T*a-A*i,C=T*T*a+o,e[0]=s*x+d*_+v*w,e[1]=u*x+h*_+m*w,e[2]=c*x+p*_+y*w,e[3]=f*x+g*_+b*w,e[4]=s*E+d*S+v*O,e[5]=u*E+h*S+m*O,e[6]=c*E+p*S+y*O,e[7]=f*E+g*S+b*O,e[8]=s*k+d*M+v*C,e[9]=u*k+h*M+m*C,e[10]=c*k+p*M+y*C,e[11]=f*k+g*M+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function et(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=f*i-s*r,e[11]=d*i-u*r,e}function tt(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-l*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=o*r+c*i,e[9]=a*r+l*i,e[10]=s*r+f*i,e[11]=u*r+d*i,e}function nt(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+l*r,e[2]=s*i+f*r,e[3]=u*i+d*r,e[4]=c*i-o*r,e[5]=l*i-a*r,e[6]=f*i-s*r,e[7]=d*i-u*r,e}function rt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function it(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ot(e,t,n){var r,i,o,a=n[0],s=n[1],u=n[2],c=Math.hypot(a,s,u);return c<l.EPSILON?null:(a*=c=1/c,s*=c,u*=c,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+u*r,e[2]=u*a*o-s*r,e[3]=0,e[4]=a*s*o-u*r,e[5]=s*s*o+i,e[6]=u*s*o+a*r,e[7]=0,e[8]=a*u*o+s*r,e[9]=s*u*o-a*r,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function at(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function st(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ut(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ct(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,c=o+o,l=r*s,f=r*u,d=r*c,h=i*u,p=i*c,g=o*c,v=a*s,m=a*u,y=a*c;return e[0]=1-(h+g),e[1]=f+y,e[2]=d-m,e[3]=0,e[4]=f-y,e[5]=1-(l+g),e[6]=p+v,e[7]=0,e[8]=d+m,e[9]=p-v,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function lt(e,t){var n=new l.ARRAY_TYPE(3),r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+f*r+u*o-c*i)/d,n[1]=2*(u*a+f*i+c*r-s*o)/d,n[2]=2*(c*a+f*o+s*i-u*r)/d):(n[0]=2*(s*a+f*r+u*o-c*i),n[1]=2*(u*a+f*i+c*r-s*o),n[2]=2*(c*a+f*o+s*i-u*r)),ct(e,t,n),e}function ft(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function dt(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,l),e}function ht(e,t){var n=new l.ARRAY_TYPE(3);dt(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,c=t[4]*r,f=t[5]*i,d=t[6]*o,h=t[8]*r,p=t[9]*i,g=t[10]*o,v=a+f+g,m=0;return v>0?(m=2*Math.sqrt(v+1),e[3]=.25*m,e[0]=(d-p)/m,e[1]=(h-u)/m,e[2]=(s-c)/m):a>f&&a>g?(m=2*Math.sqrt(1+a-f-g),e[3]=(d-p)/m,e[0]=.25*m,e[1]=(s+c)/m,e[2]=(h+u)/m):f>g?(m=2*Math.sqrt(1+f-a-g),e[3]=(h-u)/m,e[0]=(s+c)/m,e[1]=.25*m,e[2]=(d+p)/m):(m=2*Math.sqrt(1+g-a-f),e[3]=(s-c)/m,e[0]=(h+u)/m,e[1]=(d+p)/m,e[2]=.25*m),e}function pt(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,c=o+o,l=a+a,f=i*u,d=i*c,h=i*l,p=o*c,g=o*l,v=a*l,m=s*u,y=s*c,b=s*l,x=r[0],_=r[1],w=r[2];return e[0]=(1-(p+v))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*_,e[5]=(1-(f+v))*_,e[6]=(g+m)*_,e[7]=0,e[8]=(h+y)*w,e[9]=(g-m)*w,e[10]=(1-(f+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function gt(e,t,n,r,i){var o=t[0],a=t[1],s=t[2],u=t[3],c=o+o,l=a+a,f=s+s,d=o*c,h=o*l,p=o*f,g=a*l,v=a*f,m=s*f,y=u*c,b=u*l,x=u*f,_=r[0],w=r[1],E=r[2],S=i[0],O=i[1],k=i[2],M=(1-(g+m))*_,C=(h+x)*_,A=(p-b)*_,j=(h-x)*w,T=(1-(d+m))*w,I=(v+y)*w,N=(p+b)*E,P=(v-y)*E,D=(1-(d+g))*E;return e[0]=M,e[1]=C,e[2]=A,e[3]=0,e[4]=j,e[5]=T,e[6]=I,e[7]=0,e[8]=N,e[9]=P,e[10]=D,e[11]=0,e[12]=n[0]+S-(M*S+j*O+N*k),e[13]=n[1]+O-(C*S+T*O+P*k),e[14]=n[2]+k-(A*S+I*O+D*k),e[15]=1,e}function vt(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[1]=l+m,e[2]=d-v,e[3]=0,e[4]=l-m,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mt(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function yt(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}var bt=yt;function xt(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e}function _t(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function wt(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e}var Et=wt;function St(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=o*c,e[15]=1,e}function Ot(e,t,n,r){var i,o,a,s,u,c,f,d,h,p,g=t[0],v=t[1],m=t[2],y=r[0],b=r[1],x=r[2],_=n[0],w=n[1],E=n[2];return Math.abs(g-_)<l.EPSILON&&Math.abs(v-w)<l.EPSILON&&Math.abs(m-E)<l.EPSILON?Ye(e):(f=g-_,d=v-w,h=m-E,i=b*(h*=p=1/Math.hypot(f,d,h))-x*(d*=p),o=x*(f*=p)-y*h,a=y*d-b*f,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=d*a-h*o,u=h*i-f*a,c=f*o-d*i,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*g+o*v+a*m),e[13]=-(s*g+u*v+c*m),e[14]=-(f*g+d*v+h*m),e[15]=1,e)}function kt(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=r[0],u=r[1],c=r[2],l=i-n[0],f=o-n[1],d=a-n[2],h=l*l+f*f+d*d;h>0&&(l*=h=1/Math.sqrt(h),f*=h,d*=h);var p=u*d-c*f,g=c*l-s*d,v=s*f-u*l;return(h=p*p+g*g+v*v)>0&&(p*=h=1/Math.sqrt(h),g*=h,v*=h),e[0]=p,e[1]=g,e[2]=v,e[3]=0,e[4]=f*v-d*g,e[5]=d*p-l*v,e[6]=l*g-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function Mt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ct(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function At(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function jt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Tt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function It(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Nt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Pt(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],d=e[9],h=e[10],p=e[11],g=e[12],v=e[13],m=e[14],y=e[15],b=t[0],x=t[1],_=t[2],w=t[3],E=t[4],S=t[5],O=t[6],k=t[7],M=t[8],C=t[9],A=t[10],j=t[11],T=t[12],I=t[13],N=t[14],P=t[15];return Math.abs(n-b)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-_)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-E)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-S)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-O)<=l.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(c-k)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-M)<=l.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(d-C)<=l.EPSILON*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(h-A)<=l.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-j)<=l.EPSILON*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(g-T)<=l.EPSILON*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(v-I)<=l.EPSILON*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(m-N)<=l.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(y-P)<=l.EPSILON*Math.max(1,Math.abs(y),Math.abs(P))}var Dt=Ze,Lt=jt,Rt=n(50);function Bt(){var e=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ft(e){var t=new l.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function zt(e,t,n,r){var i=new l.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Gt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ut(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Vt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Wt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Yt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Xt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Ht(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function qt(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Kt(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Zt(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Qt(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function $t(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Jt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function en(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function tn(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function nn(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function rn(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function on(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function an(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function sn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e}function un(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function cn(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=t[0],f=t[1],d=t[2],h=t[3];return e[0]=f*c-d*u+h*s,e[1]=-l*c+d*a-h*o,e[2]=l*u-f*a+h*i,e[3]=-l*s+f*o-d*i,e}function ln(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}function fn(e,t){var n,r,i,o,a,s;t=t||1;do{a=(n=2*l.RANDOM()-1)*n+(r=2*l.RANDOM()-1)*r}while(a>=1);do{s=(i=2*l.RANDOM()-1)*i+(o=2*l.RANDOM()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*i*u,e[3]=t*o*u,e}function dn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function hn(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*o-u*i,f=c*i+u*r-a*o,d=c*o+a*i-s*r,h=-a*r-s*i-u*o;return e[0]=l*c+h*-a+f*-u-d*-s,e[1]=f*c+h*-s+d*-a-l*-u,e[2]=d*c+h*-u+l*-s-f*-a,e[3]=t[3],e}function pn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function gn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function vn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function mn(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-a)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var yn=Wt,bn=Yt,xn=Xt,_n=en,wn=tn,En=nn,Sn=rn,On=function(){var e=Bt();return function(t,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function kn(){var e=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Mn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Cn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function An(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>l.EPSILON?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function jn(e,t){var n=Jn(e,t);return Math.acos(2*n*n-1)}function Tn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-r*c,e[2]=o*l+a*c+r*u-i*s,e[3]=a*l-r*s-i*u-o*c,e}function In(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s,e}function Nn(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s,e}function Pn(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}function Dn(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function Ln(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),u=a>0?s*Math.sin(a)/a:0;return e[0]=n*u,e[1]=r*u,e[2]=i*u,e[3]=s*Math.cos(a),e}function Rn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=.5*Math.log(n*n+r*r+i*i+o*o),e}function Bn(e,t,n){return Rn(e,t),$n(e,e,n),Ln(e,e),e}function Fn(e,t,n,r){var i,o,a,s,u,c=t[0],f=t[1],d=t[2],h=t[3],p=n[0],g=n[1],v=n[2],m=n[3];return(o=c*p+f*g+d*v+h*m)<0&&(o=-o,p=-p,g=-g,v=-v,m=-m),1-o>l.EPSILON?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*c+u*p,e[1]=s*f+u*g,e[2]=s*d+u*v,e[3]=s*h+u*m,e}function zn(e){var t=l.RANDOM(),n=l.RANDOM(),r=l.RANDOM(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e}function Gn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Un(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Vn(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}function Wn(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=o*u*l-a*s*c,e[1]=a*s*l+o*u*c,e[2]=a*u*c-o*s*l,e[3]=a*u*l+o*s*c,e}function Yn(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Xn=Ft,Hn=zt,qn=Gt,Kn=Ut,Zn=Vt,Qn=Tn,$n=$t,Jn=un,er=ln,tr=nn,nr=tr,rr=rn,ir=rr,or=sn,ar=vn,sr=mn,ur=function(){var e=Rt.create(),t=Rt.fromValues(1,0,0),n=Rt.fromValues(0,1,0);return function(r,i,o){var a=Rt.dot(i,o);return a<-.999999?(Rt.cross(e,t,i),Rt.len(e)<1e-6&&Rt.cross(e,n,i),Rt.normalize(e,e),Cn(r,e,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Rt.cross(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+a,or(r,r))}}(),cr=function(){var e=kn(),t=kn();return function(n,r,i,o,a,s){return Fn(e,r,a,s),Fn(t,i,o,s),Fn(n,e,t,2*s*(1-s)),n}}(),lr=function(){var e=ue();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],or(t,Vn(t,e))}}();function fr(){var e=new l.ARRAY_TYPE(8);return l.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function dr(e){var t=new l.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function hr(e,t,n,r,i,o,a,s){var u=new l.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u}function pr(e,t,n,r,i,o,a){var s=new l.ARRAY_TYPE(8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var u=.5*i,c=.5*o,f=.5*a;return s[4]=u*r+c*n-f*t,s[5]=c*r+f*e-u*n,s[6]=f*r+u*t-c*e,s[7]=-u*e-c*t-f*n,s}function gr(e,t,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=t[0],s=t[1],u=t[2],c=t[3];return e[0]=a,e[1]=s,e[2]=u,e[3]=c,e[4]=r*c+i*u-o*s,e[5]=i*c+o*a-r*u,e[6]=o*c+r*s-i*a,e[7]=-r*a-i*s-o*u,e}function vr(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function mr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function yr(e,t){var n=kn();ht(n,t);var r=new l.ARRAY_TYPE(3);return ft(r,t),gr(e,n,r),e}function br(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function xr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function _r(e,t,n,r,i,o,a,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e}var wr=qn;function Er(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Sr=qn;function Or(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function kr(e,t){var n=t[4],r=t[5],i=t[6],o=t[7],a=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(n*c+o*a+r*u-i*s),e[1]=2*(r*c+o*s+i*a-n*u),e[2]=2*(i*c+o*u+n*s-r*a),e}function Mr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],l=t[4],f=t[5],d=t[6],h=t[7];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=a*s+i*c-o*u+l,e[5]=a*u+o*s-r*c+f,e[6]=a*c+r*u-i*s+d,e[7]=-r*s-i*u-o*c+h,e}function Cr(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*a+l*r+u*o-c*i,d=u*a+l*i+c*r-s*o,h=c*a+l*o+s*i-u*r,p=l*a-s*r-u*i-c*o;return In(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+p*r+d*o-h*i,e[5]=d*a+p*i+h*r-f*o,e[6]=h*a+p*o+f*i-d*r,e[7]=p*a-f*r-d*i-h*o,e}function Ar(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*a+l*r+u*o-c*i,d=u*a+l*i+c*r-s*o,h=c*a+l*o+s*i-u*r,p=l*a-s*r-u*i-c*o;return Nn(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+p*r+d*o-h*i,e[5]=d*a+p*i+h*r-f*o,e[6]=h*a+p*o+f*i-d*r,e[7]=p*a-f*r-d*i-h*o,e}function jr(e,t,n){var r=-t[0],i=-t[1],o=-t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*a+l*r+u*o-c*i,d=u*a+l*i+c*r-s*o,h=c*a+l*o+s*i-u*r,p=l*a-s*r-u*i-c*o;return Pn(e,t,n),r=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+p*r+d*o-h*i,e[5]=d*a+p*i+h*r-f*o,e[6]=h*a+p*o+f*i-d*r,e[7]=p*a-f*r-d*i-h*o,e}function Tr(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=t[3];return e[0]=s*a+l*r+u*o-c*i,e[1]=u*a+l*i+c*r-s*o,e[2]=c*a+l*o+s*i-u*r,e[3]=l*a-s*r-u*i-c*o,s=t[4],u=t[5],c=t[6],l=t[7],e[4]=s*a+l*r+u*o-c*i,e[5]=u*a+l*i+c*r-s*o,e[6]=c*a+l*o+s*i-u*r,e[7]=l*a-s*r-u*i-c*o,e}function Ir(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-r*c,e[2]=o*l+a*c+r*u-i*s,e[3]=a*l-r*s-i*u-o*c,s=n[4],u=n[5],c=n[6],l=n[7],e[4]=r*l+a*s+i*c-o*u,e[5]=i*l+a*u+o*s-r*c,e[6]=o*l+a*c+r*u-i*s,e[7]=a*l-r*s-i*u-o*c,e}function Nr(e,t,n,r){if(Math.abs(r)<l.EPSILON)return br(e,t);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),a=o*n[0]/i,s=o*n[1]/i,u=o*n[2]/i,c=Math.cos(r),f=t[0],d=t[1],h=t[2],p=t[3];e[0]=f*c+p*a+d*u-h*s,e[1]=d*c+p*s+h*a-f*u,e[2]=h*c+p*u+f*s-d*a,e[3]=p*c-f*a-d*s-h*u;var g=t[4],v=t[5],m=t[6],y=t[7];return e[4]=g*c+y*a+v*u-m*s,e[5]=v*c+y*s+m*a-g*u,e[6]=m*c+y*u+g*s-v*a,e[7]=y*c-g*a-v*s-m*u,e}function Pr(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Dr(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[4],u=n[5],c=n[6],l=n[7],f=t[4],d=t[5],h=t[6],p=t[7],g=n[0],v=n[1],m=n[2],y=n[3];return e[0]=r*y+a*g+i*m-o*v,e[1]=i*y+a*v+o*g-r*m,e[2]=o*y+a*m+r*v-i*g,e[3]=a*y-r*g-i*v-o*m,e[4]=r*l+a*s+i*c-o*u+f*y+p*g+d*m-h*v,e[5]=i*l+a*u+o*s-r*c+d*y+p*v+h*g-f*m,e[6]=o*l+a*c+r*u-i*s+h*y+p*m+f*v-d*g,e[7]=a*l-r*s-i*u-o*c+p*y-f*g-d*v-h*m,e}var Lr=Dr;function Rr(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Br=Jn;function Fr(e,t,n,r){var i=1-r;return Br(t,n)<0&&(r=-r),e[0]=t[0]*i+n[0]*r,e[1]=t[1]*i+n[1]*r,e[2]=t[2]*i+n[2]*r,e[3]=t[3]*i+n[3]*r,e[4]=t[4]*i+n[4]*r,e[5]=t[5]*i+n[5]*r,e[6]=t[6]*i+n[6]*r,e[7]=t[7]*i+n[7]*r,e}function zr(e,t){var n=Wr(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Gr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ur=tr,Vr=Ur,Wr=rr,Yr=Wr;function Xr(e,t){var n=Wr(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,i=t[1]/n,o=t[2]/n,a=t[3]/n,s=t[4],u=t[5],c=t[6],l=t[7],f=r*s+i*u+o*c+a*l;e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=(s-r*f)/n,e[5]=(u-i*f)/n,e[6]=(c-o*f)/n,e[7]=(l-a*f)/n}return e}function Hr(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function qr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Kr(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=t[0],d=t[1],h=t[2],p=t[3],g=t[4],v=t[5],m=t[6],y=t[7];return Math.abs(n-f)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-h)<=l.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=l.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=l.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=l.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=l.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=l.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))}var Zr=n(80);n.d(t,"glMatrix",function(){return l}),n.d(t,"mat2",function(){return r}),n.d(t,"mat2d",function(){return i}),n.d(t,"mat3",function(){return o}),n.d(t,"mat4",function(){return a}),n.d(t,"quat",function(){return u}),n.d(t,"quat2",function(){return c}),n.d(t,"vec2",function(){return Zr}),n.d(t,"vec3",function(){return Rt}),n.d(t,"vec4",function(){return s})},function(e,t,n){"use strict";n.d(t,"AST_TOKEN_TYPES",function(){return f}),n.d(t,"STORAGE_CLASS",function(){return h}),n.d(t,"Target",function(){return p}),n.d(t,"DefineValuePlaceholder",function(){return v});n(169),n(34),n(110),n(112),n(97),n(98),n(99),n(100),n(101),n(102),n(73),n(104),n(105),n(106),n(107);var r=n(96);n.d(t,"createEntity",function(){return r.b});var i=n(15);n.d(t,"IDENTIFIER",function(){return i.a});var o=n(51);n.d(t,"createWorldContainer",function(){return o.a});var a=n(178);n.d(t,"generateAABBFromVertices",function(){return a.a});var s=n(179);n.d(t,"isSafari",function(){return s.a});n(216);var u=n(217);n.d(t,"AABB",function(){return u.a}),n.d(t,"Frustum",function(){return u.b});var c=n(92);n.o(c,"gl")&&n.d(t,"gl",function(){return c.gl});var l=n(191);n.o(l,"gl")&&n.d(t,"gl",function(){return l.gl});var f,d,h,p,g=n(192);n.o(g,"gl")&&n.d(t,"gl",function(){return g.gl}),n.o(c,"gl")&&n.d(t,"gl",function(){return c.gl}),function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(f||(f={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(d||(d={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(h||(h={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(p||(p={}));var v="__DefineValuePlaceholder__"},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n(42);t.METADATA_KEY=r;var i=n(318);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n(64);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var a=n(334);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var s=n(335);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var u=n(336);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return u.tagged}});var c=n(337);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return c.named}});var l=n(174);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var f=n(338);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var d=n(339);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return d.unmanaged}});var h=n(340);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return h.multiInject}});var p=n(341);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return p.targetName}});var g=n(342);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var v=n(172);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return v.MetadataReader}});var m=n(72);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return m.id}});var y=n(68);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return y.decorate}});var b=n(177);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var x=n(85);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return x.getServiceIdentifierAsString}});var _=n(343);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return _.multiBindToService}})},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t),n.d(t,"EPSILON",function(){return r}),n.d(t,"ARRAY_TYPE",function(){return i}),n.d(t,"RANDOM",function(){return o}),n.d(t,"setMatrixArrayType",function(){return a}),n.d(t,"toRadian",function(){return u}),n.d(t,"equals",function(){return c});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;function a(e){i=e}var s=Math.PI/180;function u(e){return e*s}function c(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TextureCompressionBC="texture-compression-bc"}(t.ExtensionName||(t.ExtensionName={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.AddressMode||(t.AddressMode={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.BindingType||(t.BindingType={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.BlendFactor||(t.BlendFactor={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.BlendOperation||(t.BlendOperation={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.CompareFunction||(t.CompareFunction={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.CullMode||(t.CullMode={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.FilterMode||(t.FilterMode={})),function(e){e.CCW="ccw",e.CW="cw"}(t.FrontFace||(t.FrontFace={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.IndexFormat||(t.IndexFormat={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.InputStepMode||(t.InputStepMode={})),function(e){e.Load="load"}(t.LoadOp||(t.LoadOp={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.PrimitiveTopology||(t.PrimitiveTopology={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.StencilOperation||(t.StencilOperation={})),function(e){e.Store="store",e.Clear="clear"}(t.StoreOp||(t.StoreOp={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.TextureDimension||(t.TextureDimension={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.TextureFormat||(t.TextureFormat={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.TextureComponentType||(t.TextureComponentType={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.TextureViewDimension||(t.TextureViewDimension={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.VertexFormat||(t.VertexFormat={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.TextureAspect||(t.TextureAspect={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.CompilationMessageType||(t.CompilationMessageType={})),function(e){e.Occlusion="occlusion"}(t.QueryType||(t.QueryType={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.BufferUsage||(t.BufferUsage={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.ColorWrite||(t.ColorWrite={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.ShaderStage||(t.ShaderStage={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.TextureUsage||(t.TextureUsage={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.MapMode||(t.MapMode={}))},function(e,t,n){"use strict";e.exports=n(242)},function(e,t,n){e.exports=n(314)},function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(65);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",function(){return r})},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}"undefined"!==typeof e&&e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(94);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return o})},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n(16);var r=n(1);n(11);n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l});var i=["xxl","xl","lg","md","sm","xs"],o="xs",a=r.createContext({prefixes:{},breakpoints:i,minBreakpoint:o});a.Consumer,a.Provider;function s(e,t){var n=Object(r.useContext)(a).prefixes;return e||n[t]||t}function u(){return Object(r.useContext)(a).breakpoints}function c(){return Object(r.useContext)(a).minBreakpoint}function l(){return"rtl"===Object(r.useContext)(a).dir}},function(e,t,n){"use strict";var r=n(38);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(145);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(148),t)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(344);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(45).default,i=n(28);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var r=n(12),i=n.n(r),o=n(18),a=n.n(o),s=n(9),u=n.n(s),c=n(7),l=n.n(c),f=n(96),d=function e(t){l()(this,e)},h=function(){function e(t){l()(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return u()(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return f.a}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=a()(i.a.mark(function e(t){var n,r,o,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return o=r[n],a=Number(o),s=this.lookup[a],e.next=7,t(a,this.getComponent(s));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}()},function(e,t,n){var r=n(346),i=n(347),o=n(170),a=n(348);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(21);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(94),s=n(95);function u(e,t){if(null==e)return{};var n,r,i=Object(s.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=n(1),l=n.n(c),f=n(20),d=n.n(f),h=Object(c.createContext)({});function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function v(e){return e<=1?"".concat(100*Number(e),"%"):e}function m(e){return 1===e.length?"0"+e:String(e)}function y(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function b(e){return x(e)/255}function x(e){return parseInt(e,16)}var _={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function w(e){var t,n,r,i={r:0,g:0,b:0},o=1,a=null,s=null,u=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(_[e])e=_[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=k.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=k.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=k.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=k.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=k.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=k.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=k.hex8.exec(e))return{r:x(n[1]),g:x(n[2]),b:x(n[3]),a:b(n[4]),format:t?"name":"hex8"};if(n=k.hex6.exec(e))return{r:x(n[1]),g:x(n[2]),b:x(n[3]),format:t?"name":"hex"};if(n=k.hex4.exec(e))return{r:x(n[1]+n[1]),g:x(n[2]+n[2]),b:x(n[3]+n[3]),a:b(n[4]+n[4]),format:t?"name":"hex8"};if(n=k.hex3.exec(e))return{r:x(n[1]+n[1]),g:x(n[2]+n[2]),b:x(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(M(e.r)&&M(e.g)&&M(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*g(t,255),g:255*g(n,255),b:255*g(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):M(e.h)&&M(e.s)&&M(e.v)?(a=v(e.s),s=v(e.v),i=function(e,t,n){e=6*g(e,360),t=g(t,100),n=g(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,a,s),c=!0,l="hsv"):M(e.h)&&M(e.s)&&M(e.l)&&(a=v(e.s),u=v(e.l),i=function(e,t,n){var r,i,o;if(e=g(e,360),t=g(t,100),n=g(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=y(s,a,e+1/3),i=y(s,a,e),o=y(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,a,u),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(o),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o}}var E="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),S="[\\s|\\(]+(".concat(E,")[,|\\s]+(").concat(E,")[,|\\s]+(").concat(E,")\\s*\\)?"),O="[\\s|\\(]+(".concat(E,")[,|\\s]+(").concat(E,")[,|\\s]+(").concat(E,")[,|\\s]+(").concat(E,")\\s*\\)?"),k={CSS_UNIT:new RegExp(E),rgb:new RegExp("rgb"+S),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+S),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+S),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function M(e){return Boolean(k.CSS_UNIT.exec(String(e)))}var C=2,A=.16,j=.05,T=.05,I=.15,N=5,P=4,D=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function L(e){var t=function(e,t,n){e=g(e,255),t=g(t,255),n=g(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function R(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[m(Math.round(e).toString(16)),m(Math.round(t).toString(16)),m(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function B(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-C*t:Math.round(e.h)+C*t:n?Math.round(e.h)+C*t:Math.round(e.h)-C*t)<0?r+=360:r>=360&&(r-=360),r}function F(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-A*t:t===P?e.s+A:e.s+j*t)>1&&(r=1),n&&t===N&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function z(e,t,n){var r;return(r=n?e.v+T*t:e.v-I*t)>1&&(r=1),Number(r.toFixed(2))}function G(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=w(e),i=N;i>0;i-=1){var o=L(r),a=R(w({h:B(o,i,!0),s:F(o,i,!0),v:z(o,i,!0)}));n.push(a)}n.push(R(r));for(var s=1;s<=P;s+=1){var u=L(r),c=R(w({h:B(u,s),s:F(u,s),v:z(u,s)}));n.push(c)}return"dark"===t.theme?D.map(function(e){var r=e.index,i=e.opacity;return R(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(w(t.backgroundColor||"#141414"),w(n[r]),100*i))}):n}var U={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},V={},W={};Object.keys(U).forEach(function(e){V[e]=G(U[e]),V[e].primary=V[e][5],W[e]=G(U[e],{theme:"dark",backgroundColor:"#141414"}),W[e].primary=W[e][5]});V.red,V.volcano,V.gold,V.orange,V.yellow,V.lime,V.green,V.cyan,V.blue,V.geekblue,V.purple,V.magenta,V.grey;var Y={};function X(e,t){0}function H(e,t,n){t||Y[n]||(e(!1,n),Y[n]=!0)}var q=function(e,t){H(X,e,t)};var K="rc-util-key";function Z(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):K}function Q(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function $(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"===typeof window||!window.document||!window.document.createElement)return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=Q(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var J=new Map;function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Q(t);return Array.from(J.get(n).children).find(function(n){return"STYLE"===n.tagName&&n.getAttribute(Z(t))===e})}function te(e){return"object"===p(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===p(e.icon)||"function"===typeof e.icon)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t},{})}function re(e){return G(e)[0]}function ie(e){return e?Array.isArray(e)?e:[e]:[]}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=Object(c.useContext)(h).csp;Object(c.useEffect)(function(){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Q(n);if(!J.has(r)){var i=$("",n),o=i.parentNode;J.set(r,o),o.removeChild(i)}var a=ee(t,n);if(a){var s,u,c;return(null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce)&&(a.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce),a.innerHTML!==e&&(a.innerHTML=e),a}var l=$(e,n);l.setAttribute(Z(n),t)}(e,"@ant-design-icons",{prepend:!0,csp:t})},[])},ae=["icon","className","onClick","style","primaryColor","secondaryColor"],se={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ue=function(e){var t,n,i=e.icon,o=e.className,a=e.onClick,s=e.style,c=e.primaryColor,f=e.secondaryColor,d=u(e,ae),h=se;if(c&&(h={primaryColor:c,secondaryColor:f||re(c)}),oe(),t=te(i),n="icon should be icon definiton, but got ".concat(i),q(t,"[@ant-design/icons] ".concat(n)),!te(i))return null;var p=i;return p&&"function"===typeof p.icon&&(p=Object(r.a)(Object(r.a)({},p),{},{icon:p.icon(h.primaryColor,h.secondaryColor)})),function e(t,n,i){return i?l.a.createElement(t.tag,Object(r.a)(Object(r.a)({key:n},ne(t.attrs)),i),(t.children||[]).map(function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))})):l.a.createElement(t.tag,Object(r.a)({key:n},ne(t.attrs)),(t.children||[]).map(function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))}))}(p.icon,"svg-".concat(p.name),Object(r.a)({className:o,onClick:a,style:s,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d))};ue.displayName="IconReact",ue.getTwoToneColors=function(){return Object(r.a)({},se)},ue.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;se.primaryColor=t,se.secondaryColor=n||re(t),se.calculated=!!n};var ce=ue;function le(e){var t=o(ie(e),2),n=t[0],r=t[1];return ce.setTwoToneColors({primaryColor:n,secondaryColor:r})}var fe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];le("#1890ff");var de=c.forwardRef(function(e,t){var n,i=e.className,s=e.icon,l=e.spin,f=e.rotate,p=e.tabIndex,g=e.onClick,v=e.twoToneColor,m=u(e,fe),y=c.useContext(h).prefixCls,b=void 0===y?"anticon":y,x=d()(b,(n={},Object(a.a)(n,"".concat(b,"-").concat(s.name),!!s.name),Object(a.a)(n,"".concat(b,"-spin"),!!l||"loading"===s.name),n),i),_=p;void 0===_&&g&&(_=-1);var w=f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0,E=o(ie(v),2),S=E[0],O=E[1];return c.createElement("span",Object(r.a)(Object(r.a)({role:"img","aria-label":s.name},m),{},{ref:t,tabIndex:_,onClick:g,className:x}),c.createElement(ce,{icon:s,primaryColor:S,secondaryColor:O,style:w}))});de.displayName="AntdIcon",de.getTwoToneColor=function(){var e=ce.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},de.setTwoToneColor=le;t.a=de},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(281),t),i(n(282),t),i(n(146),t),i(n(128),t),i(n(147),t),i(n(283),t)},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"handleZoomOut",function(){return u}),n.d(r,"handleZoomIn",function(){return c}),n.d(r,"handleChangeZoom",function(){return l}),n.d(r,"handleRealZoom",function(){return f}),n.d(r,"handleAutoZoom",function(){return d});var i={};n.r(i),n.d(i,"highlightNodeById",function(){return h}),n.d(i,"focusNodeById",function(){return p});var o=n(49),a=n(1),s=n.n(a),u=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1;if(!(1.25*t>5))return e.zoom(1.25,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(1.25*t*100),"%"),ratio:1.25*t}}}},c=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1;if(!(.75*t<.3))return e.zoom(.75,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(.75*t*100),"%"),ratio:.75*t}}}},l=function(e){return function(t){var n=t.text,r=t.ratio;if(e&&!e.destroyed){var i=e.get("canvas"),o=i.getPointByClient(i.get("width")/2,i.get("height")/2),a=i.get("pixelRatio")||1;return e.zoomTo(r,{x:o.x/a,y:o.y/a}),{text:n,ratio:r}}}},f=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom();return e.zoom(1/t),e.fitCenter(),{text:"100%",ratio:1}}}},d=function(e){return function(){if(e&&!e.destroyed){e.getNodes().length>0&&e.fitView([20,20]);var t=e.getZoom();return{text:"".concat(Math.round(100*t),"%"),ratio:t}}}},h=function(e){return function(t){e.getNodes().forEach(function(n){e.clearItemStates(n,["active","inactive"]),-1!==t.indexOf(n.get("id"))?e.setItemState(n,"active",!0):e.setItemState(n,"active",!1)})}},p=function(e){return function(t){if(e&&"string"===typeof t){var n=e.findById(t);n?(e.focusItem(t,!0,{duration:300,easing:"easeCubic"}),e.setItemState(n,"selected",!0),n.toFront()):console.warn("The node ".concat(t," does not exist!"))}}};var g=Object.assign(Object.assign({},r),i),v=function(e){return Object.keys(g).reduce(function(t,n){return Object.assign(Object.assign({},t),(r={},i=n,o=g[n](e),i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r));var r,i,o},{})},m=n(54),y={type:"compactBox",direction:"LR",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 20}},b=["dendrogram","compactBox","mindmap","indented"],x=n(47),_=function(){return Math.round(80*(Math.random()-.5))},w=function(e,t){var n=e.nodes,r=e.edges,i=t.nodes,o=new Map;i.forEach(function(e){var t=e.id,n=e.x,r=e.y;o.set(t,{x:n,y:r})});var a=new Map;n.forEach(function(e){var t=e.id,n=o.get(t);n?(e.x=n.x,e.y=n.y):a.set(t,e)});var s=new Map;return r.forEach(function(e){var t=e.source,n=e.target,r=a.get(t),i=a.get(n),u=o.get(t),c=o.get(n);r&&c&&s.set(t,{x:c.x+_(),y:c.y+_()}),i&&u&&s.set(n,{x:u.x+_(),y:u.y+_()})}),n.forEach(function(e){var t=e.id,n=o.get(t)||s.get(t);n?(e.x=n.x,e.y=n.y):(e.x=250+Math.round(500*Math.random()),e.y=150+Math.round(300*Math.random()))}),Object.assign(Object.assign({},e),{nodes:n,edges:r})},E=n(86);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(e){return!e||!e.nodes||0===e.nodes.length},k=["force","graphin-force","g6force","gForce","comboForce"],M=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(){var e=n.graphin,t=e.width,r=e.height,i=e.props.layout,o=void 0===i?{type:"concentric"}:i,a=o.type,s=void 0===a?"concentric":a,u=o.preset,c={width:t,height:r,center:[t/2,r/2]};if(n.options=Object.assign(Object.assign(Object.assign({},c),E.a[s]||{}),o),O(n.graphin.data))n.prevOptions={};else if(-1!==k.indexOf(s)){var l=n.prevOptions.type||"grid";(null===u||void 0===u?void 0:u.type)&&(l=u.type),O(n.graphin.data)&&(l=u.type||"grid"),n.options.preset=Object.assign(Object.assign(Object.assign({type:l},c),E.a[l]||{}),u)}},this.processForce=function(){var e=n,t=e.options,r=e.graphin,i=r.graph,a=t.type;if("graphin-force"===a&&(e.options.graph=i),"force"===a||"g6force"===a||"gForce"===a||"comboCombined"===a){var s=e.options.onTick;e.options.tick=function(){s&&s()};var u=e.options.onLayoutEnd;e.options.onLayoutEnd=function(){e.refreshPosition(),null===u||void 0===u||u(),i.emit("afterlayout")}}"comboForce"!==a&&"comboCombined"!==a||(e.options.comboTrees=i.get("comboTrees"));var c=-1!==k.indexOf(e.prevOptions.type),l=-1!==k.indexOf(e.options.type),f=e.options.type===e.prevOptions.type;if(!O(r.data)){if(l&&!f){var d=e.options.preset;e.presetLayout=new o.a.Layout[d.type](Object.assign({},d)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),e.presetLayout.data=Object.assign({},r.data)}if(l&&c&&!e.hasPosition()){var h=e.graph.save(),p=e.options.preset;O(h)&&(e.presetLayout=new o.a.Layout[p.type](Object.assign({},p)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),h=r.data),r.data=w(r.data,h)}}},this.refreshPosition=function(){var e=n.graphin.options,t=e.animate,r=e.layoutAnimate,i=n.options.type;t||r?n.graph.positionsAnimate("comboCombined"===i):n.graph.refreshPositions("comboCombined"===i)},this.destroy=function(){n.presetLayout&&n.presetLayout.destroy&&n.presetLayout.destroy(),n.instance&&n.instance.destroy&&n.instance.destroy(),n.presetLayout=null,n.instance=null},this.getDataFromGraph=function(){for(var e=[],t=[],r=[],i=[],o=n.graph.getNodes(),a=n.graph.getEdges(),s=n.graph.getCombos(),u=o.length,c=0;c<u;c++){var l=o[c];if(l&&l.isVisible()){var f=l.getModel();e.push(f)}}for(var d=a.length,h=0;h<d;h++){var p=a[h];if(p&&p.isVisible()){var g=p.getModel();g.isComboEdge?i.push(g):t.push(g)}}for(var v=s.length,m=0;m<v;m++){var y=s[m];if(y&&y.isVisible()){var b=y.getModel();r.push(b)}}return{nodes:e,edges:t,combos:r,comboEdges:i}},this.graphin=t,this.graph=this.graphin.graph,this.presetLayout=null,this.prevOptions={},this.init()}var t,n,r;return t=e,(n=[{key:"hasPosition",value:function(){var e=this.graphin.data,t=void 0===e?{}:e;return!!t.nodes&&(0!==t.nodes.length&&t.nodes.every(function(e){return!window.isNaN(Number(e.x))&&!window.isNaN(Number(e.y))}))}},{key:"init",value:function(){this.updateOptions();var e=this.options,t=this.graphin.data,n=e.type;this.processForce(),o.a.Layout[n]||console.warn("".concat(n," layout not found, current layout is grid"));var r=o.a.Layout[n]||o.a.Layout.grid;this.graph.emit("beforelayout"),this.instance=new r(this.options),this.instance.init(t)}},{key:"start",value:function(){var e=this.options.type;this.instance.execute(),"force"!==e&&"g6force"!==e&&"gForce"!==e&&"comboCombined"!==e&&(this.refreshPosition(),this.graph.emit("afterlayout"))}},{key:"changeLayout",value:function(){var e=this.graphin,t=e.graph,n=e.data,r=e.isTree,i=e.layoutCache;if(!t||t.destroyed||!n||!n.nodes||!n.nodes.length||i&&this.hasPosition()||r)return!1;-1!==k.indexOf(this.options.type)&&this.destroy(),this.prevOptions=Object.assign({},this.options),this.init(),this.start()}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),C=n(115),A=n(114),j=n(113),T={mode:"light",primaryColor:"#873bf4",nodeSize:26,edgeSize:1,primaryEdgeColor:"#ddd"},I=function(e){var t=Object.assign(Object.assign({},T),e),n=t.primaryColor,r=t.primaryEdgeColor,i=t.nodeSize,o=t.edgeSize,a=t.mode,s=t.background,u=Object(j.a)({primaryColor:n,nodeSize:i,mode:a}),c=Object(A.a)({primaryEdgeColor:r,edgeSize:o,mode:a}),l=Object(C.a)();return Object.assign(Object.assign({},t),{mode:a,background:s||{light:"#fff",dark:"#1f1f1f"}[a],defaultNodeStyle:{type:u.type,style:u.style},defaultNodeStatusStyle:{status:u.status},defaultEdgeStyle:{type:c.type,style:c.style},defaultEdgeStatusStyle:{status:c.status},defaultComboStyle:{type:l.type,style:l.style},defaultComboStatusStyle:{status:l.status}})},N=n(116),P=function e(t,n){if(window.isNaN(t)&&window.isNaN(n)&&"number"===typeof t&&"number"===typeof n)return!0;if(t===n)return!0;if("function"===typeof t&&"function"===typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;var r=[],i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a],u=e(t[s],n[s]);r.push(u)}return r.every(function(e){return e})};function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,n)}}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},U=m.a.DragCanvas,V=m.a.ZoomCanvas,W=m.a.DragNode,Y=m.a.DragCombo,X=m.a.ClickSelect,H=m.a.BrushSelect,q=m.a.ResizeCanvas,K=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,s.a.PureComponent);var t,n,r,i=B(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).graphDOM=null,t.initData=function(e){e.children&&(t.isTree=!0),t.data=Object(N.a)(e)},t.initGraphInstance=function(){var e=t.props,n=e.theme,r=e.data,i=e.layout,a=e.width,s=e.height,u=e.defaultCombo,c=void 0===u?{style:{},type:"graphin-combo"}:u,l=e.defaultEdge,f=void 0===l?{style:{},type:"graphin-line"}:l,d=e.defaultNode,h=void 0===d?{style:{},type:"graphin-circle"}:d,p=e.nodeStateStyles,g=e.edgeStateStyles,m=e.comboStateStyles,x=e.modes,_=void 0===x?{default:[]}:x,w=e.animate,E=e.handleAfterLayout,S=G(e,["theme","data","layout","width","height","defaultCombo","defaultEdge","defaultNode","nodeStateStyles","edgeStateStyles","comboStateStyles","modes","animate","handleAfterLayout"]);_.default.length>0&&console.info("%c suggestion: you can use @antv/graphin Behaviors components","color:lightgreen");var O=t.graphDOM,k=O.clientWidth,C=O.clientHeight;t.initData(r),t.width=Number(a)||k||500,t.height=Number(s)||C||500;var A=I(n),j=(A.defaultNodeStyle,A.defaultEdgeStyle,A.defaultComboStyle,A.defaultNodeStatusStyle,A.defaultEdgeStatusStyle,A.defaultComboStatusStyle,G(A,["defaultNodeStyle","defaultEdgeStyle","defaultComboStyle","defaultNodeStatusStyle","defaultEdgeStatusStyle","defaultComboStatusStyle"]));t.isTree=Boolean(r.children)||-1!==b.indexOf(String(i&&i.type));var T={defaultNode:{style:Object.assign(Object.assign({},h.style),{_theme:n}),type:h.type||"graphin-circle"},defaultEdge:{style:Object.assign(Object.assign({},f.style),{_theme:n}),type:f.type||"graphin-line"},defaultCombo:{style:Object.assign(Object.assign({},c.style),{_theme:n}),type:c.type||"combo"},nodeStateStyles:p,edgeStateStyles:g,comboStateStyles:m};t.theme=Object.assign(Object.assign({},T),j),t.options=Object.assign(Object.assign(Object.assign({container:t.graphDOM,renderer:"canvas",width:t.width,height:t.height,animate:!1!==w},T),{modes:_}),S),t.isTree?(t.options.layout=i||y,t.graph=new o.a.TreeGraph(t.options)):t.graph=new o.a.Graph(t.options),t.graph.on("afterlayout",function(){E&&E(t.graph)}),t.graph.data(t.data),t.setTextDirection(),t.graph.render(),t.isTree||(t.layout=new M(F(t)),t.layout.start()),t.initStatus(),t.apis=v(t.graph),t.setState({isReady:!0,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}})},t.updateLayout=function(){t.layout.changeLayout()},t.updateOptions=function(){return G(t.props,[])},t.initStatus=function(){if(!t.isTree){var e=t.props.data,n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;r.forEach(function(e){var n=e.status;n&&Object.keys(n).forEach(function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))})}),o.forEach(function(e){var n=e.status;n&&Object.keys(n).forEach(function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))})})}},t.updateContext=function(e){t.setState(function(t){return{context:Object.assign(Object.assign({},t.context),e)}})},t.clear=function(){t.layout&&t.layout.destroy&&t.layout.destroy(),t.layout={},t.graph.clear(),t.data={nodes:[],edges:[],combos:[]},t.graph.destroy()};var n=e.data,r=e.layout,s=e.width,u=e.height,c=e.layoutCache,l=G(e,["data","layout","width","height","layoutCache"]);return t.data=n,t.isTree=Boolean(e.data&&e.data.children)||-1!==b.indexOf(String(r&&r.type)),t.graph={},t.height=Number(u),t.width=Number(s),t.theme={},t.apis={},t.layoutCache=c,t.layout={},t.dragNodes=[],t.options=Object.assign({},l),t.state={isReady:!1,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}},t}return t=a,r=[{key:"registerBehavior",value:function(e,t){o.a.registerBehavior(e,t)}},{key:"registerFontFamily",value:function(e){var t=e(),n=t.glyphs,r=t.fontFamily,i=n.map(function(e){return{name:e.name,unicode:String.fromCodePoint(e.unicode_decimal)}});return new Proxy(i,{get:function(e,t){var n=e.find(function(e){return e.name===t});return n?null===n||void 0===n?void 0:n.unicode:(console.error("%c fontFamily:".concat(r,",does not found ").concat(t," icon")),"")}})}},{key:"registerLayout",value:function(e,t){o.a.registerLayout(e,t)}}],(n=[{key:"setTextDirection",value:function(){var e=this.props.dir,t=void 0===e?"ltr":e;this.graph.get("canvas").get("el").setAttribute("dir",t)}},{key:"componentDidMount",value:function(){this.initGraphInstance()}},{key:"componentDidUpdate",value:function(e){var t,n,r,i=this,o=this.shouldUpdate(e,"data"),a=this.shouldUpdate(e,"layout"),s=this.shouldUpdate(e,"options"),u=(this.shouldUpdate(e,"theme"),this.props),c=u.data,l=u.layoutCache,f=u.layout,d=u.rtl;if(this.layoutCache=l,s&&e.rtl!==d&&(this.setTextDirection(),this.graph.render()),o){if(this.initData(c),this.isTree)this.graph.changeData(this.data);else{var h=this.state.context.dragNodes;r=h.filter(function(e){var t;return(null===(t=i.data)||void 0===t?void 0:t.nodes)&&i.data.nodes.find(function(t){return t.id===e.id})}),null===(n=null===(t=this.data)||void 0===t?void 0:t.nodes)||void 0===n||n.forEach(function(e){var t,n,i=r.find(function(t){return t.id===e.id});i&&(e.layout=Object.assign(Object.assign({},e.layout),{force:{mass:null===(n=null===(t=i.layout)||void 0===t?void 0:t.force)||void 0===n?void 0:n.mass}}))}),this.graph.data(this.data),this.graph.set("layoutController",null),this.graph.changeData(this.data),this.data=this.layout.getDataFromGraph(),this.layout.changeLayout()}return this.initStatus(),this.apis=v(this.graph),void this.setState(function(e){return Object.assign(Object.assign({},e),{context:{graph:i.graph,apis:i.apis,theme:i.theme,layout:i.layout,dragNodes:r||e.context.dragNodes,updateContext:i.updateContext}})},function(){i.graph.emit("graphin:datachange"),a&&i.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:f})})}if(a){if(this.isTree)return void this.graph.updateLayout(this.props.layout);this.data=this.layout.getDataFromGraph(),this.layout.changeLayout(),this.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:f})}}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"componentDidCatch",value:function(e,t){console.error("Catch component error: ",e,t)}},{key:"shouldUpdate",value:function(e,t){var n=e[t],r=this.props[t];return!P(n,r)}},{key:"render",value:function(){var e,t=this,n=this.state.isReady,r=this.props,i=r.modes,o=r.style,a=r.containerId,u=r.containerStyle;return s.a.createElement(x.a.Provider,{value:this.state.context},s.a.createElement("div",{id:a||"graphin-container",style:Object.assign({height:"100%",width:"100%",position:"relative"},u)},s.a.createElement("div",{"data-testid":"custom-element",className:"graphin-core",ref:function(e){t.graphDOM=e},style:Object.assign({height:"100%",width:" 100%",minHeight:"500px",background:(null===(e=this.theme)||void 0===e?void 0:e.background)||"#fff"},o)}),s.a.createElement("div",{className:"graphin-components"},n&&s.a.createElement(s.a.Fragment,null,!i&&s.a.createElement(s.a.Fragment,null,s.a.createElement(U,null),s.a.createElement(V,null),s.a.createElement(W,null),s.a.createElement(Y,null),s.a.createElement(X,null),s.a.createElement(H,null)),s.a.createElement(q,{graphDOM:this.graphDOM}),this.props.children))))}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();K.registerNode=function(e,t,n){o.a.registerNode(e,t,n)},K.registerEdge=function(e,t,n){o.a.registerEdge(e,t,n)},K.registerCombo=function(e,t,n){o.a.registerCombo(e,t,n)};var Z=K,Q=n(52);function $(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e,t,n){var r,i;return"source"===e?(null===(r=null===n||void 0===n?void 0:n.find(function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id}))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find(function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id}))||void 0===i?void 0:i.target)||{}},te=function(e,t,n,r){var i,o=(null===(i=null===n||void 0===n?void 0:n.data)||void 0===i?void 0:i[t])||"",a=(null===r||void 0===r?void 0:r.filter(function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t])===o}))||[];return"leaf"===e&&(a=a.filter(function(e){var t,n,r,i;return 0===(null===(n=null===(t=e.data)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.sDegree)||0===(null===(i=null===(r=e.data)||void 0===r?void 0:r.layout)||void 0===i?void 0:i.tDegree)})),a},ne=function(e,t,n){var r=[];switch(e){case"source":r=null===n||void 0===n?void 0:n.filter(function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id}).map(function(e){return e.target});break;case"target":r=null===n||void 0===n?void 0:n.filter(function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id}).map(function(e){return e.source});break;case"both":r=null===n||void 0===n?void 0:n.filter(function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id}).map(function(e){return e.target}).concat(null===n||void 0===n?void 0:n.filter(function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id}).map(function(e){return e.source}))}return r=Q.a.uniqBy(r,function(e,t){return e.id===t.id})},re=function(e,t){var n=e.data.id,r=0,i=0,o=0;return t.forEach(function(e){e.source.id===n&&(i+=1,r+=1),e.target.id===n&&(o+=1,r+=1)}),{degree:r,sDegree:i,tDegree:o}},ie=function(e,t){return $(new Set(null===e||void 0===e?void 0:e.map(function(e){var n;return null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t]})))||[]},oe=function(e,t,n,r){var i,o=(null===(i=null===t||void 0===t?void 0:t.data)||void 0===i?void 0:i.layout)||{},a=o.sDegree,s=o.tDegree,u=t,c=[];return 0===a?(u=ee("source",t,n),c=ne("both",u,n)):0===s&&(u=ee("target",t,n),c=ne("both",u,n)),{coreNode:u,relativeLeafNodes:c=c.filter(function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.layout)&&(0===e.data.layout.sDegree||0===e.data.layout.tDegree)}),sameTypeLeafNodes:te(e,r,t,c)}},ae=function(e){var t={x:0,y:0};e.forEach(function(e){t.x+=e.x||0,t.y+=e.y||0});var n=e.length||1;return{x:t.x/n,y:t.y/n}};function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var le=ue(function e(t){ce(this,e),this.id=t.id,this.data=t||{},this.x=t.x||0,this.y=t.y||0}),fe=ue(function e(t,n,r,i){ce(this,e),this.id=t,this.source=n,this.target=r,this.data=i||{}});function de(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}var he=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function pe(e){return e[0]}function ge(e){return e[1]}function ve(e,t,n){var r=new me(null==t?pe:t,null==n?ge:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function me(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ye(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var be=ve.prototype=me.prototype;be.copy=function(){var e,t,n=new me(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ye(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=ye(t));return n},be.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return de(this.cover(t,n),t,n,e)},be.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)de(this,a[n],s[n],e[n]);return this},be.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},be.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},be.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},be.find=function(e,t,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new he(g,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>d||(o=u.y0)>h||(a=u.x1)<l||(s=u.y1)<f))if(g.length){var v=(i+a)/2,m=(o+s)/2;p.push(new he(g[3],v,m,a,s),new he(g[2],i,m,v,s),new he(g[1],v,o,a,m),new he(g[0],i,o,v,m)),(c=(t>=m)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var _=Math.sqrt(n=x);l=e-_,f=t-_,d=e+_,h=t+_,r=g.data}}return r},be.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},be.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},be.root=function(){return this._root},be.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},be.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new he(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new he(n,c,l,o,a)),(n=u[2])&&s.push(new he(n,r,l,c,a)),(n=u[1])&&s.push(new he(n,c,i,o,l)),(n=u[0])&&s.push(new he(n,r,i,c,l))}return this},be.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new he(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new he(o,a,s,l,f)),(o=i[1])&&n.push(new he(o,l,s,u,f)),(o=i[2])&&n.push(new he(o,a,f,l,c)),(o=i[3])&&n.push(new he(o,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},be.x=function(e){return arguments.length?(this._x=e,this):this._x},be.y=function(e){return arguments.length?(this._y=e,this):this._y};var xe=.81,_e=.1;function we(e,t,n){var r=n/(t*t),i=e.map(function(e,t){return Object.assign(Object.assign({index:t},e),{vx:0,vy:0,weight:r})}),o=ve(i,function(e){return e.x},function(e){return e.y}).visitAfter(Ee);return i.forEach(function(e){!function(e,t){t.visit(function(t,n,r,i,o){var a=e.x-t.x||.001,s=e.y-t.y||.001,u=i-n,c=a*a+s*s+_e,l=Math.sqrt(c)+_e;if(u*u/xe<c)return e.vx+=a/l*t.weight/c,e.vy+=s/l*t.weight/c,!0;if(t.length)return!1;t.data!==e&&(e.vx+=a/l*t.data.weight/c,e.vy+=s/l*t.data.weight/c)})}(e,o)}),i.map(function(e){return{vx:e.vx,vy:e.vy}})}function Ee(e){var t=0,n=0,r=0;if(e.length){for(var i=0;i<4;i++){var o=e[i];o&&o.weight&&(t+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}e.x=n/t,e.y=r/t,e.weight=t}else{var a=e;e.x=a.data.x,e.y=a.data.y,e.weight=a.data.weight}}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ke=Oe(function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getvec=function(){return r},this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)},this.magnitude=function(){return Math.sqrt(r.x*r.x+r.y*r.y)},this.normalise=function(){return r.divide(r.magnitude())},this.divide=function(t){return new e(r.x/t||0,r.y/t||0)},this.scalarMultip=function(t){return new e(r.x*t,r.y*t)},this.x=t,this.y=n});function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ae=Ce(function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAcc=function(e){i.a=i.a.add(e.divide(i.m))},this.p=t,this.m=o,this.v=new ke(0,0),this.a=new ke(0,0),this.id=n,this.data=r});function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ie=Te(function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.target=n,this.length=r});function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var De=Pe(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(e){e&&Object.keys(e).forEach(function(t){n.props[t]=e[t]})},this.setData=function(e){n.nodes=[],n.edges=[],n.nodeSet={},n.edgeSet={},n.nodePoints=new Map,n.edgeSprings=new Map,n.sourceData=e,n.judgingDistance=0,("nodes"in e||"edges"in e)&&(n.addNodes(e.nodes),n.addEdges(e.edges))},this.getMass=function(e){var t,r=e.layout||{},i=r.degree,o=void 0===i?null===(t=re(e,n.edges))||void 0===t?void 0:t.degree:i,a=r.force;return a&&a.mass?a.mass:o<5?1:5*o},this.init=function(){var e,t=n.props,r=t.width,i=t.height,o=n.props.centripetalOptions,a=n.props,s=a.leafCluster,u=a.clustering,c=a.nodeClusterBy,l=a.clusterNodeStrength,f=function(e){return"function"===typeof l?l(e):l};if(n.nodes.forEach(function(e){var t=e.data.x||r/2,o=e.data.y||i/2,a=new ke(t,o);e.data.layout||(e.data.layout={});var s=re(e,n.edges);e.data.layout=Object.assign(Object.assign({},e.data.layout),s);var u=n.getMass(e.data);n.nodePoints.set(e.id,new Ae(a,String(e.id),e.data,u))}),n.edges.forEach(function(e){var t=n.nodePoints.get(e.source.id),r=n.nodePoints.get(e.target.id),i=n.props.defSpringLen(e,t,r);n.edgeSprings.set(e.id,new Ie(t,r,i))}),s){e=n.getSameTypeLeafMap();var d=ie(n.nodes,c);o={single:100,leaf:function(t,n,r){var i=e[t.id]||{},o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===o||void 0===o?void 0:o.length)||1===(null===d||void 0===d?void 0:d.length)?1:f(t)},others:1,center:function(t,n,r){var i,o,a=((null===(i=t.data)||void 0===i?void 0:i.layout)||{}).degree;if(!a)return{x:100,y:100};if(1===a){var s=(e[t.id]||{}).sameTypeLeafNodes,u=void 0===s?[]:s;1===u.length?o=void 0:u.length>1&&(o=ae(u))}else o=void 0;return{x:null===o||void 0===o?void 0:o.x,y:null===o||void 0===o?void 0:o.y}}}}if(u){e||(e=n.getSameTypeLeafMap());var h=Array.from(new Set(n.nodes.map(function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[c]}))).filter(function(e){return void 0!==e}),p={};h.forEach(function(e){var t=n.nodes.filter(function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n[c])===e});p[e]=ae(t)}),o={single:function(e){return f(e)},leaf:function(e){return f(e)},others:function(e){return f(e)},center:function(e,t,n){var r,i=p[null===(r=e.data)||void 0===r?void 0:r[c]];return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}}n.centripetalOptions=Object.assign(Object.assign({},n.centripetalOptions),o);var g=n.nodePoints.size,v=Math.pow(10,2);n.props.minEnergyThreshold=.5*Math.pow(1,2)*1*g*v},this.start=function(){n.init(),n.props.animation?n.animation():n.slienceForce()},this.calTotalEnergy=function(){var e=0;return n.nodes.forEach(function(t){var r=n.nodePoints.get(t.id),i=r.v.magnitude(),o=r.m;e+=o*Math.pow(i,2)*.5}),e},this.slienceForce=function(){for(var e=n.props,t=e.done,r=e.maxIterations,i=e.minDistanceThreshold,o=0;(n.judgingDistance>i||o<1)&&o<r;o++)n.tick(n.props.tickInterval),n.iterations++;n.render(),t&&t(n.renderNodes)},this.requestAnimationFrame=function(e){return n.props.enableWorker?setInterval(function(){e()},16):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){n.props.enableWorker?clearInterval(e):window.cancelAnimationFrame(e)},this.animation=function(){var e=n.props,t=e.enableWorker,r=e.maxIterations,i=e.minDistanceThreshold,o=e.done,a=e.tickInterval;if(t)for(var s=(new Date).valueOf(),u=function(e){return e>10?2e3:20*e*e},c=0;c<r;c++){var l=Math.max(.02,.22-.002*c);n.tick(l),(new Date).valueOf()-s>=u(c)&&(n.render(),s=(new Date).valueOf());var f=n.calTotalEnergy(),d=n.registers.get("monitor");if(d&&d(n.reportMointor(f)),n.judgingDistance<i)return n.render(),void(o&&o(n.renderNodes))}else{n.timer=n.requestAnimationFrame(function e(){n.tick(a),n.render(),n.iterations++;var t=n.calTotalEnergy(),r=n.registers.get("monitor");r&&r(n.reportMointor(t)),n.judgingDistance<i||n.iterations>n.props.maxIterations?(n.cancelAnimationFrame(n.timer),n.iterations=0,n.done=!0,o&&o(n.renderNodes)):n.timer=n.requestAnimationFrame(e)})}},this.render=function(){var e=n.registers.get("render");n.renderNodes=[],n.nodePoints.forEach(function(e){n.renderNodes.push(Object.assign(Object.assign({},n.nodeSet[e.id]&&n.nodeSet[e.id].data),{x:e.p.x,y:e.p.y}))}),e?e({nodes:n.renderNodes,edges:n.sourceData.edges}):console.error("need a render function")},this.reportMointor=function(e){return{energy:e,iterations:n.iterations,nodes:n.nodes,edges:n.edges}},this.tick=function(e){n.updateCoulombsLawOptimized(),n.updateHookesLaw(),n.attractToCentre(),n.attractToSide(),n.updateVelocity(e),n.updatePosition(e)},this.updateCoulombsLawOptimized=function(){var e=n.props.coulombDisScale,t=n.props.repulsion,r=we(n.nodes.map(function(e){var t=n.nodePoints.get(e.id).p;return{x:t.x,y:t.y}}),e,t);n.nodes.forEach(function(e,t){n.nodePoints.get(e.id).updateAcc(new ke(r[t].vx,r[t].vy))})},this.updateCoulombsLaw=function(){for(var e=n.nodes.length,t=0;t<e;t++)for(var r=t+1;r<e;r++)if(t!==r){var i=n.nodes[t],o=n.nodes[r],a=n.props.coulombDisScale,s=n.props.repulsion,u=n.nodePoints.get(i.id).p.subtract(n.nodePoints.get(o.id).p),c=(u.magnitude()+.1)*a,l=u.normalise();n.nodePoints.get(i.id).updateAcc(l.scalarMultip(1*s).divide(Math.pow(c,2))),n.nodePoints.get(o.id).updateAcc(l.scalarMultip(1*s).divide(-Math.pow(c,2)))}},this.updateHookesLaw=function(){n.edges.forEach(function(e){var t=n.edgeSprings.get(e.id),r=t.target.p.subtract(t.source.p),i=t.length-r.magnitude(),o=r.normalise();t.source.updateAcc(o.scalarMultip(-n.props.stiffness*i)),t.target.updateAcc(o.scalarMultip(n.props.stiffness*i))})},this.implementForce=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=n.nodePoints.get(e.id),o=i.p.subtract(t);i.updateAcc(o.scalarMultip(-r))},this.attractToCentre=function(){n.nodes.forEach(function(e){var t,r=null===(t=e.data)||void 0===t?void 0:t.layout,i=r.degree,o=r.sDegree,a=r.tDegree,s=n.centripetalOptions,u=s.leaf,c=s.single,l=s.others,f=s.center,d=n.props,h=d.width,p=d.height;if(void 0!==f){var g=f(e,n.nodes,n.edges,h,p),v=g.x,m=g.y,y=g.centerStrength;if(void 0!==v&&void 0!==m){var b=new ke(v,m);if(y)n.implementForce(e,b,y);else{var x="function"===typeof u?u(e,n.nodes,n.edges):u,_="function"===typeof c?c(e):c,w="function"===typeof l?l(e):l,E=0===a||0===o;0!==x&&0!==_&&0!==w&&(0===i?n.implementForce(e,b,_):E?n.implementForce(e,b,x):n.implementForce(e,b,w))}}}})},this.attractToSide=function(){if(n.props.defSideCoe&&"function"===typeof n.props.defSideCoe){var e=n.props.height;n.nodes.forEach(function(t){var r=n.props.defSideCoe(t);if(0!==r){var i=n.nodePoints.get(t.id).p.x,o=new ke(i,r>0?0:e);n.implementForce(t,o,Math.abs(r))}})}},this.updateVelocity=function(e){n.nodes.forEach(function(t){var r=n.nodePoints.get(t.id);r.v=r.v.add(r.a.scalarMultip(e)).scalarMultip(n.props.damping),r.v.magnitude()>n.props.maxSpeed&&(r.v=r.v.normalise().scalarMultip(n.props.maxSpeed)),r.a=new ke(0,0)})},this.updatePosition=function(e){var t;if(null===(t=n.nodes)||void 0===t?void 0:t.length){var r=n.props.distanceThresholdMode,i=0;"max"===r?n.judgingDistance=-1/0:"min"===r&&(n.judgingDistance=1/0),n.nodes.forEach(function(t){var o=n.nodePoints.get(t.id);o.p=o.p.add(o.v.scalarMultip(e));var a=o.v.scalarMultip(e).magnitude();switch(r){case"max":n.judgingDistance<a&&(n.judgingDistance=a);break;case"min":n.judgingDistance>a&&(n.judgingDistance=a);break;default:i+=a}}),r&&"mean"!==r||(n.judgingDistance=i/n.nodes.length)}else n.judgingDistance=0},this.addNode=function(e){var t=n.props.ignore;t&&t(e)||(e.id in n.nodeSet||n.nodes.push(e),n.nodeSet[e.id]=e)},this.addNodes=function(e){e.forEach(function(e){n.addNode(new le(e))})},this.addEdge=function(e){return e.id in n.edgeSet||n.edges.push(e),n.edgeSet[e.id]=e,e},this.addEdges=function(e){try{for(var t=e.length,r=0;r<t;r++){var i=e[r],o=i.source,a=i.target,s=n.nodeSet[o];if(void 0===s)throw new TypeError("invalid node name: ".concat(i.source));var u=n.nodeSet[a];if(void 0===u)throw new TypeError("invalid node name: ".concat(i.target));var c=i.data,l=new fe(String(n.nextEdgeId++),s,u,c);n.addEdge(l)}}catch(f){console.error(f)}},this.register=function(e,t){n.registers.set(e,t)},this.restart=function(e,t){var r=n.props.ignore;t.getNodes().forEach(function(e){var t=e.get("model");if(!r||!r(t)){var i=new ke(t.x,t.y),o=n.nodePoints.get(t.id);o&&(o.p=i,n.nodePoints.set(t.id,o))}});e.forEach(function(e){var t=new ke(e.x,e.y),r=n.getMass(e);n.nodePoints.set(e.id,new Ae(t,e.id,e.data,r)),n.edges.forEach(function(t){var r=n.nodePoints.get(t.source.id),i=n.nodePoints.get(t.target.id);if(r.id===e.id||i.id===e.id){var o=n.edgeSprings.get(t.id).length||100;n.edgeSprings.set(t.id,new Ie(r,i,o))}})}),n.props.restartAnimation?n.animation():n.slienceForce()},this.stop=function(){window.cancelAnimationFrame(n.timer),n.done=!0},this.getSameTypeLeafMap=function(){var e=n.props.nodeClusterBy,t={};return n.nodes.forEach(function(r){var i;1===((null===(i=r.data)||void 0===i?void 0:i.layout)||{}).degree&&(t[r.id]=oe("leaf",r,n.edges,e))}),t},this.props={stiffness:200,enableWorker:!1,defSpringLen:function(e){return e.data.spring||200},repulsion:1e3,centripetalOptions:{leaf:2,single:2},leafCluster:!1,clustering:!1,nodeClusterBy:"cluster",clusterNodeStrength:20,damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,coulombDisScale:.005,tickInterval:.02,groupFactor:4,maxIterations:7440,minDistanceThreshold:.4,distanceThresholdMode:"mean",animation:!0,restartAnimation:!0,width:200,height:200},this.updateOptions(t),this.sourceData={nodes:[],edges:[],combos:[]},this.nodes=[],this.edges=[],this.nodeSet={},this.edgeSet={},this.renderNodes=[],this.nodePoints=new Map,this.edgeSprings=new Map,this.registers=new Map,this.done=!1,this.judgingDistance=0,this.iterations=0,this.nextEdgeId=0,this.timer=0,this.center=new ke(0,0),this.centripetalOptions={leaf:2,single:2,others:1,center:function(e){return{x:n.props.width/2,y:n.props.height/2}}},this.dragNodes=[]}),Le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Re=n(0);function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ge=function(e,t,n){if(t)try{e.forEach(function(e){var r=e.cfg.name;if(t[r]){var i=n(t,r),o=i.animate,a=i.visible,s=ze(i,["animate","visible"]);if(!e.attrs.img&&(e.attr(s),e.cfg.visible=!1!==a,o)){var u=o.attrs,c=ze(o,["attrs"]);e.animate(u,c)}}})}catch(r){console.error(r)}};function Ue(e){return Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),e}var Ve=function(e){if(!e)return[0,0];var t=0,n=0;if(Object(Re.isNumber)(e))t=e,n=e;else if(Object(Re.isArray)(e))if(1===e.length){var r=Be(e,1)[0];t=r,n=r}else if(2===e.length){var i=Be(e,2);t=i[0],n=i[1]}return[t,n]};function We(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){if(e){if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ke(e){var t;return Object(Re.isNumber)(e)?t=e/2:Object(Re.isArray)(e)&&(t=e[0]/2),t}var Ze=function(e){var t,n,r,i=e.halo,o=e.keyshape,a=i.size,s=i.visible,u=i.fill,c=i.fillOpacity,l=qe(i,["size","visible","fill","fillOpacity"]),f=Ke(a);o&&o.size&&(t=Ke(o.size)+15);return o&&o.fill&&(n=o.fill),o&&o.stroke&&(r=o.stroke),{name:"halo",visible:!1!==s,attrs:Ue(Object.assign({x:0,y:0,r:f||t,fill:u||n||r,fillOpacity:c||.1,visible:!1!==s},l))}},Qe=function(e){var t=e.keyshape,n=t.size,r=t.visible,i=t.stroke,o=t.fill,a=t.fillOpacity,s=t.strokeOpacity,u=qe(t,["size","visible","stroke","fill","fillOpacity","strokeOpacity"]),c=Ke(n);return{name:"keyshape",visible:!1!==r,attrs:Ue(Object.assign({x:0,y:0,r:c,cursor:"pointer",visible:!1!==r,stroke:i,strokeOpacity:s||1,fill:o||i,fillOpacity:a||.2},u))}},$e=function(e){var t=e.label,n=t.value,r=t.fill,i=t.fontSize,o=t.visible,a=qe(t,["value","fill","fontSize","visible"]),s=function(e){var t=e.label,n=e.keyshape;if(!(null===n||void 0===n?void 0:n.size)&&!(null===t||void 0===t?void 0:t.offset))return{x:void 0,y:void 0,textBaseline:null===t||void 0===t?void 0:t.textBaseline};!(null===n||void 0===n?void 0:n.size)&&(null===t||void 0===t?void 0:t.offset)&&(n.size=26,console.info("you should set keyshape.size when you update label position,the default keyshape size value is  26"));var r=n.size,i=[0,0],o=t.position,a=t.offset,s=void 0===a?i:a;"number"!==typeof s&&"string"!==typeof s||(i=[Number(s),Number(s)]),s.length>0&&(i=s);var u=Be(i,2),c=u[0],l=u[1];if("center"===o)return{x:0+c,y:0+l};var f,d=Ve(r),h=d[0],p=d[1];switch(o){case"top":f={x:0+c,y:-p/2-l,textBaseline:"bottom"};break;case"bottom":f={x:0+c,y:p/2+l,textBaseline:"top"};break;case"left":f={x:0-h-c,y:0+l,textAlign:"right"};break;case"right":f={x:0+h+c,y:0+l,textAlign:"left"};break;default:f={x:0+c,y:p/2+l,textBaseline:"top"}}return f}(e);return{name:"label",visible:!1!==o,attrs:Ue(Object.assign({x:s.x,y:s.y,fontSize:i,text:n,textAlign:"center",fill:r,textBaseline:s.textBaseline,visible:!1!==o},a))}},Je=function(e){var t=e.icon,n=t.value,r=void 0===n?"":n,i=t.type,o=t.fontFamily,a=t.textAlign,s=void 0===a?"center":a,u=t.textBaseline,c=void 0===u?"middle":u,l=t.fill,f=t.size,d=t.visible,h=(t.clip,qe(t,["value","type","fontFamily","textAlign","textBaseline","fill","size","visible","clip"])),p=Ye(Ve(f),2),g=p[0],v=p[1],m={name:"icon",visible:!1!==d,capture:!1};return"text"===i||"font"===i?Object.assign(Object.assign({},m),{attrs:Object.assign({x:0,y:0,textAlign:s,textBaseline:c,text:r,fontSize:g,fontFamily:o,fill:l,visible:!1!==d},h)}):Object.assign(Object.assign({},m),{attrs:Object.assign({x:-g/2,y:-v/2,img:r,width:g,height:v,visible:!1!==d},h)})},et=function(e,t){return"keyshape"===t?Qe(e).attrs:"halo"===t?Ze(e).attrs:"label"===t?$e(e).attrs:"icon"===t?Je(e).attrs:e[t]||{}},tt=function(e,t,n){var r=e.type,i=e.position,o=e.value,a=void 0===o?"":o,s=e.size,u=e.fill,c=e.stroke,l=e.color,f=e.fontSize,d=e.fontFamily,h=e.padding,p=void 0===h?0:h,g=e.offset,v=void 0===g?[0,0]:g,m=e.id,y=Ve(v),b=Ye(Ve(s),2),x=b[0],_=b[1],w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RT",t=arguments.length>1?arguments[1]:void 0,n=0,r=0;return"LT"===e?(n=t*Math.cos(3*Math.PI/4),r=-t*Math.sin(3*Math.PI/4)):"LB"===e?(n=t*Math.cos(5*Math.PI/4),r=-t*Math.sin(5*Math.PI/4)):"RT"===e?(n=t*Math.cos(1*Math.PI/4),r=-t*Math.sin(1*Math.PI/4)):"RB"===e&&(n=t*Math.cos(7*Math.PI/4),r=-t*Math.sin(7*Math.PI/4)),{x:n,y:r}}(i,n),E=w.x,S=w.y,O=E,k=S;if(x===_){var M={attrs:{r:x/2+p,fill:u,stroke:c,x:O+=y[0],y:k+=y[1]},name:"badges-circle"};m&&(M.id=m),t.addShape("circle",M)}else{O=E-x-2*p,k=S-_-2*p,"LB"===i?k=S:"RT"===i?(O=E,k=S-_-2*p):"RB"===i&&(O=E,k=S);var C={attrs:{width:x+2*p,height:_+2*p,fill:u,stroke:c,x:O+=y[0],y:k+=y[1],radius:(_+2*p)/3},name:"badges-rect"};m&&(C.id=m),t.addShape("rect",C)}"font"===r||"text"===r?t.addShape("text",{attrs:{x:x!==_?O+x/2+p:O,y:x!==_?k+_/2+p:k,text:a,fontSize:f,textAlign:"center",textBaseline:"middle",fontFamily:d,fill:l},capture:!1,name:"badges-text"}):"image"===r&&t.addShape("image",{attrs:{x:O-x/2,y:O-_/2,width:x,height:_,img:a},capture:!1,name:"badges-image"})},nt=n(117);function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot,at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function st(e){return Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),e}!function(e){e.NORMAL="normal",e.SELECTED="selected",e.HOVERED="hovered",e.DISABLED="disabled"}(ot||(ot={}));var ut=function(e,t){return"keyshape"===t?function(e){var t=at(e,[]);return st(Object.assign({id:"keyshape"},t))}(e.keyshape||{}):"halo"===t?function(e){var t=at(e,[]);return st(Object.assign({id:"halo"},t))}(e.halo||{}):"label"===t?function(e){var t=e.value,n=at(e,["value"]);return st(Object.assign({id:"label",text:t},n))}(e.label||{}):{}},ct=function(e,t,n){var r=(t.x+e.x)/2,i=(t.y+e.y)/2,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return{x:r+a*n/s||0,y:i-o*n/s||0}};o.a.registerLayout("graphin-force",{getDefaultCfg:function(){return{preset:{name:"grid",options:{}},stiffness:200,repulsion:1e3,centripetalOptions:{leaf:1.6,single:1.6},damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,MaxIterations:1e4,animation:!0}},init:function(e){this.nodes=e.nodes,this.edges=e.edges;var t=this.graph,n=Le(this,["graph"]),r=Object.assign(Object.assign({},this.getDefaultCfg()),n),i=r.width,o=r.height,a=r.animation,s=r.done,u=void 0===s?function(){}:s,c=Le(r,["width","height","animation","done"]);this.simulation=new De(Object.assign(Object.assign(Object.assign({width:i,height:o,animation:a},c),n),{done:function(e){u(t,e)}})),this.simulation.setData(e),this.simulation.register("render",function(n){if(!a&&e&&e.nodes&&e.nodes.length>0){var r=n.nodes;return e.nodes.forEach(function(e,t){var n=r[t];if(n&&n.id===e.id)e.x=r[t].x,e.y=r[t].y;else{var i=r.find(function(t){return t.id===e.id});i&&(e.x=i.x,e.y=i.y)}}),Object.assign({},n)}try{if(!t||t.destroyed)return;var i=!1;n.nodes.forEach(function(e){var n=t.findById(e.id);if(n){var r=n.get("model");r.x=e.x,r.y=e.y,"combo"===n.getType()&&(i=!0)}}),t.refreshPositions(i)}catch(o){console.error(o)}})},execute:function(){this.simulation.start()},layout:function(e){this.init(e),this.execute()},updateCfg:function(e){this.cfg=Object.assign(Object.assign({},this.cfg),e)},destroy:function(){this.destroyed=!0,this.simulation.stop(),this.simulation=null},getType:function(){return"graphin-force"}}),o.a.registerLayout("preset",{init:function(){},execute:function(){},destroy:function(){this.destroyed=!0}}),o.a.registerNode("graphin-circle",{options:{style:{},status:{}},draw:function(e,t){var n=e.style._theme;this.options=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=I(e),n=t.defaultNodeStyle,r=t.defaultNodeStatusStyle;return{style:n.style,status:r.status}}(n);var r=Object(Re.deepMix)({},this.options.style,e.style);e._initialStyle=Object.assign({},r);var i=r.icon,o=r.badges,a=void 0===o?[]:o,s=Ke(r.keyshape.size);t.addShape("circle",Ze(r));var u=t.addShape("circle",Qe(r));t.addShape("text",$e(r));var c=i.type;if("text"!==c&&"font"!==c||t.addShape("text",Je(r)),"image"===c){var l=Je(r),f=t.addShape("image",l),d=r.icon.clip;if(d){var h=d.r,p=qe(d,["r"]);f.setClip({type:"circle",attrs:Object.assign({x:0,y:0,r:h},p)})}}return a.forEach(function(e){tt(e,t,s)}),u},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=Object(Re.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach(function(n){e===n&&(t?Ge(o,a[n],et):(Ge(o,s,et),u.forEach(function(e){Ge(o,a[e],et)})))})}catch(c){console.error(c)}}},update:function(e,t){if(e.style)try{var n=Object(Re.deepMix)({},e._initialStyle,e.style);e._initialStyle=Object.assign({},n);var r=n.badges,i=Ke(n.keyshape.size),o=t.getContainer(),a=o.get("children");Ge(a,n,et);var s=We(a);if(r){var u=0;s.forEach(function(e){e.cfg.name.startsWith("badges")?a.splice(u,1):u+=1}),r.forEach(function(e){tt(e,o,i)})}}catch(c){console.error("error")}}}),o.a.registerEdge("graphin-line",{draw:function(e,t){var n,r,i,o,a,s,u,c=e.style._theme;this.options=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=I(e),n=t.defaultEdgeStyle,r=t.defaultEdgeStatusStyle;return{style:n.style,status:r.status}}(c);var l=Object(Re.deepMix)({},this.options.style,e.style);e&&(e._initialStyle=Object.assign({},l));var f=e.startPoint,d=void 0===f?{x:0,y:0}:f,h=e.endPoint,p=void 0===h?{x:0,y:0}:h,g=e.sourceNode,v=e.targetNode,m=l.label,y=l.halo,b=l.keyshape,x=g.get("model"),_=(null===(n=v)||void 0===n?void 0:n.get("model"))||{id:"temp"},w=(null===(i=null===(r=x.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||28,E="loop"===(null===b||void 0===b?void 0:b.type)||x.id===_.id,S=m.value,O="poly"===(null===b||void 0===b?void 0:b.type),k=ct(d,p,(null===(o=null===b||void 0===b?void 0:b.poly)||void 0===o?void 0:o.distance)||0),M=(null===b||void 0===b?void 0:b.lineWidth)||1,C=M+5,A=function(e,t){var n,r,i,o=e.startPoint,a=void 0===o?{x:0,y:0}:o,s=e.endPoint,u=void 0===s?{x:0,y:0}:s,c=e.sourceNode,l=e.targetNode,f=t.keyshape,d=f.type,h=void 0===d?"line":d,p=f.poly,g=void 0===p?{distance:0}:p,v=f.loop,m=void 0===v?{}:v,y=c.get("model"),b=(null===(n=l)||void 0===n?void 0:n.get("model"))||{id:"temp"};if("loop"===h||y.id===b.id){var x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||26,_=Object.assign({distance:0,dx:8,rx:void 0,ry:void 0},m),w=_.distance,E=_.dx,S=_.rx,O=_.ry,k=x/2,M=Math.sqrt(Math.max(Math.pow(k,2)-Math.pow(E,2),0)),C=S||2*k*.5,A=O||2*k*.6;return[["M",a.x-E,a.y-M],["A",C+w,A+w,0,1,1,a.x+E,a.y-M]]}if("poly"===h){var j=ct(a,u,(null===g||void 0===g?void 0:g.distance)||0);return[["M",a.x,a.y],["Q",j.x,j.y,u.x,u.y]]}return[["M",a.x,a.y],["L",u.x,u.y]]}(e,l);t.addShape("path",{attrs:Object.assign({id:"halo",path:A,lineWidth:M+10,stroke:y.stroke||b.stroke,strokeOpacity:y.strokeOpacity||.4},y),draggable:!0,name:"halo",visible:!1!==y.visible});var j=t.addShape("path",{attrs:Object.assign({id:"keyshape",path:A,endArrow:E?void 0:{d:0,path:"M 0,0 L ".concat(C,",").concat(C/2," L ").concat(C,",-").concat(C/2," Z"),fill:b.stroke},startArrow:E?{d:0,path:"M 0,0 L ".concat(C,",").concat(C/2," L ").concat(C,",-").concat(C/2," Z"),fill:b.stroke}:void 0},b),draggable:!0,name:"keyshape"});if(S){var T=m.value,N=m.fontSize,P=void 0===N?8:N,D=m.offset,L=void 0===D?[0,0]:D,R=m.background,B=at(m,["value","fontSize","offset","background"]),F=Boolean(R),z=rt(L,2),G=z[0],U=z[1],V=Math.atan((p.y-d.y)/(p.x-d.x)),W=[(d.x+p.x)/2,(d.y+p.y)/2];if(O&&(W=[(k.x+W[0])/2,(k.y+W[1])/2]),p.x-d.x===0&&(V=Math.PI/2),E&&(V=2*Math.PI),F){var Y={fill:"#fff",width:Object(nt.a)(T)*P*.6,height:1.8*P,stroke:b.stroke,lineWidth:1,radius:6},X=Object.assign(Object.assign({},Y),R),H=X.fill,q=X.width,K=X.height,Z=X.stroke,Q=at(X,["fill","width","height","stroke"]),$=-K/2+U;E&&($=-(K/2+U+P+1*w+2*((null===(a=null===b||void 0===b?void 0:b.loop)||void 0===a?void 0:a.distance)||0)));var J=t.addShape("rect",{attrs:Object.assign({id:"label-background",x:-q/2+G,y:$,width:q,height:K,fill:H,stroke:Z},Q),draggable:!0,name:"label-background"});J.rotate(V),J.translate(W[0],W[1])}var ee=U-P/2;F&&(ee=U+P/2),E&&(ee=F?-(U+P/2+1*w+2*((null===(s=null===b||void 0===b?void 0:b.loop)||void 0===s?void 0:s.distance)||0)):-(U+P+1*w+2*((null===(u=null===b||void 0===b?void 0:b.loop)||void 0===u?void 0:u.distance)||0)));var te=t.addShape("text",{attrs:Object.assign({id:"label",x:G,y:ee,text:T,fontSize:P},B),draggable:!0,name:"label"});te.rotate(V),te.translate(W[0],W[1])}return j},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=Object(Re.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach(function(n){e===n&&(t?Ge(o,a[n],ut):(Ge(o,s,ut),u.forEach(function(e){Ge(o,a[e],ut)})))})}catch(c){console.error(c)}}},afterDraw:function(e,t){var n=Object(Re.deepMix)({},this.options.style,e.style),r=n.animate,i=n.keyshape;if(r&&r.type&&!1!==r.visible){var o=t.get("children").find(function(e){return"keyshape"===e.get("name")}),a=r.color,s=r.type,u=r.repeat,c=void 0===u||u,l=r.duration,f=void 0===l?3e3:l;if("circle-running"===s){var d=o.getPoint(0);t.addShape("circle",{attrs:{x:d.x,y:d.y,fill:a||i.stroke,r:1.5*i.lineWidth+2},name:"circle-shape"}).animate(function(e){var t=o.getPoint(e);return{x:t.x,y:t.y}},{repeat:c,duration:f})}if("line-dash"===s){var h=0,p=r.lineDash||i.lineDash||[4,2,1,2];o.animate(function(){return++h>9&&(h=0),{lineDash:p,lineDashOffset:-h}},{repeat:c,duration:f})}if("line-growth"===s){var g=o.getTotalLength();o.animate(function(e){var t=e*g;return{lineDash:[t,g-t]}},{repeat:c,duration:f})}}}});Z.registerFontFamily,t.a=Z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var r=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.zipObject=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var r=n(39),i=n(75);t.addDummyNode=function(e,t,n,r){var i;do{i="".concat(r).concat(Math.random())}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i};t.simplify=function(e){var t=(new i.Graph).setGraph(e.graph());return e.nodes().forEach(function(n){t.setNode(n,e.node(n))}),e.edges().forEach(function(n){var r=t.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t};t.asNonCompoundGraph=function(e){var t=new i.Graph({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))}),e.edges().forEach(function(n){t.setEdgeObj(n,e.edge(n))}),t};t.zipObject=function(e,t){return null===e||void 0===e?void 0:e.reduce(function(e,n,r){return e[n]=t[r],e},{})};t.successorWeights=function(e){var t={};return e.nodes().forEach(function(n){var r,i={};null===(r=e.outEdges(n))||void 0===r||r.forEach(function(t){var n;i[t.w]=(i[t.w]||0)+((null===(n=e.edge(t))||void 0===n?void 0:n.weight)||0)}),t[n]=i}),t};t.predecessorWeights=function(e){var n=e.nodes(),r=n.map(function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach(function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight}),r});return(0,t.zipObject)(n,r)};t.intersectRect=function(e,t){var n,r,i=Number(e.x),o=Number(e.y),a=Number(t.x)-i,s=Number(t.y)-o,u=Number(e.width)/2,c=Number(e.height)/2;return a||s?(Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};t.buildLayerMatrix=function(e){for(var n=[],r=(0,t.maxRank)(e)+1,i=0;i<r;i++)n.push([]);e.nodes().forEach(function(t){var r=e.node(t).rank;void 0!==r&&n[r]&&n[r].push(t)});for(i=0;i<r;i++)n[i]=n[i].sort(function(t,n){var r,i,o,a;return o=null===(r=e.node(t))||void 0===r?void 0:r.order,a=null===(i=e.node(n))||void 0===i?void 0:i.order,Number(o)-Number(a)});return n};t.normalizeRanks=function(e){var t=e.nodes().filter(function(t){var n;return void 0!==(null===(n=e.node(t))||void 0===n?void 0:n.rank)}).map(function(t){return e.node(t).rank}),n=Math.min.apply(Math,t);e.nodes().forEach(function(t){var r=e.node(t);r.hasOwnProperty("rank")&&n!==1/0&&(r.rank-=n)})};t.removeEmptyRanks=function(e){var t=e.nodes(),n=t.filter(function(t){var n;return void 0!==(null===(n=e.node(t))||void 0===n?void 0:n.rank)}).map(function(t){return e.node(t).rank}),r=Math.min.apply(Math,n),i=[];t.forEach(function(t){var n,o=((null===(n=e.node(t))||void 0===n?void 0:n.rank)||0)-r;i[o]||(i[o]=[]),i[o].push(t)});for(var o=0,a=e.graph().nodeRankFactor||0,s=0;s<i.length;s++){var u=i[s];void 0===u?s%a!==0&&(o-=1):o&&(null===u||void 0===u||u.forEach(function(t){var n=e.node(t);n&&(n.rank=n.rank||0,n.rank+=o)}))}};t.addBorderNode=function(e,n,i,o){var a={width:0,height:0};return(0,r.isNumber)(i)&&(0,r.isNumber)(o)&&(a.rank=i,a.order=o),(0,t.addDummyNode)(e,"border",a,n)};t.maxRank=function(e){var t;return e.nodes().forEach(function(n){var r,i=null===(r=e.node(n))||void 0===r?void 0:r.rank;void 0!==i&&(void 0===t||i>t)&&(t=i)}),t||(t=0),t};t.partition=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n};t.time=function(e,t){var n=Date.now();try{return t()}finally{console.log("".concat(e," time: ").concat(Date.now()-n,"ms"))}};t.notime=function(e,t){return t()};t.minBy=function(e,t){return e.reduce(function(e,n){return t(e)>t(n)?n:e})}},function(e,t,n){"use strict";var r=n(1),i={graph:{},apis:{},theme:{},layout:{}},o=n.n(r).a.createContext(i);t.a=o},function(e,t,n){"use strict";var r=n(1),i=r.createContext({});t.a=i},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"leftTranslate",function(){return k}),n.d(r,"leftRotate",function(){return M}),n.d(r,"leftScale",function(){return C}),n.d(r,"transform",function(){return A}),n.d(r,"direction",function(){return j}),n.d(r,"angleTo",function(){return T}),n.d(r,"vertical",function(){return I});var i={};n.r(i),n.d(i,"getAdjMatrix",function(){return N}),n.d(i,"breadthFirstSearch",function(){return G}),n.d(i,"connectedComponent",function(){return W}),n.d(i,"getDegree",function(){return X}),n.d(i,"getInDegree",function(){return H}),n.d(i,"getOutDegree",function(){return q}),n.d(i,"detectCycle",function(){return J}),n.d(i,"detectDirectedCycle",function(){return Qe}),n.d(i,"detectAllCycles",function(){return $}),n.d(i,"detectAllDirectedCycle",function(){return Q}),n.d(i,"detectAllUndirectedCycle",function(){return Z}),n.d(i,"depthFirstSearch",function(){return K}),n.d(i,"dijkstra",function(){return ee}),n.d(i,"findAllPath",function(){return ie}),n.d(i,"findShortestPath",function(){return re}),n.d(i,"floydWarshall",function(){return oe}),n.d(i,"labelPropagation",function(){return ae}),n.d(i,"louvain",function(){return pe}),n.d(i,"iLouvain",function(){return ge}),n.d(i,"kCore",function(){return ve}),n.d(i,"kMeans",function(){return ye}),n.d(i,"cosineSimilarity",function(){return be}),n.d(i,"nodesCosineSimilarity",function(){return xe}),n.d(i,"minimumSpanningTree",function(){return ke}),n.d(i,"pageRank",function(){return Me}),n.d(i,"getNeighbors",function(){return B}),n.d(i,"Stack",function(){return Ze}),n.d(i,"GADDI",function(){return Ke}),n.d(i,"default",function(){return $e});var o={};n.r(o),n.d(o,"compare",function(){return et}),n.d(o,"getLineIntersect",function(){return nt}),n.d(o,"getRectIntersectByPoint",function(){return rt}),n.d(o,"getCircleIntersectByPoint",function(){return it}),n.d(o,"getEllipseIntersectByPoint",function(){return ot}),n.d(o,"applyMatrix",function(){return at}),n.d(o,"invertMatrix",function(){return st}),n.d(o,"getCircleCenterByPoints",function(){return ut}),n.d(o,"distance",function(){return ct}),n.d(o,"scaleMatrix",function(){return lt}),n.d(o,"floydWarshall",function(){return ft}),n.d(o,"getAdjMatrix",function(){return dt}),n.d(o,"translate",function(){return ht}),n.d(o,"move",function(){return pt}),n.d(o,"scale",function(){return gt}),n.d(o,"rotate",function(){return vt}),n.d(o,"getDegree",function(){return mt}),n.d(o,"isPointInPolygon",function(){return bt}),n.d(o,"intersectBBox",function(){return xt}),n.d(o,"isPolygonsIntersect",function(){return _t}),n.d(o,"Line",function(){return wt}),n.d(o,"getBBoxBoundLine",function(){return Et}),n.d(o,"itemIntersectByLine",function(){return Ot}),n.d(o,"fractionToLine",function(){return kt}),n.d(o,"getPointsCenter",function(){return Mt}),n.d(o,"squareDist",function(){return Ct}),n.d(o,"pointLineSquareDist",function(){return At}),n.d(o,"isPointsOverlap",function(){return jt}),n.d(o,"pointRectSquareDist",function(){return Tt}),n.d(o,"pointLineDistance",function(){return It}),n.d(o,"lerp",function(){return Nt}),n.d(o,"lerpArray",function(){return Pt});var a={};n.r(a),n.d(a,"getBBox",function(){return Qt}),n.d(a,"getLoopCfgs",function(){return $t}),n.d(a,"getLabelPosition",function(){return Jt}),n.d(a,"traverseTree",function(){return tn}),n.d(a,"traverseTreeUp",function(){return nn}),n.d(a,"getLetterWidth",function(){return rn}),n.d(a,"getTextSize",function(){return on}),n.d(a,"truncateLabelByLength",function(){return an}),n.d(a,"plainCombosToTrees",function(){return sn}),n.d(a,"reconstructTree",function(){return un}),n.d(a,"getComboBBox",function(){return cn}),n.d(a,"shouldRefreshEdge",function(){return ln}),n.d(a,"cloneBesidesImg",function(){return fn}),n.d(a,"getAnimateCfgWithCallback",function(){return dn});var s={};n.r(s),n.d(s,"catmullRomToBezier",function(){return bn}),n.d(s,"fillPath",function(){return Fn}),n.d(s,"fillPathByDiff",function(){return Un}),n.d(s,"formatPath",function(){return Yn}),n.d(s,"intersection",function(){return Ln}),n.d(s,"parsePathArray",function(){return kn}),n.d(s,"parsePathString",function(){return yn}),n.d(s,"pathToAbsolute",function(){return _n}),n.d(s,"pathToCurve",function(){return Sn}),n.d(s,"rectPath",function(){return Tn});var u={};n.r(u),n.d(u,"easeLinear",function(){return ei}),n.d(u,"easeQuad",function(){return ri}),n.d(u,"easeQuadIn",function(){return ti}),n.d(u,"easeQuadOut",function(){return ni}),n.d(u,"easeQuadInOut",function(){return ri}),n.d(u,"easeCubic",function(){return ai}),n.d(u,"easeCubicIn",function(){return ii}),n.d(u,"easeCubicOut",function(){return oi}),n.d(u,"easeCubicInOut",function(){return ai}),n.d(u,"easePoly",function(){return ci}),n.d(u,"easePolyIn",function(){return si}),n.d(u,"easePolyOut",function(){return ui}),n.d(u,"easePolyInOut",function(){return ci}),n.d(u,"easeSin",function(){return pi}),n.d(u,"easeSinIn",function(){return di}),n.d(u,"easeSinOut",function(){return hi}),n.d(u,"easeSinInOut",function(){return pi}),n.d(u,"easeExp",function(){return yi}),n.d(u,"easeExpIn",function(){return vi}),n.d(u,"easeExpOut",function(){return mi}),n.d(u,"easeExpInOut",function(){return yi}),n.d(u,"easeCircle",function(){return _i}),n.d(u,"easeCircleIn",function(){return bi}),n.d(u,"easeCircleOut",function(){return xi}),n.d(u,"easeCircleInOut",function(){return _i}),n.d(u,"easeBounce",function(){return Ni}),n.d(u,"easeBounceIn",function(){return Ii}),n.d(u,"easeBounceOut",function(){return Ni}),n.d(u,"easeBounceInOut",function(){return Pi}),n.d(u,"easeBack",function(){return Ri}),n.d(u,"easeBackIn",function(){return Di}),n.d(u,"easeBackOut",function(){return Li}),n.d(u,"easeBackInOut",function(){return Ri}),n.d(u,"easeElastic",function(){return zi}),n.d(u,"easeElasticIn",function(){return Fi}),n.d(u,"easeElasticOut",function(){return zi}),n.d(u,"easeElasticInOut",function(){return Gi});var c={};n.r(c),n.d(c,"distance",function(){return lo}),n.d(c,"isNumberEqual",function(){return fo}),n.d(c,"getBBoxByArray",function(){return ho}),n.d(c,"getBBoxRange",function(){return po}),n.d(c,"piMod",function(){return go});var l={};n.r(l),n.d(l,"uniqueId",function(){return da}),n.d(l,"formatPadding",function(){return ha}),n.d(l,"cloneEvent",function(){return pa}),n.d(l,"isViewportChanged",function(){return ga}),n.d(l,"isNaN",function(){return va}),n.d(l,"calculationItemsBBox",function(){return ma}),n.d(l,"processParallelEdges",function(){return ya});var f={};n.r(f),n.d(f,"getSpline",function(){return Ua}),n.d(f,"getControlPoint",function(){return Va}),n.d(f,"pointsToPolygon",function(){return Wa}),n.d(f,"pathToPoints",function(){return Ya}),n.d(f,"getClosedSpline",function(){return Xa}),n.d(f,"roundedHull",function(){return Za}),n.d(f,"paddedHull",function(){return Qa});var d={};n.r(d),n.d(d,"defaultSubjectColors",function(){return ks});var h={};n.r(h),n.d(h,"Base",function(){return vu}),n.d(h,"Circle",function(){return mu}),n.d(h,"Ellipse",function(){return bu}),n.d(h,"Image",function(){return _u}),n.d(h,"Line",function(){return Eu}),n.d(h,"Marker",function(){return Ou}),n.d(h,"Path",function(){return Lu}),n.d(h,"Polygon",function(){return Bu}),n.d(h,"Polyline",function(){return Fu}),n.d(h,"Rect",function(){return zu}),n.d(h,"Text",function(){return Gu});var p={};n.r(p),n.d(p,"Base",function(){return tc}),n.d(p,"Circle",function(){return nc}),n.d(p,"Dom",function(){return rc}),n.d(p,"Ellipse",function(){return ic}),n.d(p,"Image",function(){return oc}),n.d(p,"Line",function(){return ac}),n.d(p,"Marker",function(){return cc}),n.d(p,"Path",function(){return lc}),n.d(p,"Polygon",function(){return fc}),n.d(p,"Polyline",function(){return dc}),n.d(p,"Rect",function(){return hc}),n.d(p,"Text",function(){return mc});var g={};n.r(g),n.d(g,"mixColor",function(){return tl}),n.d(g,"getColorsWithSubjectColor",function(){return nl}),n.d(g,"getColorSetsBySubjectColors",function(){return rl});var v={};n.r(v),n.d(v,"proccessToFunc",function(){return vl}),n.d(v,"buildTextureData",function(){return ml}),n.d(v,"buildTextureDataWithOneEdgeAttr",function(){return yl}),n.d(v,"buildTextureDataWithTwoEdgeAttr",function(){return bl}),n.d(v,"attributesToTextureData",function(){return xl}),n.d(v,"arrayToTextureData",function(){return _l}),n.d(v,"radialLayout",function(){return wl});var m={};n.r(m),n.d(m,"gpuDetector",function(){return El});var y={};n.r(y),n.d(y,"default",function(){return Zf}),n.d(y,"assign",function(){return jf}),n.d(y,"format",function(){return qf}),n.d(y,"parse",function(){return Kf}),n.d(y,"defaultI18n",function(){return Pf}),n.d(y,"setGlobalDateI18n",function(){return Lf}),n.d(y,"setGlobalDateMasks",function(){return Hf});var b=n(2),x=n(0),_={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),Object(x.each)(n,function(t,n){e.on(n,t)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),Object(x.each)(t,function(t,n){e.off(n,t)}),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},w=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=Object(x.clone)(_);Object.assign(r,n);var i=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&(Object(x.each)(n,function(e,n){r[n]=Object(x.wrapBehavior)(t,e)}),this.events=r)};i.prototype=r,e.types[t]=i},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),E=w,S=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),O=n(3);function k(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return O.mat3.fromTranslation(r,n),O.mat3.multiply(e,r,t)}function M(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return O.mat3.fromRotation(r,n),O.mat3.multiply(e,r,t)}function C(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return O.mat3.fromScaling(r,n),O.mat3.multiply(e,r,t)}function A(e,t){for(var n,r,i,o=e?[].concat(e):[1,0,0,0,1,0,0,0,1],a=0,s=t.length;a<s;a++){var u=t[a];switch(u[0]){case"t":k(o,o,[u[1],u[2]]);break;case"s":C(o,o,[u[1],u[2]]);break;case"r":M(o,o,u[1]);break;case"m":n=o,r=o,i=u[1],O.mat3.multiply(n,i,r)}}return o}function j(e,t){return e[0]*t[1]-t[0]*e[1]}function T(e,t,n){var r=O.vec2.angle(e,t),i=j(e,t)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r}function I(e,t,n){return n?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e}var N=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(e,t){o[e.id]=t,i.push([])}),r&&r.forEach(function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))}),i},P=function(e,t){return e===t},D=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),L=function(){function e(e){void 0===e&&(e=P),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new D(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new D(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach(function(e){return t.append(e)}),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},e}(),R=function(){function e(){this.linkedList=new L}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),B=function(e,t,n){void 0===t&&(t=[]);var r=t.filter(function(t){return t.source===e||t.target===e});if("target"===n){return r.filter(function(t){return t.source===e}).map(function(e){return e.target})}if("source"===n){return r.filter(function(t){return t.target===e}).map(function(e){return e.source})}return r.map(function(t){return t.source===e?t.target:t.source})},F=function(e,t){return t.filter(function(t){return t.source===e||t.target===e})},z=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var G=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),o=new R,a=e.edges,s=void 0===a?[]:a;o.enqueue(t);for(var u="",c=function(){var e=o.dequeue();i.enter({current:e,previous:u}),B(e,s,r?"target":void 0).forEach(function(t){i.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)}),i.leave({current:e,previous:u}),u=e};!o.isEmpty();)c()},U=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=B(t.id,i),o=function(t){var i=r[t];if(!a[i]){var o=n.filter(function(e){return e.id===i});o.length>0&&e(o[0])}},u=0;u<r.length;++u)o(u)},c=0;c<n.length;c++){var l=n[c];if(!a[l.id]){u(l);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o},V=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},c=[],l=0,f=function e(t){s[t.id]=l,u[t.id]=l,l+=1,o.push(t),a[t.id]=!0;for(var r=B(t.id,i,"target").filter(function(e){return n.map(function(e){return e.id}).indexOf(e)>-1}),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[t.id]=Math.min(u[t.id],s[o]));else{var c=n.filter(function(e){return e.id===o});c.length>0&&e(c[0]),u[t.id]=Math.min(u[t.id],u[o])}},d=0;d<r.length;d++)f(d);if(u[t.id]===s[t.id]){for(var h=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&c.push(h)}},d=0,h=n;d<h.length;d++){var p=h[d];s[p.id]||0===s[p.id]||f(p)}return c};function W(e,t){return t?V(e):U(e)}var Y=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach(function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++}),t},X=Y,H=function(e,t){return Y(e)[t]?Y(e)[t].inDegree:0},q=function(e,t){return Y(e)[t]?Y(e)[t].outDegree:0};function K(e,t,n){!function e(t,n,r,i){i.enter({current:n,previous:r});var o=t.edges;B(n,void 0===o?[]:o,"target").forEach(function(o){i.allowTraversal({previous:r,current:n,next:o})&&e(t,o,n,i)}),i.leave({current:n,previous:r})}(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var Z=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=W(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var c=u[0],l=c.id,f=[c],d=((r={})[l]=c,r),h=((i={})[l]=new Set,i);f.length>0;)for(var p=f.pop(),g=p.id,v=B(g,e.edges),m=function(r){var i,a=v[r],s=e.nodes.find(function(e){return e.id===a});if(a===g)o.push(((i={})[a]=p,i));else if(a in h){if(!h[g].has(s)){for(var u=!0,c=[s,p],l=d[g];h[a].size&&!h[a].has(l)&&(c.push(l),l!==d[l.id]);)l=d[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex(function(e){return t.indexOf(e.id)>-1})>-1&&(u=!0)):t&&!n&&c.findIndex(function(e){return t.indexOf(e.id)>-1})>-1&&(u=!1),u){for(var m={},y=1;y<c.length;y+=1)m[c[y-1].id]=c[y];c.length&&(m[c[c.length-1].id]=c[0]),o.push(m)}h[a].add(p)}}else d[a]=p,f.push(s),h[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return o},Q=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},c=function e(u,c,l){var f=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return f;r.push(u),i.add(u);for(var d=l[u.id],h=0;h<d.length;h+=1){if((v=s[d[h]])===c){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),f=!0}else i.has(v)||e(v,c,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach(function(e){t.push(e)}),o[n.id].clear())}}(u);else for(h=0;h<d.length;h+=1){var v=s[d[h]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),f},l=e.nodes,f=void 0===l?[]:l,d=0;d<f.length;d+=1){var h=f[d],p=h.id;u[p]=d,s[d]=h}if(t&&n){var g=function(e){var n=t[e];u[f[e].id]=u[n],u[n]=0,s[0]=f.find(function(e){return e.id===n}),s[u[f[e].id]]=f[e]};for(d=0;d<t.length;d++)g(d)}for(var v=function(r){for(var i,o,s=1/0,c=0;c<r.length;c+=1)for(var l=r[c],f=0;f<l.length;f++){var d=u[l[f].id];d<s&&(s=d,o=c)}var h=r[o],p=[];for(c=0;c<h.length;c+=1){var g=h[c];p[g.id]=[];for(var v=0,m=B(g.id,e.edges,"target").filter(function(e){return h.map(function(e){return e.id}).indexOf(e)>-1});v<m.length;v++){var y=m[v];y!==g.id||!1===n&&t.indexOf(g.id)>-1?p[g.id].push(u[y]):a.push(((i={})[g.id]=g,i))}}return{component:h,adjList:p,minIdx:s}},m=0;m<f.length;){var y=f.filter(function(e){return u[e.id]>=m}),b=V({nodes:y,edges:e.edges}).filter(function(e){return e.length>1});if(0===b.length)break;var x=v(b),_=x.minIdx,w=x.adjList,E=x.component;if(!(E.length>1))break;E.forEach(function(e){o[e.id]=new Set});var S=s[_];if(t&&n&&-1===t.indexOf(S.id))return a;c(S,S,w),m=_+1}return a},$=function(e,t,n,r){return void 0===r&&(r=!0),t?Q(e,n,r):Z(e,n,r)},J=function(e){var t=null,n=e.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach(function(e){i[e.id]=e});for(var s={enter:function(e){var n=e.current,a=e.previous;if(o[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete o[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(i).length;)K(e,Object.keys(i)[0],s);return t},ee=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u=[],c={},l={},f={};o.forEach(function(e,n){var r=e.id;u.push(r),l[r]=1/0,r===t&&(l[r]=0)});for(var d=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(l,o,c),i=t.id;if(c[i]=!0,l[i]===1/0)return"continue";(n?function(e,t){return t.filter(function(t){return t.source===e})}(i,s):F(i,s)).forEach(function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;l[a]>l[t.id]+s?(l[a]=l[t.id]+s,f[a]=[t.id]):l[a]===l[t.id]+s&&f[a].push(t.id)})},p=0;p<d;p++)h();f[t]=[t];var g={};for(var v in l)l[v]!==1/0&&te(t,v,f,g);var m={};for(var v in g)m[v]=g[v][0];return{length:l,path:m,allPath:g}};function te(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=te(e,a[o],n,r);if(!s)return;for(var u=0,c=s;u<c.length;u++){var l=c[u];Object(x.isArray)(l)?i.push(Object(b.__spreadArray)(Object(b.__spreadArray)([],l,!0),[t],!1)):i.push([l,t])}}return r[t]=i,r[t]}var ne,re=function(e,t,n,r,i){var o=ee(e,t,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},ie=function(e,t,n,r){var i;if(t===n)return[[t]];var o=e.edges,a=void 0===o?[]:o,s=[t],u=((i={})[t]=!0,i),c=[],l=[],f=r?B(t,a,"target"):B(t,a);for(c.push(f);s.length>0&&c.length>0;){var d=c[c.length-1];if(d.length){var h=d.shift();if(h&&(s.push(h),u[h]=!0,f=r?B(h,a,"target"):B(h,a),c.push(f.filter(function(e){return!u[e]}))),s[s.length-1]===n){var p=s.map(function(e){return e});l.push(p);g=s.pop();u[g]=!1,c.pop()}}else{var g=s.pop();u[g]=!1,c.pop()}}return l},oe=function(e,t){for(var n=N(e,t),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},ae=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u={},c={};o.forEach(function(e,t){var n=z();e.clusterId=n,u[n]={id:n,nodes:[e]},c[e.id]={node:e,idx:t}});var l=N(e,t),f=[],d={};l.forEach(function(e,t){var n=0,r=o[t].id;d[r]={},e.forEach(function(e,t){if(e){n+=e;var i=o[t].id;d[r][i]=e}}),f.push(n)});for(var h=0,p=function(){var e=!1;if(o.forEach(function(t){var n={};Object.keys(d[t.id]).forEach(function(e){var r=d[t.id][e],i=c[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r});var r=-1/0,i=[];if(Object.keys(n).forEach(function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)}),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var l=Math.floor(Math.random()*i.length),f=u[i[l]];f.nodes.push(t),t.clusterId=f.id}}}),!e)return"break";h++};h<r&&"break"!==p(););Object.keys(u).forEach(function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]});var g=[],v={};s.forEach(function(e){var t=e.source,r=e.target,i=e[n]||1,o=c[t].node.clusterId,a=c[r].node.clusterId,s="".concat(o,"---").concat(a);if(v[s])v[s].weight+=i,v[s].count++;else{var u={source:o,target:a,weight:i,count:1};v[s]=u,g.push(u)}});var m=[];return Object.keys(u).forEach(function(e){m.push(u[e])}),{clusters:m,clusterEdges:g}},se=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=Object(x.clone)(this.arr);n.sort(function(e,t){return e-t});var r=n[n.length-1],i=n[0];for(var o in this.arr)t[o]=(this.arr[o]-i)/(r-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),ue=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach(function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])}),n};!function(e){e.EuclideanDistance="euclideanDistance"}(ne||(ne={}));var ce=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach(function(e){r=r.concat(Object.keys(e))}),r=Object(x.uniq)(r));var i={};return r.forEach(function(t){var r=[];e.forEach(function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])}),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=Object(x.uniq)(r))}),i},le=function(e,t,n){var r=ce(e,t,n),i=[];return Object.keys(r).length?(e.forEach(function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every(function(e){return!isNaN(Number(e))})&&(n=[e[o]])}else Object.keys(r).forEach(function(t){for(var i=e[t],o=r[t],a=o.findIndex(function(e){return i===e}),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)});i[t]=n}),i):i},fe=function(e,t,n,r){void 0===n&&(n=ne.EuclideanDistance);var i=0;switch(n){case ne.EuclideanDistance:i=new se(e).euclideanDistance(new se(t))}return i},de=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,c=0;c<i;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/o}return a*=1/o},he=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new se([]),i=0;i<n;i++)r=r.add(new se(t[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new se(t[i])).squareEuclideanDistance(o)}var s=[];e.forEach(function(){s.push([])});for(i=0;i<n;i++){var u=new se(t[i]);e[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var l=new se(t[c]);s[i][c]=u.squareEuclideanDistance(l),e[i].clusterInertial+=s[i][c]}else s[i][c]=0}var f=0,d=2*n*a;for(i=0;i<n;i++){var h=e[i].clusterId;for(c=0;c<n;c++){var p=e[c].clusterId;if(i!==c&&h===p)f+=e[i].clusterInertial*e[c].clusterInertial/Math.pow(d,2)-s[i][c]/d}}return Number(f.toFixed(4))},pe=function(e,t,n,r,i,o,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=[];if(i){l.forEach(function(e,t){e.properties=e.properties||{},e.originIndex=t});var p=[];l.every(function(e){return e.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(l.map(function(e){return e.nodeType}))),l.forEach(function(e){e.properties.nodeType=p.findIndex(function(t){return t===e.nodeType})}));var g=ue(l,o);h=le(g,a,s)}var v=1,m={},y={};l.forEach(function(e,t){var n=String(v++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}});var b=N(e,t),_=[],w={},E=0;b.forEach(function(e,t){var n=0,r=l[t].id;w[r]={},e.forEach(function(e,t){if(e){n+=e;var i=l[t].id;w[r][i]=e,E+=e}}),_.push(n)}),E/=2;for(var S=1/0,O=1/0,k=0,M=[],C={};;){S=i&&l.every(function(e){return e.hasOwnProperty("properties")})?de(l,b,_,E)+he(l,h)*u:de(l,b,_,E),0===k&&(O=S,M=l,C=m);var A=S>0&&S>O&&S-O<r;if(S>O&&(M=l.map(function(e){return{node:e,clusterId:e.clusterId}}),C=Object(x.clone)(m),O=S),A||k>100)break;k++,Object.keys(m).forEach(function(e){var t=0;d.forEach(function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)}),m[e].sumTot=t}),l.forEach(function(e,t){var r,o=m[e.clusterId],a=0,s=_[t]/(2*E),c=0,l=o.nodes;l.forEach(function(e){var n=y[e.id].idx;c+=b[t][n]||0});var f=c-o.sumTot*s,p=l.filter(function(t){return t.id!==e.id}),g=[];p.forEach(function(e,t){g[t]=h[e.originIndex]});var v=he(p,h)*u,x=w[e.id];if(Object.keys(x).forEach(function(n){var o=y[n].node.clusterId;if(o!==e.clusterId){var c=m[o],l=c.nodes;if(l&&l.length){var d=0;l.forEach(function(e){var n=y[e.id].idx;d+=b[t][n]||0});var p=d-c.sumTot*s,g=l.concat([e]),x=[];g.forEach(function(e,t){x[t]=h[e.originIndex]});var _=he(g,h)*u,w=p-f;i&&(w=p+_-(f+v)),w>a&&(a=w,r=c)}}}),a>0){r.nodes.push(e);var S=e.clusterId;e.clusterId=r.id;var O=o.nodes.indexOf(e);o.nodes.splice(O,1);var k=0,M=0;d.forEach(function(e){var t=e.source,i=e.target,o=y[t].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(k+=e[n]||1),(o===S&&a!==S||a===S&&o!==S)&&(M+=e[n]||1)}),r.sumTot=k,o.sumTot=M}})}var j={},T=0;Object.keys(C).forEach(function(e){var t=C[e];if(t.nodes&&t.nodes.length){var n=String(T+1);n!==e&&(t.id=n,t.nodes=t.nodes.map(function(e){return{id:e.id,clusterId:n}}),C[n]=t,j[e]=n,delete C[e],T++)}else delete C[e]}),M.forEach(function(e){var t=e.node,n=e.clusterId;t&&(t.clusterId=n,t.clusterId&&j[t.clusterId]&&(t.clusterId=j[t.clusterId]))});var I=[],P={};d.forEach(function(e){var t=e.source,r=e.target,i=e[n]||1,o=y[t].node.clusterId,a=y[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(P[s])P[s].weight+=i,P[s].count++;else{var u={source:o,target:a,weight:i,count:1};P[s]=u,I.push(u)}}});var D=[];return Object.keys(C).forEach(function(e){D.push(C[e])}),{clusters:D,clusterEdges:I}},ge=function(e,t,n,r,i,o,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),pe(e,t,n,r,!0,i,o,a,s)},ve=function(e,t){var n;void 0===t&&(t=1);for(var r=Object(x.clone)(e),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var e=X({nodes:o,edges:s}),r=Object.keys(e);r.sort(function(t,n){var r,i;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(i=e[n])||void 0===i?void 0:i.degree)});var i=r[0];if(!o.length||(null===(n=e[i])||void 0===n?void 0:n.degree)>=t)return"break";var a=o.findIndex(function(e){return e.id===i});o.splice(a,1),s=s.filter(function(e){return!(e.source===i||e.target===i)})};"break"!==u(););return{nodes:o,edges:s}},me=function(e,t,n){var r=[];switch(e){case ne.EuclideanDistance:r=t[n];break;default:r=[]}return r},ye=function(e,t,n,r,i,o){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=ne.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===ne.EuclideanDistance&&!s.every(function(e){return e.hasOwnProperty(n)}))return l;var f=[],d=[];if(o===ne.EuclideanDistance&&(f=ue(s,n),d=le(f,r,i)),!d.length)return l;for(var h=Object(x.uniq)(d.map(function(e){return e.join("")})),p=Math.min(t,s.length,h.length),g=0;g<s.length;g++)s[g].originIndex=g;var v=[],m=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);switch(o){case ne.EuclideanDistance:v[g]=d[b];break;default:v[g]=[]}m.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var _=-1/0,w=0,E=function(e){if(!m.includes(e)){for(var t=0,n=0;n<v.length;n++){var r=0;switch(o){case ne.EuclideanDistance:r=fe(d[s[e].originIndex],v[n],o)}t+=r}var i=t/v.length;i>_&&!v.find(function(t){return Object(x.isEqual)(t,me(o,d,s[e].originIndex))})&&(_=i,w=e)}},S=0;S<s.length;S++)E(S);v[g]=me(o,d,w),m.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var O=0;;){for(g=0;g<s.length;g++){var k=0,M=1/0;if(0!==O||!m.includes(g)){for(var C=0;C<v.length;C++){var A=0;switch(o){case ne.EuclideanDistance:A=fe(d[g],v[C],o)}A<M&&(M=A,k=C)}if(void 0!==s[g].clusterId)for(var j=y[Number(s[g].clusterId)].length-1;j>=0;j--)y[Number(s[g].clusterId)][j].id===s[g].id&&y[Number(s[g].clusterId)].splice(j,1);s[g].clusterId=String(k),y[k].push(s[g])}}var T=!1;for(g=0;g<y.length;g++){var I=y[g],N=new se([]);for(C=0;C<I.length;C++)N=N.add(new se(d[I[C].originIndex]));var P=N.avg(I.length);P.equal(new se(v[g]))||(T=!0,v[g]=P.getArr())}if(O++,s.every(function(e){return void 0!==e.clusterId})&&T||O>=1e3)break}var D=[],L={};return c.forEach(function(e){var t,n,r=e.source,i=e.target,o=null===(t=s.find(function(e){return e.id===r}))||void 0===t?void 0:t.clusterId,a=null===(n=s.find(function(e){return e.id===i}))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(L[u])L[u].count++;else{var c={source:o,target:a,count:1};L[u]=c,D.push(c)}}),{clusters:y,clusterEdges:D}},be=function(e,t){var n=new se(t),r=n.norm2(),i=new se(e),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},xe=function(e,t,n,r,i){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=Object(x.clone)(e.filter(function(e){return e.id!==t.id})),a=e.findIndex(function(e){return e.id===t.id}),s=ue(e,n),u=le(s,r,i),c=u[a],l=[];return o.forEach(function(e,n){if(e.id!==t.id){var r=u[n],i=be(r,c);l.push(i),e.cosineSimilarity=i}}),o.sort(function(e,t){return t.cosineSimilarity-e.cosineSimilarity}),{allCosineSimilarity:l,similarNodes:o}},_e=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),we=function(e,t){return e-t},Ee=function(){function e(e){void 0===e&&(e=we),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),Se=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var c=new Ee(function(e,n){return t?e.weight-n.weight:0});for(F(s.id,a).forEach(function(e){c.insert(e)});!c.isEmpty();){var l=c.delMin(),f=l.source,d=l.target;u.has(f)&&u.has(d)||(n.push(l),u.has(f)||(u.add(f),F(f,a).forEach(function(e){c.insert(e)})),u.has(d)||(u.add(d),F(d,a).forEach(function(e){c.insert(e)})))}return n},Oe=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map(function(e){return e});t&&s.sort(function(e,t){return e.weight-t.weight});for(var u=new _e(i.map(function(e){return e.id}));s.length>0;){var c=s.shift(),l=c.source,f=c.target;u.connected(l,f)||(n.push(c),u.union(l,f))}return n},ke=function(e,t,n){return n?{prim:Se,kruskal:Oe}[n](e,t):Oe(e,t)},Me=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,c=e.edges,l=void 0===c?[]:c,f=u.length,d={},h={},p=0;p<f;++p)d[v=(_=u[p]).id]=1/f,h[v]=1/f;for(var g=X(e);a>0&&i>t;){for(o=0,p=0;p<f;++p){var v=(_=u[p]).id;if(r=0,0===g[_.id].inDegree)d[v]=0;else{for(var m=B(v,l,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(r+=h[b]/x)}d[v]=n*r,o+=d[v]}}for(o=(1-o)/f,i=0,p=0;p<f;++p){var _;r=d[v=(_=u[p]).id]+o,i+=Math.abs(r-h[v]),h[v]=r}a-=1}return h},Ce=-1,Ae=-1,je="-1",Te="-1",Ie=function(){return function(e,t,n,r){void 0===e&&(e=Ce),void 0===t&&(t=Ae),void 0===n&&(n=Ae),void 0===r&&(r=je),this.id=e,this.from=t,this.to=n,this.label=r}}(),Ne=function(){function e(e,t){void 0===e&&(e=Ae),void 0===t&&(t=Te),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),Pe=function(){function e(e,t,n){void 0===e&&(e=Ae),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new Ne(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new Ie(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new Ie(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}(),De=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||Te,edgeLabel:r||je,nodeLabel2:i||Te}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),Le=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new De(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new Pe(e,!0,t);return this.dfsEdgeList.forEach(function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==Te&&n.addNode(t,o),s!==Te&&n.addNode(r,s),o!==Te&&s!==o&&n.addEdge(void 0,t,r,a)}),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},e}(),Re=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),Be=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,c=void 0===u?10:u,l=e.directed,f=void 0!==l&&l,d=e.verbose,h=void 0!==d&&d;this.graphs=t,this.dfsCode=new Le,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=f,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach(function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)}),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=o[l.to].label;t.to===l.to||n>f||r.hasNode(o[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&i.push(l)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach(function(e){t[e.graphId]||(t[e.graphId]=!0)}),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}}),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),i=r.nodeMap,o=new Le,a={};r.nodes.forEach(function(t){e.findForwardRootEdges(r,t).forEach(function(e){var n=i[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[o].projected.push(s)})});var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new De(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),c=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l=o.dfsEdgeList[u[0]].toNode,f={},d=!1,h=0,p=n?-1:0,g=function(t){if(d)return"break";s.forEach(function(n){var i=new Re(n),a=e.findBackwardEdge(r,i.edges[u[t]],i.edges[u[0]],i);a&&(f[a.label]||(f[a.label]={projected:[],edgeLabel:a.label}),f[a.label].projected.push({graphId:r.id,edge:f,preNode:n}),h=o.dfsEdgeList[u[t]].fromNode,d=!0)})},v=u.length-1;v>p&&"break"!==g(v);v--);if(d){var m=e.findMinLabel(f);o.dfsEdgeList.push(new De(l,h,Te,m.edgeLabel,Te));var y=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(f[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach(function(t){var n=new Re(t),o=e.findForwardPureEdges(r,n.edges[u[0]],c,n);o.length>0&&(d=!0,x=l,o.forEach(function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})}))});var _=u.length,w=function(t){if(d)return"break";var n=u[t];s.forEach(function(t){var a=new Re(t),s=e.findForwardRmpathEdges(r,a.edges[n],c,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach(function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})}))})};for(v=0;v<_&&"break"!==w(v);v++);if(!d)return!0;var E=e.findMinLabel(b);o.dfsEdgeList.push(new De(x,l+1,Te,E.edgeLabel,E.nodeLabel2));var S=o.dfsEdgeList.length-1;return t.dfsEdgeList[S]===o.dfsEdgeList[S]&&a(b["".concat(E.edgeLabel,"-").concat(E.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(x.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach(function(e){for(var u=t.graphs[e.graphId],c=u.nodeMap,l=new Re(e),f=r.length-1;f>=0;f--){var d=t.findBackwardEdge(u,l.edges[r[f]],l.edges[r[0]],l);if(d){var h="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(d.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:d.label}),s[h].projected.push({graphId:e.graphId,edge:d,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,l.edges[r[0]],o,l).forEach(function(t){var n="".concat(i,"-").concat(t.label,"-").concat(c[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:t.label,nodeLabel2:c[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})});var p=function(n){t.findForwardRmpathEdges(u,l.edges[r[n]],o,l).forEach(function(i){var o="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(c[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:c[i.to].label}),a[o].projected.push({graphId:e.graphId,edge:i,preNode:e})})};for(f=0;f<r.length;f++)p(f)}}),Object.keys(s).forEach(function(e){var n=s[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new De(i,r,"-1",o,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(a).forEach(function(e){var n=a[e],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new De(r,i+1,Te,o,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()})}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach(function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach(function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=i[c]||0;f++,i[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach(function(e){var r=c,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(i),d="".concat(r,"-").concat(l,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:i}})})}),Object.keys(i).forEach(function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}}),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach(function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach(function(t){e.findForwardRootEdges(i,t).forEach(function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(t){var r=n[t],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new De(0,1,o,a,s)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()})}},e}(),Fe=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,o=void 0===i?"cluster":i,a=e.edgeLabelProp,s=void 0===a?"cluster":a,u=function(e,t,n,r){var i={};return Object.keys(e).forEach(function(o,a){var s=e[o],u=new Pe(a,!0,t),c={};s.nodes.forEach(function(e,t){u.addNode(t,e[n]),c[e.id]=t}),s.edges.forEach(function(e,t){var n=c[e.source],i=c[e.target];u.addEdge(-1,n,i,e[r])}),u&&u.getNodeNum()&&(i[u.id]=u)}),i}(t,r,o,s),c=e.minSupport,l=e.maxNodeNum,f=e.minNodeNum,d=e.verbose,h=e.top,p=new Be({graphs:u,minSupport:c,maxNodeNum:l,minNodeNum:f,top:h,verbose:d,directed:r});return p.run(),function(e,t,n){var r=[];return e.forEach(function(e){var i={nodes:[],edges:[]};e.nodes.forEach(function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))}),e.edges.forEach(function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))}),r.push(i)}),r}(p.frequentSubgraphs,o,s)},ze=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach(function(e,t){i.push(Ge(o,e,t,n,r))}),i},Ge=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach(function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}}),Object.keys(s).forEach(function(e){s[e].dists=s[e].dists.sort(function(e,t){return e-t})}),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},Ue=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach(function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter(function(e){return f.has(e)});if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach(function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)})}}}}),r},Ve=function(e,t,n,r){var i,o,a={};e.nodes.forEach(function(e){a[e.id]=e});var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach(function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(i===u&&o===c||i===c&&o===u)&&s++}),s)},We=function(e,t){var n={},r={};return e.forEach(function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)}),{nodeMap:n,nodeLabelMap:r}},Ye=function(e,t,n){var r={},i={};return e.forEach(function(e,o){r["".concat(z)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)}),{edgeMap:r,edgeLabelMap:i}},Xe=function(e,t,n){var r=t.length,i={};return t.forEach(function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var c=e[u].id,l=t[u];i["".concat(s,"-").concat(c)]=l,n||(i["".concat(c,"-").concat(s)]=l)}}),i},He=function(e,t,n,r,i,o,a,s,u,c,l){var f,d="".concat(t.id,"-").concat(n.id);if(c&&c[d])return c[d];var h=l?l[d]:void 0;if(!h){var p=((f={})[d]={start:r[t.id].idx,end:r[n.id].idx,distance:i},f);h=(l=Ue(p,o,e,l))[d]}return Ve(h,a,s,u)},qe=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach(function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;c>i&&(c=i)}),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},Ke=function(e,t,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var c=oe(e,n),l=oe(t,n),f=Xe(e.nodes,c,n),d=Xe(t.nodes,l,n),h=We(e.nodes,o),p=h.nodeMap,g=h.nodeLabelMap,v=We(t.nodes,o),m=v.nodeMap,y=v.nodeLabelMap;Ye(e.edges,a,p);var x=Ye(t.edges,a,m).edgeLabelMap,_=[];null===l||void 0===l||l.forEach(function(e){_=_.concat(e)}),i||(i=Math.max.apply(Math,Object(b.__spreadArray)(Object(b.__spreadArray)([],_,!1),[2],!1))),r||(r=i);var w=ze(e,c,o,r),E=ze(t,l,o,r),S=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach(function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))}),a}(0,u,Math.min(100,u*(u-1)/2),w,c),O=Ue(S,w,e),k=Fe({graphs:O,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),M=k.length,C=[];k.forEach(function(e,t){C[t]={},Object.keys(O).forEach(function(n){var r=O[n],i=Ve(r,e,o,a);C[t][n]=i})});var A=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort(function(e,t){return n[e]-n[t]}),a=[];o.forEach(function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]});var s=0,u=[];a.forEach(function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach(function(t,i){var o=n[t];e.graphs.forEach(function(e,t){i!==t&&(r+=Math.abs(o-n[e]))})}),s+=r/=i*(i-1)/2}),s/=a.length;var c=0;u.forEach(function(e,t){u.forEach(function(n,r){t!==r&&(c+=Math.abs(e-n))}),c/=u.length*(u.length-1)/2});var l=c-s;r<l&&(r=l,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(C,M,k),j=A.structure,T=A.structureCountMap,I=t.nodes[0],N=[],P=null===(s=t.nodes[0])||void 0===s?void 0:s[o],D=-1/0;t.nodes.forEach(function(e){var t=e[o],n=g[t];(null===n||void 0===n?void 0:n.length)>D&&(D=n.length,N=n,P=t,I=e)});var L={},R={},B={},F={},z={},G={};Object.keys(y).forEach(function(r,i){z[r]=[],n&&(G[r]=[]);var s=-1/0,u=y[r],c={};u.forEach(function(e){var t=d["".concat(I.id,"-").concat(e.id)];if(t&&z[r].push(t),s<t&&(s=t),c["".concat(I.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var i=d["".concat(e.id,"-").concat(I.id)];i&&G[r].push(i)}}),z[r]=z[r].sort(function(e,t){return e-t}),n&&(G[r]=G[r].sort(function(e,t){return e-t})),R=Ue(c,E,t,R);var l=[];if(Object.keys(c).forEach(function(e){if(B[e])l.push(B[e]);else{var t=R[e];B[e]=Ve(t,j,o,a),l.push(B[e])}}),l=l.sort(function(e,t){return t-e}),F["".concat(I.id,"-").concat(r)]=l,r!==P)for(var h=function(t){var n=N[t],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return N.splice(t,1),"continue";for(var c=!1,d=0;d<u;d++)if(s.dists[d]>z[r][d]){c=!0;break}if(c)return N.splice(t,1),"continue";var h={};i.neighbors.forEach(function(e){var t=f["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}}),O=Ue(h,w,e,O);var g=[];Object.keys(h).forEach(function(e){if(T[e])g.push(T[e]);else{var t=O[e];T[e]=Ve(t,j,o,a),g.push(T[e])}}),g=g.sort(function(e,t){return t-e});var v=!1;for(d=0;d<u;d++)if(g[d]<l[d]){v=!0;break}return v?(N.splice(t,1),"continue"):void 0},g=((null===N||void 0===N?void 0:N.length)||0)-1;g>=0;g--)h(g)});var U=[];null===N||void 0===N||N.forEach(function(r){for(var s=p[r.id].idx,u=Ge(e.nodes,c[s],s,o,i).neighbors,l=!1,d=u.length-1;d>=0;d--){if(u.length+1<t.nodes.length)return void(l=!0);var h=u[d],g=h[o];if(y[g]&&y[g].length)if(z[g]&&z[g].length){var v="".concat(r.id,"-").concat(h.id),b=f[v],x=z[g].length-1;if(b>z[g][x])u.splice(d,1);else{if(n){var _="".concat(h.id,"-").concat(r.id),E=f[_];if(x=G[g].length-1,E>G[g][x]){u.splice(d,1);continue}}var S=T[v]?T[v]:He(e,r,h,p,b,w,j,o,a,T,O),k="".concat(I.id,"-").concat(g);if(S<F[k][F[k].length-1])u.splice(d,1);else{var M=qe(L,g,m,y),C=M.minPatternNodeLabelDegree;M.minPatternNodeLabelInDegree,M.minPatternNodeLabelOutDegree,p[h.id].degree<C&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}l||U.push({nodes:[r].concat(u)})});var V=ee(t,I.id,!1).length,W={};n?(Object.keys(V).forEach(function(e){var t=m[e].node[o];W[t]?W[t].push(V[e]):W[t]=[V[e]]}),Object.keys(W).forEach(function(e){W[e].sort(function(e,t){return e-t})})):W=z;for(var Y=function(r){var i=U[r],s=i.nodes[0],u={},c={};i.nodes.forEach(function(e,t){c[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[o];u[n]?u[n]++:u[n]=1});var l=[],f={};e.edges.forEach(function(e){c[e.source]&&c[e.target]&&(l.push(e),f[e[a]]?f[e[a]]++:f[e[a]]=1,c[e.source].degree++,c[e.target].degree++,c[e.source].outDegree++,c[e.target].inDegree++)});for(var d=Object.keys(x).length,h=!1,g=0;g<d;g++){var v=Object.keys(x)[g];if(!f[v]||f[v]<x[v].length){h=!0;break}}if(h)return U.splice(r,1),"continue";var b=l.length;if(b<t.edges.length)return U.splice(r,1),"break";var _=!1,w=function(e){var t=l[e],r=t[a],i=x[r];if(!i||!i.length)return f[r]--,i&&f[r]<i.length?(_=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue");var s=c[t.source].node[o],u=c[t.target].node[o],d=!1;return i.forEach(function(e){var t=m[e.source].node,r=m[e.target].node;t[o]===s&&r[o]===u&&(d=!0),n||t[o]!==u||r[o]!==s||(d=!0)}),d?void 0:(f[r]--,i&&f[r]<i.length?(_=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue"))};for(g=b-1;g>=0&&"break"!==w(g);g--);if(_)return U.splice(r,1),"continue";i.edges=l;var E=ee(i,i.nodes[0].id,!1).length;if(Object.keys(E).reverse().forEach(function(e){if(e!==i.nodes[0].id&&!_){if(E[e]===1/0){var t=c[e].node[o];if(u[t]--,u[t]<y[t].length)return void(_=!0);var n=i.nodes.indexOf(c[e].node);return i.nodes.splice(n,1),void(c[e]=void 0)}var r=p[e].node[o];if(!W[r]||!W[r].length||E[e]>W[r][W[r].length-1]){if(t=c[e].node[o],u[t]--,u[t]<y[t].length)return void(_=!0);n=i.nodes.indexOf(c[e].node),i.nodes.splice(n,1),c[e]=void 0}}}),_)return U.splice(r,1),"continue";for(var S=!0,O=0;S&&!_;){if(S=!1,n?c[s.id].degree<m[I.id].degree||c[s.id].inDegree<m[I.id].inDegree||c[s.id].outDegree<m[I.id].outDegree:c[s.id].degree<m[I.id].degree){_=!0;break}if(u[s[o]]<y[s[o]].length){_=!0;break}for(var k=i.nodes.length-1;k>=0;k--){var M=i.nodes[k],C=c[M.id].degree,A=c[M.id].inDegree,j=c[M.id].outDegree,T=M[o],N=qe(L,T,m,y),P=N.minPatternNodeLabelDegree,D=N.minPatternNodeLabelInDegree,R=N.minPatternNodeLabelOutDegree;if(n?C<P||A<D||j<R:C<P){if(u[M[o]]--,u[M[o]]<y[M[o]].length){_=!0;break}i.nodes.splice(k,1),c[M.id]=void 0,S=!0}}if(_||!S&&0!==O)break;for(var B=(b=l.length)-1;B>=0;B--){var F=l[B];if(!c[F.source]||!c[F.target]){l.splice(B,1);var z=F[a];if(f[z]--,c[F.source]&&(c[F.source].degree--,c[F.source].outDegree--),c[F.target]&&(c[F.target].degree--,c[F.target].inDegree--),x[z]&&f[z]<x[z].length){_=!0;break}S=!0}}O++}return _?(U.splice(r,1),"continue"):_||i.nodes.length<t.nodes.length||l.length<t.edges.length?(U.splice(r,1),"continue"):void 0},X=U.length-1;X>=0&&"break"!==Y(X);X--);var H=U.length,q=function(e){var t=U[e],n={};t.edges.forEach(function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1});for(var r=function(e){var t=U[e],r={};t.edges.forEach(function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1});var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach(function(e){r[e]!==n[e]&&(i=!1)}),i&&U.splice(e,1)},i=H-1;i>e;i--)r(i);H=U.length};for(X=0;X<=H-1;X++)q(X);return U}}},Ze=function(){function e(e){void 0===e&&(e=10),this.linkedList=new L,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),Qe=J,$e={getAdjMatrix:N,breadthFirstSearch:G,connectedComponent:W,getDegree:X,getInDegree:H,getOutDegree:q,detectCycle:J,detectDirectedCycle:Qe,detectAllCycles:$,detectAllDirectedCycle:Q,detectAllUndirectedCycle:Z,depthFirstSearch:K,dijkstra:ee,findAllPath:ie,findShortestPath:re,floydWarshall:oe,labelPropagation:ae,louvain:pe,iLouvain:ge,kCore:ve,kMeans:ye,cosineSimilarity:be,nodesCosineSimilarity:xe,minimumSpanningTree:ke,pageRank:Me,getNeighbors:B,Stack:Ze,GADDI:Ke},Je=r.transform,et=function(e){return function(t,n){return t[e]-n[e]}},tt=function(e,t,n){return e>=t&&e<=n},nt=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,c=r.y-n.y,l=a*c-s*u,f=1/l;if(l*l>1e-4*(a*a+s*s)*(u*u+c*c)){var d=(i*c-o*u)*f,h=(i*s-o*a)*f;return tt(d,0,1)&&tt(h,0,1)?{x:e.x+d*a,y:e.y+d*s}:null}return null},rt=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=nt(a[c-1],a[c],s,t));c++);return u},it=function(e,t){var n=e.x,r=e.y,i=e.r,o=t.x-n,a=t.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},ot=function(e,t){var n=e.rx,r=e.ry,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},at=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),O.vec3.transformMat3(r,r,t),{x:r[0],y:r[1]}},st=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=O.mat3.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[e.x,e.y,n];return O.vec3.transformMat3(i,i,r),{x:i[0],y:i[1]}},ut=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,c=i*o-r*a;return{x:-(a*s-i*u)/c,y:-(r*u-o*s)/c}},ct=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},lt=function(e,t){var n=[];return e.forEach(function(e){var r=[];e.forEach(function(e){r.push(e*t)}),n.push(r)}),n},ft=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t},dt=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(e,t){o[e.id]=t;i.push([])}),r&&r.forEach(function(e){var n=e.source,r=e.target,a=o[n],s=o[r];i[a][s]=1,t||(i[s][a]=1)}),i},ht=function(e,t){e.translate(t.x,t.y)},pt=function(e,t,n,r){void 0===r&&(r={duration:500});var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),a=t.x-o.minX,s=t.y-o.minY;if(n){var u=a*i[0],c=s*i[4],l=0,f=0,d=0,h=0;e.animate(function(e){return i=Je(i,[["t",(d=u*e)-l,(h=c*e)-f]]),l=d,f=h,{matrix:i}},r)}else{var p=Je(i,[["t",a,s]]);e.setMatrix(p)}},gt=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;Object(x.isArray)(t)||(r=[t,t]),Object(x.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=Je(n,[["s",r[0],r[1]]]),e.setMatrix(n)},vt=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Je(n,[["r",t]]),e.setMatrix(n)},mt=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n.forEach(function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)}),r};function yt(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var bt=function(e,t,n){var r=!1,i=e.length,o=1e-6;function a(e){return Math.abs(e)<o?0:e<0?-1:1}if(i<=2)return!1;for(var s=0;s<i;s++){var u=e[s],c=e[(s+1)%i];if(yt(u,c,[t,n]))return!0;a(u[1]-n)>0!==a(c[1]-n)>0&&a(t-(n-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(r=!r)}return r},xt=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},_t=function(e,t){var n=function(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return e[1]});return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var i=e[r],o=e[r+1];t.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var i=n(e),o=n(t);if(!xt(i,o))return!1;var a=!1;if(Object(x.each)(t,function(t){if(bt(e,t[0],t[1]))return a=!0,!1}),a)return!0;if(Object(x.each)(e,function(e){if(bt(t,e[0],e[1]))return a=!0,!1}),a)return!0;var s=r(e),u=r(t),c=!1;return Object(x.each)(u,function(e){if(function(e,t){var n=!1;return Object(x.each)(e,function(e){if(nt(e.from,e.to,t.from,t.to))return n=!0,!1}),n}(s,e))return c=!0,!1}),c},wt=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),Et=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},St=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},Ot=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=0,o=[],a=0;a<4;a++){var s=Et(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3];o[a]=nt({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:c},{x:l,y:f}),o[a]&&(i+=1)}return[o,i]},kt=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=Et(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3],d=St(t,new wt(u,c,l,f));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},Mt=function(e){var t=0,n=0;if(e.length>0){for(var r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}t/=e.length,n/=e.length}return{x:t,y:n}},Ct=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},At=function(e,t){var n,r=t.x1,i=t.y1,o=t.x2-r,a=t.y2-i,s=e.x-r,u=e.y-i,c=s*o+u*a;n=c<=0?0:(c=(s=o-s)*o+(u=a-u)*a)<=0?0:c*c/(o*o+a*a);var l=s*s+u*u-n;return l<0&&(l=0),l},jt=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},Tt=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,i=e.y>t.y+t.height,o=e.y<t.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(o&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!i&&!o)return Math.pow(t.x-e.x,2);if(r&&!i&&!o)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},It=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t.x,s=t.y,u=[i-n,o-r];if(O.vec2.exactEquals(u,[0,0]))return NaN;var c=[-u[1],u[0]];O.vec2.normalize(c,c);var l=[a-n,s-r];return Math.abs(O.vec2.dot(l,c))},Nt=function(e,t,n){return e+(t-e)*n},Pt=function(e,t,n){for(var r=Math.min(e.length,t.length),i=new Array(r),o=0;o<r;o++)i[o]=Nt(e[o],t[o],n);return i},Dt="rgb(253, 253, 253)",Lt="rgb(95, 149, 255)",Rt="rgb(95, 149, 255)",Bt="rgb(247, 250, 255)",Ft="rgb(95, 149, 255)",zt="rgb(224, 224, 224)",Gt="rgb(95, 149, 255)",Ut="rgb(224, 224, 224)",Vt="rgb(95, 149, 255)",Wt={version:"0.6.18",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Lt,fill:"rgb(239, 244, 255)"},size:20,color:Lt,linkPoints:{size:8,lineWidth:1,fill:Bt,stroke:Rt}},nodeStateStyles:{active:{fill:Bt,stroke:Rt,lineWidth:2,shadowColor:Lt,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Ft,lineWidth:4,shadowColor:Ft,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:zt,lineAppendWidth:2},color:zt},edgeStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1},selected:{stroke:Gt,lineWidth:2,shadowColor:Gt,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"rgb(95, 149, 255)",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Dt,lineWidth:1,stroke:Ut,r:5,width:20,height:10},size:[20,5],color:Ut,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:Vt,lineWidth:2,fill:Dt,shadowColor:Vt,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:Dt,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:Dt,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Yt={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Xt=Math.PI,Ht=Math.sin,qt=Math.cos,Kt=Ht(Xt/8),Zt=qt(Xt/8),Qt=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=at(r,o),i=at(i,o)}var a=r.x,s=r.y,u=i.x,c=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},$t=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),i=e.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||Wt.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],c=[e.endPoint.x,e.endPoint.y],l=r.height/2,f=r.height/2,d=l*Kt,h=l*Zt,p=f*Kt,g=f*Zt;if(u[0]===c[0]&&u[1]===c[1]){switch(a){case"top":u=[s[0]-d,s[1]-h],c=[s[0]+p,s[1]-g];break;case"top-right":l=r.height/2,f=r.width/2,u=[s[0]+(d=l*Kt),s[1]-(h=l*Zt)],c=[s[0]+(g=f*Zt),s[1]-(p=f*Kt)];break;case"right":l=r.width/2,f=r.width/2,u=[s[0]+(h=l*Zt),s[1]-(d=l*Kt)],c=[s[0]+(g=f*Zt),s[1]+(p=f*Kt)];break;case"bottom-right":l=r.width/2,f=r.height/2,u=[s[0]+(h=l*Zt),s[1]+(d=l*Kt)],c=[s[0]+(p=f*Kt),s[1]+(g=f*Zt)];break;case"bottom":l=r.height/2,f=r.height/2,u=[s[0]+(d=l*Kt),s[1]+(h=l*Zt)],c=[s[0]-(p=f*Kt),s[1]+(g=f*Zt)];break;case"bottom-left":l=r.height/2,f=r.width/2,u=[s[0]-(d=l*Kt),s[1]+(h=l*Zt)],c=[s[0]-(g=f*Zt),s[1]+(p=f*Kt)];break;case"left":l=r.width/2,f=r.width/2,u=[s[0]-(h=l*Zt),s[1]+(d=l*Kt)],c=[s[0]-(g=f*Zt),s[1]-(p=f*Kt)];break;case"top-left":l=r.width/2,f=r.height/2,u=[s[0]-(h=l*Zt),s[1]-(d=l*Kt)],c=[s[0]-(p=f*Kt),s[1]-(g=f*Zt)];break;default:l=r.width/2,f=r.width/2,u=[s[0]-(d=l*Kt),s[1]-(h=l*Zt)],c=[s[0]+(p=f*Kt),s[1]-(g=f*Zt)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[c[0],c[1]],c=[v[0],v[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(l+o)/l,b=(f+o)/f;!1===i.clockwise&&(y=(f+o)/f,b=(l+o)/l);var x=O.vec2.scale([0,0],m,y),_=[s[0]+x[0],s[1]+x[1]],w=[c[0]-s[0],c[1]-s[1]],E=O.vec2.scale([0,0],w,b),S=[s[0]+E[0],s[1]+E[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:c[0],y:c[1]},e.controlPoints=[{x:_[0],y:_[1]},{x:S[0],y:S[1]}],e},Jt=function(e,t,n,r,i){var o=[],a=null===e||void 0===e?void 0:e.getPoint(t);if(!a)return{x:0,y:0,angle:0};if(t<1e-4)o=e.getStartTangent().reverse();else if(t>.9999)o=e.getEndTangent();else{var s=null===e||void 0===e?void 0:e.getPoint(t+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var u=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(u<0&&(u+=2*Xt),n&&(a.x+=qt(u)*n,a.y+=Ht(u)*n),r){var c=u-Xt/2;u>.5*Xt&&u<1.5*Xt&&(c-=Xt),a.x+=qt(c)*r,a.y+=Ht(c)*r}var l={x:a.x,y:a.y,angle:u};return i?(u>.5*Xt&&u<1.5*Xt&&(u-=Xt),Object(b.__assign)({rotate:u},l)):l},en=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},tn=function(e,t){"function"===typeof t&&en(e,t)},nn=function(e,t){"function"===typeof t&&function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)}(e,t)},rn=function(e,t){return t*(Yt[e]||1)},on=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach(function(e){r.test(e)?n+=t:n+=rn(e,t)}),[n,t]},an=function(e,t){return"number"!==typeof t||t<=0||t>=e.length?e:e.substring(0,t)+"..."},sn=function(e,t){var n=[],r={},i={};e.forEach(function(e){i[e.id]=e}),e.forEach(function(e,t){var o=Object(x.clone)(e);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if(Object(x.isString)(e.parentId)){var c=r[e.parentId];if(c)c.children?c.children.push(o):c.children=[o],r[o.id]=o;else{var l={id:e.parentId,children:[o]};r[l.id]=l,r[o.id]=o}}else n.push(o),r[o.id]=o});var o={};(t||[]).forEach(function(e){o[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}});var a=0;return n.forEach(function(e){e.depth=a+10,en(e,function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var i=o[e.id];return i&&(i.depth=e.depth),!0})}),n},un=function(e,t,n){var r,i,o=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach(function(e){if(!s)return e.id===t?(i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void tn(e,function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},o=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!o||(u=e.parentId||e.comboId||"root",i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,s=!0,!1)})});var c=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(c>-1&&o.splice(c,1),s||(i={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var l=!1;if(n){var f=0;(e||[]).forEach(function(e){l||tn(e,function(e){return n!==e.id||(l=!0,e.children?e.children.push(i):e.children=[i],f=e.depth,"node"===i.itemType?i.depth=f+2:i.depth=f+1,!1)})})}else n&&l||"node"===i.itemType||e.push(i);var d=i.depth;tn(i,function(e){return"node"===e.itemType?d+=2:d+=1,e.depth=d,!0})}return e},cn=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return e.forEach(function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach(function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)}),r},ln=function(e){var t=Object(x.isNumber)(e.x)||Object(x.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||Object(x.isNumber)(e.style.r)||Object(x.isNumber)(e.style.width)||Object(x.isNumber)(e.style.height)||Object(x.isNumber)(e.style.rx)||Object(x.isNumber)(e.style.ry)),t},fn=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(Object(x.isObject)(r)&&!Object(x.isArray)(r)){var i={};Object.keys(r).forEach(function(e){var t=r[e];("img"!==e||Object(x.isString)(t))&&(i[e]=Object(x.clone)(t))}),t[n]=i}else t[n]=Object(x.clone)(r)}),t},dn=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=Object(x.clone)(n),n.callback){var i=n.callback;t.callback=function(){r(),i()}}else t.callback=r;else t={duration:500,callback:r};return t},hn=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,r=e.combos,i=void 0===r?[]:r;if(!t&&!n){var o=!0;return tn(e,function(e){return!!Object(x.isString)(e.id)||(o=!1,!1)}),o}var a=(t||[]).find(function(e){return!Object(x.isString)(e.id)});if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(t||[]).map(function(e){return e.id}),u=null===i||void 0===i?void 0:i.map(function(e){return e.id}),c=Object(b.__spreadArray)(Object(b.__spreadArray)([],s,!0),u,!0),l=(n||[]).find(function(e){return!c.includes(e.source)||!c.includes(e.target)});return!l||(console.warn("G6 Warning Tips: The source %c".concat(l.source,"%c or the target %c").concat(l.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},pn=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;Object(x.each)(e,function(e){Object(x.each)(e,function(t,n){Object(x.isString)(t)&&(e[n]={type:t})})})},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],i=[];Object(x.each)(r||[],function(e){var r=w.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),i.push(t))}),this.currentBehaves=i},e.mergeBehaviors=function(e,t){return Object(x.each)(t,function(t){e.indexOf(t)<0&&(Object(x.isString)(t)&&(t={type:t}),e.push(t))}),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach(function(e){var r="";r=Object(x.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)}),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),Object(x.each)(this.currentBehaves,function(e){e.delegate&&e.delegate.remove(),e.unbind(n)}),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var i,o=this;if(i=Object(x.isArray)(t)?t:[t],Object(x.isArray)(n))return Object(x.each)(n,function(t){o.modes[t]?o.modes[t]=r?e.mergeBehaviors(o.modes[t]||[],i):e.filterBehaviors(o.modes[t]||[],i):r&&(o.modes[t]=i)}),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],i):e.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){Object(x.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),gn="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",vn=new RegExp("([a-z])["+gn+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+gn+"]*,?["+gn+"]*)+)","ig"),mn=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+gn+"]*,?["+gn+"]*","ig"),yn=function(e){if(!e)return null;if(Object(x.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(vn,function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(mn,function(e,t){t&&a.push(+t)}),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=t[s]&&(n.push([i].concat(a.splice(0,t[s]))),t[s]););return e}),n},bn=function(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4===r?o[3]={x:+e[0],y:+e[1]}:i-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},xn=function(e,t,n,r,i){var o=[];if(null===i&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==i){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-i*a);o=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,t+n*Math.sin(-i*a)]]}else o=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},_n=function(e){if(!(e=yn(e))||!e.length)return[["M",0,0]];var t,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),l=void 0,f=void 0,d=u,h=e.length;d<h;d++){if(r.push(l=[]),(t=(f=e[d])[0])!==t.toUpperCase())switch(l[0]=t.toUpperCase(),l[0]){case"A":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+f[6]+i,l[7]=+f[7]+o;break;case"V":l[1]=+f[1]+o;break;case"H":l[1]=+f[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(f.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(bn(n,c));break;case"O":r.pop(),(n=xn(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(xn(i,o,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+i,s=+f[2]+o;break;default:for(p=1,g=f.length;p<g;p++)l[p]=+f[p]+(p%2?i:o)}else if("R"===t)n=[i,o].concat(f.slice(1)),r.pop(),r=r.concat(bn(n,c)),l=["R"].concat(f.slice(-2));else if("O"===t)r.pop(),(n=xn(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(xn(i,o,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,m=f.length;v<m;v++)l[v]=f[v];if("O"!==(t=t.toUpperCase()))switch(l[0]){case"Z":i=+a,o=+s;break;case"H":i=l[1];break;case"V":o=l[1];break;case"M":a=l[l.length-2],s=l[l.length-1];break;default:i=l[l.length-2],o=l[l.length-1]}}return r},wn=function(e,t,n,r){return[e,t,n,r,n,r]},En=function(e,t,n,r,i,o){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},Sn=function(e,t){var n,r=_n(e),i=t&&_n(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",l="",f=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(function e(t,n,r,i,o,a,s,u,c,l){r===i&&(r+=1);var f,d,h,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(l)d=l[0],h=l[1],p=l[2],g=l[3];else{t=(f=b(t,n,-m)).x,n=f.y,u=(f=b(u,c,-m)).x,c=f.y,t===u&&n===c&&(u+=1,c+=1);var x=(t-u)/2,_=(n-c)/2,w=x*x/(r*r)+_*_/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var E=r*r,S=i*i,O=(a===s?-1:1)*Math.sqrt(Math.abs((E*S-E*_*_-S*x*x)/(E*_*_+S*x*x)));p=O*r*_/i+(t+u)/2,g=O*-i*x/r+(n+c)/2,d=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((c-g)/i).toFixed(9)),d=t<p?Math.PI-d:d,h=u<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var k=h-d;if(Math.abs(k)>v){var M=h,C=u,A=c;h=d+v*(s&&h>d?1:-1),y=e(u=p+r*Math.cos(h),c=g+i*Math.sin(h),r,i,o,0,s,C,A,[h,M,p,g])}k=h-d;var j=Math.cos(d),T=Math.sin(d),I=Math.cos(h),N=Math.sin(h),P=Math.tan(k/4),D=4/3*r*P,L=4/3*i*P,R=[t,n],B=[t+D*T,n-L*j],F=[u+D*N,c-L*I],z=[u,c];if(B[0]=2*R[0]-B[0],B[1]=2*R[1]-B[1],l)return[B,F,z].concat(y);for(var G=[],U=0,V=(y=[B,F,z].concat(y).join().split(",")).length;U<V;U++)G[U]=U%2?b(y[U-1],y[U],m).y:b(y[U],y[U+1],m).x;return G}.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(En(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(En(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(wn(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(wn(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(wn(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(wn(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)s[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),n=Math.max(r.length,i&&i.length||0)}},h=function(e,t,o,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(l=s[p-1])),r[p]=f(r[p],o,l),"A"!==s[p]&&"C"===c&&(s[p]="C"),d(r,p),i&&(i[p]&&(c=i[p][0]),"C"!==c&&(u[p]=c,p&&(l=u[p-1])),i[p]=f(i[p],a,l),"A"!==u[p]&&"C"===c&&(u[p]="C"),d(i,p)),h(r,i,o,a,p),h(i,r,a,o,p);var g=r[p],v=i&&i[p],m=g.length,y=i&&v.length;o.x=g[m-2],o.y=g[m-1],o.bx=parseFloat(g[m-4])||o.x,o.by=parseFloat(g[m-3])||o.y,a.bx=i&&(parseFloat(v[y-4])||a.x),a.by=i&&(parseFloat(v[y-3])||a.y),a.x=i&&v[y-2],a.y=i&&v[y-1]}return i?[r,i]:r},On=/,?([a-z]),?/gi,kn=function(e){return e.join(",").replace(On,"$1")},Mn=function(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n},Cn=function(e,t,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=c*l[h]+c,g=Mn(p,e,n,i,a),v=Mn(p,t,r,o,s),m=g*g+v*v;d+=f[h]*Math.sqrt(m)}return c*d},An=function(e,t,n,r,i,o,a,s){if(!(Math.max(e,n)<Math.min(i,a)||Math.min(e,n)>Math.max(i,a)||Math.max(t,r)<Math.min(o,s)||Math.min(t,r)>Math.max(o,s))){var u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var c=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,l=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u,f=+c.toFixed(2),d=+l.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:c,y:l}}}},jn=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},Tn=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=kn,o},In=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Tn(e,t,n,r),vb:[e,t,n,r].join(" ")}},Nn=function(e,t,n,r,i,o,a,s){Object(x.isArray)(e)||(e=[e,t,n,r,i,o,a,s]);var u=function(e,t,n,r,i,o,a,s){for(var u,c,l,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(c=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,l=3*n-3*e):(c=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*s,l=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(f=-l/c)>0&&f<1&&d.push(f)}else{var g=c*c-4*l*u,v=Math.sqrt(g);if(!(g<0)){var m=(-c+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-c-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,_=x;x--;)b=1-(f=d[x]),h[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*i+f*f*f*a,h[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return h[0][_]=e,h[1][_]=t,h[0][_+1]=a,h[1][_+1]=s,h[0].length=h[1].length=_+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}}.apply(null,e);return In(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Pn=function(e,t,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),f=Math.pow(c,2),d=u*u,h=d*u,p=e+2*u*(n-e)+d*(i-2*n+e),g=t+2*u*(r-t)+d*(o-2*r+t),v=n+2*u*(i-n)+d*(a-2*i+n),m=r+2*u*(o-r)+d*(s-2*o+r);return{x:l*e+3*f*u*n+3*c*u*u*i+h*a,y:l*t+3*f*u*r+3*c*u*u*o+h*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:c*e+u*n,y:c*t+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},Dn=function(e,t,n){if(!function(e,t){return e=In(e),t=In(t),jn(t,e.x,e.y)||jn(t,e.x2,e.y)||jn(t,e.x,e.y2)||jn(t,e.x2,e.y2)||jn(e,t.x,t.y)||jn(e,t.x2,t.y)||jn(e,t.x,t.y2)||jn(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(Nn(e),Nn(t)))return n?0:[];for(var r=~~(Cn.apply(0,e)/8),i=~~(Cn.apply(0,t)/8),o=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var l=Pn.apply(0,e.concat(c/r));o.push({x:l.x,y:l.y,t:c/r})}for(c=0;c<i+1;c++){l=Pn.apply(0,t.concat(c/i));a.push({x:l.x,y:l.y,t:c/i})}for(c=0;c<r;c++)for(var f=0;f<i;f++){var d=o[c],h=o[c+1],p=a[f],g=a[f+1],v=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=An(d.x,d.y,h.x,h.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[v]-d[v])/(h[v]-d[v]))*(h.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},Ln=function(e,t){return function(e,t,n){var r,i,o,a,s,u,c,l,f,d;e=Sn(e),t=Sn(t);for(var h=n?0:[],p=0,g=e.length;p<g;p++){var v=e[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(f=[r,i].concat(v.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])o=c=b[1],a=l=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,c,l,c,l],o=c,a=l);var x=Dn(f,d,n);if(n)h+=x;else{for(var _=0,w=x.length;_<w;_++)x[_].segment1=p,x[_].segment2=m,x[_].bez1=f,x[_].bez2=d;h=h.concat(x)}}}}}return h}(e,t)};function Rn(e,t){var n=[],r=[];return e.length&&function e(t,i){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-i)*t[a][0]+i*t[a+1][0],(1-i)*t[a][1]+i*t[a+1][1]];e(o,i)}}(e,t),{left:n,right:r.reverse()}}var Bn=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=Rn(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map(function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t=t.concat(e[e.length-1])})}(e,t,n));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},Fn=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce(function(t,r,i){return i===n?t.concat(e[n]):t.concat(Bn(e[i],e[i+1],r))},[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},zn=function(e,t){if(e.length!==t.length)return!1;var n=!0;return Object(x.each)(e,function(e,r){if(e!==t[r])return n=!1,!1}),n};function Gn(e,t,n){var r=null,i=n;return t<i&&(i=t,r="add"),e<i&&(i=e,r="del"),{type:r,min:i}}var Un=function(e,t){var n=function(e,t){var n,r,i=e.length,o=t.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(u=1;u<=i;u++)for(n=e[u-1],c=1;c<=o;c++){r=t[c-1],a=zn(n,r)?0:1;var l=s[u-1][c].min+1,f=s[u][c-1].min+1,d=s[u-1][c-1].min+a;s[u][c]=Gn(l,f,d)}return s}(e,t),r=e.length,i=t.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var l=a;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var f=i-(r=e.length);if(r<i)for(u=0;u<f;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function Vn(e,t,n){for(var r,i=[].concat(e),o=1/(n+1),a=Wn(t)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(e.length*o))?i.unshift([a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]);return i}function Wn(e){var t=[];switch(e[0]){case"M":case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var Yn=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=Wn(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Vn(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=Vn(n,e[r-1],2)}e[r]=["C"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=Vn(n,e[r-1],1)}e[r]=["S"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;default:e[r]=t[r]}return e},Xn=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function Hn(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var qn="undefined"!==typeof window&&"undefined"!==typeof window.document;function Kn(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function Zn(e){return e.cfg.visible&&e.cfg.capture}var Qn=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(x.mix)(r,t),n}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(S),$n=n(122);function Jn(e,t){var n=[],r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=d*r+h*a+p*c,n[1]=d*i+h*s+p*l,n[2]=d*o+h*u+p*f,n[3]=g*r+v*a+m*c,n[4]=g*i+v*s+m*l,n[5]=g*o+v*u+m*f,n[6]=y*r+b*a+x*c,n[7]=y*i+b*s+x*l,n[8]=y*o+b*u+x*f,n}function er(e,t){var n=[],r=t[0],i=t[1];return n[0]=e[0]*r+e[3]*i+e[6],n[1]=e[1]*r+e[4]*i+e[7],n}function tr(e){var t=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,d=-l*o+s*u,h=c*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(l*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}var nr=r.transform,rr=["zIndex","capture","visible","type"],ir=["repeat"];function or(e,t){var n={},r=t.attrs;for(var i in e)n[i]=r[i];return n}var ar=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(x.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(!r)return this.attrs;if(Object(x.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,i),this.afterAttrsChange(((e={})[r]=i,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(Hn(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr("matrix")},t.prototype.setMatrix=function(e){this.attr("matrix",e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?Jn(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?Jn(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?er(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=tr(t);if(n)return er(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[Object(x.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};Object(x.each)(t,function(e,r){Object(x.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)Object(x.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]});var r=new(0,this.constructor)({attrs:n});return Object(x.each)(rr,function(t){r.set(t,e.get(t))}),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,c=e[0],l=e[1],f=e[2],d=void 0===f?"easeLinear":f,h=e[3],p=void 0===h?x.noop:h,g=e[4],v=void 0===g?0:g;Object(x.isFunction)(c)?(i=c,c={}):Object(x.isObject)(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),Object(x.isObject)(l)?(l=(u=l).duration,d=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||x.noop,a=u.pauseCallback||x.noop,s=u.resumeCallback||x.noop):(Object(x.isNumber)(p)&&(v=p,p=null),Object(x.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var m=function(e,t){var n={},r=t.attr();return Object(x.each)(e,function(e,t){-1!==ir.indexOf(t)||Object(x.isEqual)(r[t],e)||(n[t]=e)}),n}(c,this),y={fromAttrs:or(m,this),toAttrs:m,duration:l,easing:d,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:Object(x.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=function(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,i=t.duration,o=Object.prototype.hasOwnProperty;return Object(x.each)(e,function(e){n+r<e.startTime+e.delay+e.duration&&i>e.delay&&Object(x.each)(t.toAttrs,function(t,n){o.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])})}),e}(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");Object(x.each)(n,function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()}),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return Object(x.each)(t,function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return Object(x.each)(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,i=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var o=function(e){var o=i[e],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Kn(o,n))return"break";Object(x.isArray)(s)?Object(x.each)(s,function(e){r.emitDelegateEvent(o,e,t)}):a.emitDelegateEvent(o,s,t)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),i=t+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(i,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=nr(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=nr(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=nr(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,i=this.getMatrix(),o=nr(i,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(o),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),i=nr(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(i),this},t}(Qn),sr={},ur="_INDEX";var cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)});return a.length>0?(Object(x.each)(a,function(e){var t=e.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)}),e=Object(x.min)(i),t=Object(x.max)(i),n=Object(x.min)(o),r=Object(x.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter(function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)});return a.length>0?(Object(x.each)(a,function(e){var t=e.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)}),e=Object(x.min)(i),t=Object(x.max)(i),n=Object(x.min)(o),r=Object(x.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();Object(x.each)(t,function(t){t.applyMatrix(e)})},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];Object(x.isObject)(n)?r=n:r.type=n;var i=sr[r.type];i||(i=Object(x.upperFirst)(r.type),sr[r.type]=i);var o=new(this.getShapeBase()[i])(r);return this.add(o),o},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],i=e[1];if(Object(x.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{};n=new(this.getGroupBase())(o)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!Zn(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,e,t,n);else{var o=[e,t,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var i=null,o=e.length-1;o>=0;o--){var a=e[o];if(Zn(a)&&(a.isGroup()?i=a.getShape(t,n,r):a.isHit(t,n)&&(i=a)),i)break}return i},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=e.getParent();i&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),Hn(e.getChildren(),t)}(i,e,!1),e.set("parent",this),t&&function e(t,n){if(t.set("canvas",n),t.isGroup()){var r=t.get("children");r.length&&r.forEach(function(t){e(t,n)})}}(e,t),r&&function e(t,n){if(t.set("timeline",n),t.isGroup()){var r=t.get("children");r.length&&r.forEach(function(t){e(t,n)})}}(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e,t=this.getChildren();Object(x.each)(t,function(e,t){return e[ur]=t,e}),t.sort((e=function(e,t){return e.get("zIndex")-t.get("zIndex")},function(t,n){var r=e(t,n);return 0===r?t[ur]-n[ur]:r})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return Object(x.each)(n,function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))}),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return Object(x.each)(n,function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1}),t},t.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},t.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},t.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},t}(ar),lr=n(411),fr=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function dr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hr(){}var pr="\\s*([+-]?\\d+)\\s*",gr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mr=/^#([0-9a-f]{3,8})$/,yr=new RegExp("^rgb\\("+[pr,pr,pr]+"\\)$"),br=new RegExp("^rgb\\("+[vr,vr,vr]+"\\)$"),xr=new RegExp("^rgba\\("+[pr,pr,pr,gr]+"\\)$"),_r=new RegExp("^rgba\\("+[vr,vr,vr,gr]+"\\)$"),wr=new RegExp("^hsl\\("+[gr,vr,vr]+"\\)$"),Er=new RegExp("^hsla\\("+[gr,vr,vr,gr]+"\\)$"),Sr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Or(){return this.rgb().formatHex()}function kr(){return this.rgb().formatRgb()}function Mr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Cr(t):3===n?new Tr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ar(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ar(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=yr.exec(e))?new Tr(t[1],t[2],t[3],1):(t=br.exec(e))?new Tr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xr.exec(e))?Ar(t[1],t[2],t[3],t[4]):(t=_r.exec(e))?Ar(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=wr.exec(e))?Dr(t[1],t[2]/100,t[3]/100,1):(t=Er.exec(e))?Dr(t[1],t[2]/100,t[3]/100,t[4]):Sr.hasOwnProperty(e)?Cr(Sr[e]):"transparent"===e?new Tr(NaN,NaN,NaN,0):null}function Cr(e){return new Tr(e>>16&255,e>>8&255,255&e,1)}function Ar(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tr(e,t,n,r)}function jr(e,t,n,r){return 1===arguments.length?((i=e)instanceof hr||(i=Mr(i)),i?new Tr((i=i.rgb()).r,i.g,i.b,i.opacity):new Tr):new Tr(e,t,n,null==r?1:r);var i}function Tr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ir(){return"#"+Pr(this.r)+Pr(this.g)+Pr(this.b)}function Nr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Pr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Dr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rr(e,t,n,r)}function Lr(e){if(e instanceof Rr)return new Rr(e.h,e.s,e.l,e.opacity);if(e instanceof hr||(e=Mr(e)),!e)return new Rr;if(e instanceof Rr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Rr(a,s,u,e.opacity)}function Rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Br(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Fr(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}fr(hr,Mr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Or,formatHex:Or,formatHsl:function(){return Lr(this).formatHsl()},formatRgb:kr,toString:kr}),fr(Tr,jr,dr(hr,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ir,formatHex:Ir,formatRgb:Nr,toString:Nr})),fr(Rr,function(e,t,n,r){return 1===arguments.length?Lr(e):new Rr(e,t,n,null==r?1:r)},dr(hr,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tr(Br(e>=240?e-240:e+120,i,r),Br(e,i,r),Br(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var zr=function(e){return function(){return e}};function Gr(e,t){return function(n){return e+n*t}}function Ur(e){return 1===(e=+e)?Vr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zr(isNaN(t)?n:t)}}function Vr(e,t){var n=t-e;return n?Gr(e,n):zr(isNaN(e)?t:e)}var Wr=function e(t){var n=Ur(t);function r(e,t){var r=n((e=jr(e)).r,(t=jr(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Vr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Yr(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=jr(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Yr(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Fr((n-r/t)*t,a,i,o,s)}}),Yr(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Fr((n-r/t)*t,i,o,a,s)}});var Xr=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function Hr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var qr=function(e,t){return(Hr(t)?Xr:Kr)(e,t)};function Kr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Jr(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Zr=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Qr.source,"g");var Jr=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?zr(t):("number"===r?Zr:"string"===r?(n=Mr(t))?(t=n,Wr):function(e,t){var n,r,i,o=Qr.lastIndex=$r.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Qr.exec(e))&&(r=$r.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Zr(n,r)})),o=$r.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}:t instanceof Mr?Wr:t instanceof Date?function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}:Hr(t)?Xr:Array.isArray(t)?Kr:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Jr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}:Zr)(e,t)};function ei(e){return+e}function ti(e){return e*e}function ni(e){return e*(2-e)}function ri(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function ii(e){return e*e*e}function oi(e){return--e*e*e+1}function ai(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var si=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),ui=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),ci=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),li=Math.PI,fi=li/2;function di(e){return 1===+e?1:1-Math.cos(e*fi)}function hi(e){return Math.sin(e*fi)}function pi(e){return(1-Math.cos(li*e))/2}function gi(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function vi(e){return gi(1-+e)}function mi(e){return 1-gi(e)}function yi(e){return((e*=2)<=1?gi(1-e):2-gi(e-1))/2}function bi(e){return 1-Math.sqrt(1-e*e)}function xi(e){return Math.sqrt(1- --e*e)}function _i(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var wi=4/11,Ei=6/11,Si=8/11,Oi=.75,ki=9/11,Mi=10/11,Ci=.9375,Ai=21/22,ji=63/64,Ti=1/wi/wi;function Ii(e){return 1-Ni(1-e)}function Ni(e){return(e=+e)<wi?Ti*e*e:e<Si?Ti*(e-=Ei)*e+Oi:e<Mi?Ti*(e-=ki)*e+Ci:Ti*(e-=Ai)*e+ji}function Pi(e){return((e*=2)<=1?1-Ni(1-e):Ni(e-1)+1)/2}var Di=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(1.70158),Li=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(1.70158),Ri=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Bi=2*Math.PI,Fi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Bi);function i(e){return t*gi(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Bi)},i.period=function(n){return e(t,n)},i}(1,.3),zi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Bi);function i(e){return 1-t*gi(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Bi)},i.period=function(n){return e(t,n)},i}(1,.3),Gi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Bi);function i(e){return((e=2*e-1)<0?t*gi(-e)*Math.sin((r-e)/n):2-t*gi(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Bi)},i.period=function(n){return e(t,n)},i}(1,.3),Ui={};var Vi=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},Wi=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},Yi=[1,0,0,0,1,0,0,0,1];function Xi(e,t,n){var r,i=t.startTime;if(n<i+t.delay||t._paused)return!1;var o,a=t.duration,s=t.easing,c=Ui[(o=s).toLowerCase()]||u[o];if(n=n-i-t.delay,t.repeat)r=c(r=n%a/a);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=c(r)}if(t.onFrame){var l=t.onFrame(r);e.attr(l)}else!function(e,t,n){var r={},i=t.fromAttrs,o=t.toAttrs;if(!e.destroyed){var a;for(var s in o)if(!Object(x.isEqual)(i[s],o[s]))if("path"===s){var u=o[s],c=i[s];u.length>c.length?(u=yn(o[s]),c=yn(i[s]),c=Un(c,u),c=Yn(c,u),t.fromAttrs.path=c,t.toAttrs.path=u):t.pathFormatted||(u=yn(o[s]),c=yn(i[s]),c=Yn(c,u),t.fromAttrs.path=c,t.toAttrs.path=u,t.pathFormatted=!0),r[s]=[];for(var l=0;l<u.length;l++){for(var f=u[l],d=c[l],h=[],p=0;p<f.length;p++)Object(x.isNumber)(f[p])&&d&&Object(x.isNumber)(d[p])?(a=Jr(d[p],f[p]),h.push(a(n))):h.push(f[p]);r[s].push(h)}}else if("matrix"===s){var g=qr(i[s]||Yi,o[s]||Yi)(n);r[s]=g}else Vi(s)&&Wi(o[s])?r[s]=o[s]:Object(x.isFunction)(o[s])||(a=Jr(i[s],o[s]),r[s]=a(n));e.attr(r)}}(e,t,r);return!1}var Hi=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=lr.a(function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((e=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],Xi(e,n,i)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}})},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),qi=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ki(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function Zi(e,t,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===t?(r=n.fromShape,i=!0):"mouseleave"===t&&(i=!0,r=n.toShape),e.isCanvas()&&i)return;if(r&&Kn(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var Qi=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");Object(x.each)(qi,function(n){t.addEventListener(n,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");Object(x.each)(qi,function(n){t.removeEventListener(n,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,i,o){var a=new Xn(e,t);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(o=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),i||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),i&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-e.clientX,l=a.clientY-e.clientY;u>120||c*c+l*l>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,i,o){var a=this._getEventObj(e,t,n,r,i,o);if(r){a.shape=r,Ki(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||Zi(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{Ki(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),$i=Object($n.a)(),Ji=$i&&"firefox"===$i.name,eo=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");Object(x.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new Qi({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new Hi(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");qn&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");qn&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(Ji&&!Object(x.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!Object(x.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(cr),to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];t.add(i.clone())}return t},t}(cr),no=function(e){function t(t){return e.call(this,t)||this}return Object(b.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;if(t){var a=er(t,[e.minX,e.minY]),s=er(t,[e.maxX,e.minY]),u=er(t,[e.minX,e.maxY]),c=er(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),i=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),o=Math.max(a[1],s[1],u[1],c[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,d=void 0===f?0:f,h=l.shadowOffsetX,p=void 0===h?0:h,g=l.shadowOffsetY,v=void 0===g?0:g,m=n-d+p,y=i+d+p,b=r-d+v,x=o+d+v;n=Math.min(n,m),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[e,t,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},t}(ar),ro=new Map;function io(e,t){ro.set(e,t)}function oo(e){return ro.get(e)}var ao=function(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}},so=function(e){var t=e.attr(),n=t.x,r=t.y,i=t.r;return{x:n-i,y:r-i,width:2*i,height:2*i}};function uo(e){return Math.min.apply(null,e)}function co(e){return Math.max.apply(null,e)}function lo(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function fo(e,t){return Math.abs(e-t)<.001}function ho(e,t){var n=uo(e),r=uo(t);return{x:n,y:r,width:co(e)-n,height:co(t)-r}}function po(e,t,n,r){return{minX:uo([e,n]),maxX:co([e,n]),minY:uo([t,r]),maxY:co([t,r])}}function go(e){return(e+2*Math.PI)%(2*Math.PI)}var vo=n(80),mo={box:function(e,t,n,r){return ho([e,n],[t,r])},length:function(e,t,n,r){return lo(e,t,n,r)},pointAt:function(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}},pointDistance:function(e,t,n,r,i,o){var a=(n-e)*(i-e)+(r-t)*(o-t);return a<0?lo(e,t,i,o):a>(n-e)*(n-e)+(r-t)*(r-t)?lo(n,r,i,o):this.pointToLine(e,t,n,r,i,o)},pointToLine:function(e,t,n,r,i,o){var a=[n-e,r-t];if(vo.exactEquals(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];vo.normalize(s,s);var u=[i-e,o-t];return Math.abs(vo.dot(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}},yo=1e-4;function bo(e,t,n,r,i,o){var a,s=1/0,u=[n,r],c=20;o&&o>200&&(c=o/10);for(var l=1/c,f=l/10,d=0;d<=c;d++){var h=d*l,p=[i.apply(null,e.concat([h])),i.apply(null,t.concat([h]))];(y=lo(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(d=0;d<32&&!(f<yo);d++){var v=a-f,m=a+f,y=(p=[i.apply(null,e.concat([v])),i.apply(null,t.concat([v]))],lo(u[0],u[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[i.apply(null,e.concat([m])),i.apply(null,t.concat([m]))],x=lo(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,t.concat([a]))}}function xo(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function _o(e,t,n){var r=e+n-2*t;if(fo(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function wo(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function Eo(e,t,n,r,i,o,a){var s=xo(e,n,i,a),u=xo(t,r,o,a),c=mo.pointAt(e,t,n,r,a),l=mo.pointAt(n,r,i,o,a);return[[e,t,c.x,c.y,s,u],[s,u,l.x,l.y,i,o]]}var So={box:function(e,t,n,r,i,o){var a=_o(e,n,i)[0],s=_o(t,r,o)[0],u=[e,i],c=[t,o];return void 0!==a&&u.push(xo(e,n,i,a)),void 0!==s&&c.push(xo(t,r,o,s)),ho(u,c)},length:function(e,t,n,r,i,o){return function e(t,n,r,i,o,a,s){if(0===s)return(lo(t,n,r,i)+lo(r,i,o,a)+lo(t,n,o,a))/2;var u=Eo(t,n,r,i,o,a,.5),c=u[0],l=u[1];return c.push(s-1),l.push(s-1),e.apply(null,c)+e.apply(null,l)}(e,t,n,r,i,o,3)},nearestPoint:function(e,t,n,r,i,o,a,s){return bo([e,n,i],[t,r,o],a,s,xo)},pointDistance:function(e,t,n,r,i,o,a,s){var u=this.nearestPoint(e,t,n,r,i,o,a,s);return lo(u.x,u.y,a,s)},interpolationAt:xo,pointAt:function(e,t,n,r,i,o,a){return{x:xo(e,n,i,a),y:xo(t,r,o,a)}},divide:function(e,t,n,r,i,o,a){return Eo(e,t,n,r,i,o,a)},tangentAngle:function(e,t,n,r,i,o,a){var s=wo(e,n,i,a),u=wo(t,r,o,a);return go(Math.atan2(u,s))}};function Oo(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function ko(e,t,n,r,i){var o=1-i;return 3*(o*o*(t-e)+2*o*i*(n-t)+i*i*(r-n))}function Mo(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,c=3*t-3*e,l=[];if(fo(s,0))fo(u,0)||(i=-c/u)>=0&&i<=1&&l.push(i);else{var f=u*u-4*s*c;fo(f,0)?l.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&l.push(i),o>=0&&o<=1&&l.push(o))}return l}function Co(e,t,n,r,i,o,a,s,u){var c=Oo(e,n,i,a,u),l=Oo(t,r,o,s,u),f=mo.pointAt(e,t,n,r,u),d=mo.pointAt(n,r,i,o,u),h=mo.pointAt(i,o,a,s,u),p=mo.pointAt(f.x,f.y,d.x,d.y,u),g=mo.pointAt(d.x,d.y,h.x,h.y,u);return[[e,t,f.x,f.y,p.x,p.y,c,l],[c,l,g.x,g.y,h.x,h.y,a,s]]}function Ao(e,t,n,r,i,o,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,i=0;i<r;i++)n+=lo(e[i],t[i],e[(i+1)%r],t[(i+1)%r]);return n/2}([e,n,i,a],[t,r,o,s]);var c=Co(e,t,n,r,i,o,a,s,.5),l=c[0],f=c[1];return l.push(u-1),f.push(u-1),Ao.apply(null,l)+Ao.apply(null,f)}var jo={extrema:Mo,box:function(e,t,n,r,i,o,a,s){for(var u=[e,a],c=[t,s],l=Mo(e,n,i,a),f=Mo(t,r,o,s),d=0;d<l.length;d++)u.push(Oo(e,n,i,a,l[d]));for(d=0;d<f.length;d++)c.push(Oo(t,r,o,s,f[d]));return ho(u,c)},length:function(e,t,n,r,i,o,a,s){return Ao(e,t,n,r,i,o,a,s,3)},nearestPoint:function(e,t,n,r,i,o,a,s,u,c,l){return bo([e,n,i,a],[t,r,o,s],u,c,Oo,l)},pointDistance:function(e,t,n,r,i,o,a,s,u,c,l){var f=this.nearestPoint(e,t,n,r,i,o,a,s,u,c,l);return lo(f.x,f.y,u,c)},interpolationAt:Oo,pointAt:function(e,t,n,r,i,o,a,s,u){return{x:Oo(e,n,i,a,u),y:Oo(t,r,o,s,u)}},divide:function(e,t,n,r,i,o,a,s,u){return Co(e,t,n,r,i,o,a,s,u)},tangentAngle:function(e,t,n,r,i,o,a,s,u){var c=ko(e,n,i,a,u),l=ko(t,r,o,s,u);return go(Math.atan2(l,c))}};function To(e,t){var n=Math.abs(e);return t>0?n:-1*n}var Io=function(e,t,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:e,y:t};for(var u,c,l=i-e,f=o-t,d=Math.abs(l),h=Math.abs(f),p=a*a,g=s*s,v=Math.PI/4,m=0;m<4;m++){u=a*Math.cos(v),c=s*Math.sin(v);var y=(p-g)*Math.pow(Math.cos(v),3)/a,b=(g-p)*Math.pow(Math.sin(v),3)/s,x=u-y,_=c-b,w=d-y,E=h-b,S=Math.hypot(_,x),O=Math.hypot(E,w);v+=S*Math.asin((x*E-_*w)/(S*O))/Math.sqrt(p+g-u*u-c*c),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:e+To(u,l),y:t+To(c,f)}};function No(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function Po(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}function Do(e,t,n){return{x:e*Math.cos(n),y:t*Math.sin(n)}}function Lo(e,t,n){var r=Math.cos(n),i=Math.sin(n);return[e*r-t*i,e*i+t*r]}var Ro={box:function(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),u=1/0,c=-1/0,l=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=s+f;o<a?o<d&&d<a&&l.push(d):a<d&&d<o&&l.push(d)}for(f=0;f<l.length;f++){var h=No(e,0,n,r,i,l[f]);h<u&&(u=h),h>c&&(c=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var b=Po(0,t,n,r,i,m[f]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}},length:function(e,t,n,r,i,o,a){},nearestPoint:function(e,t,n,r,i,o,a,s,u){var c=Lo(s-e,u-t,-i),l=c[0],f=c[1],d=Io(0,0,n,r,l,f),h=function(e,t,n,r){return(Math.atan2(r*e,n*t)+2*Math.PI)%(2*Math.PI)}(n,r,d.x,d.y);h<o?d=Do(n,r,o):h>a&&(d=Do(n,r,a));var p=Lo(d.x,d.y,i);return{x:p[0]+e,y:p[1]+t}},pointDistance:function(e,t,n,r,i,o,a,s,u){var c=this.nearestPoint(e,t,n,r,s,u);return lo(c.x,c.y,s,u)},pointAt:function(e,t,n,r,i,o,a,s){var u=(a-o)*s+o;return{x:No(e,0,n,r,i,u),y:Po(0,t,n,r,i,u)}},tangentAngle:function(e,t,n,r,i,o,a,s){var u=(a-o)*s+o,c=function(e,t,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}(0,0,n,r,i,0,0,u),l=function(e,t,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}(0,0,n,r,i,0,0,u);return go(Math.atan2(l,c))}};function Bo(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=lo(r[0],r[1],i[0],i[1])}return t}var Fo=function(e){return Bo(e)};function zo(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function Go(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=zo(t,n.getCanvasBBox())),r&&(t=zo(t,r.getCanvasBBox())),t}var Uo=null;function Vo(){if(!Uo){var e=document.createElement("canvas");e.width=1,e.height=1,Uo=e.getContext("2d")}return Uo}function Wo(e,t,n){var r=1;return Object(x.isString)(e)&&(r=e.split("\n").length),r>1?t*r+function(e,t){return t?t-e:.14*e}(t,n)*(r-1):t}function Yo(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var Xo=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Ho=/[^\s\,]+/gi;var qo=function(e){var t=e||[];return Object(x.isArray)(t)?t:Object(x.isString)(t)?(t=t.match(Xo),Object(x.each)(t,function(e,n){if((e=e.match(Ho))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}Object(x.each)(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0};var Ko=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,u,c,l=function(e,t,n,r){var i,o,a,s,u,c,l,f=[],d=!!r;if(d){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1){var g=e[h];a=O.vec2.min([0,0],a,g),s=O.vec2.max([0,0],s,g)}}h=0;for(var v=e.length;h<v;h+=1)if(g=e[h],0!==h||n)if(h!==v-1||n){i=e[[h?h-1:v-1,h-1][n?0:1]],o=e[n?(h+1)%v:h+1];var m=[0,0];m=O.vec2.sub(m,o,i),m=O.vec2.scale(m,m,t);var y=O.vec2.distance(g,i),b=O.vec2.distance(g,o),x=y+b;0!==x&&(y/=x,b/=x);var _=O.vec2.scale([0,0],m,-y),w=O.vec2.scale([0,0],m,b);c=O.vec2.add([0,0],g,_),u=O.vec2.add([0,0],g,w),u=O.vec2.min([0,0],u,O.vec2.max([0,0],o,g)),u=O.vec2.max([0,0],u,O.vec2.min([0,0],o,g)),_=O.vec2.sub([0,0],u,g),_=O.vec2.scale([0,0],_,-y/b),c=O.vec2.add([0,0],g,_),c=O.vec2.min([0,0],c,O.vec2.max([0,0],i,g)),c=O.vec2.max([0,0],c,O.vec2.min([0,0],i,g)),w=O.vec2.sub([0,0],g,c),w=O.vec2.scale([0,0],w,b/y),u=O.vec2.add([0,0],g,w),d&&(c=O.vec2.max([0,0],c,a),c=O.vec2.min([0,0],c,s),u=O.vec2.max([0,0],u,a),u=O.vec2.min([0,0],u,s)),f.push(l),f.push(c),l=u}else c=g,f.push(l),f.push(c);else l=g;return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o+=1)s=l[2*o],u=l[2*o+1],c=i[o+1],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]]);return r&&(s=l[f],u=l[f+1],c=i[0],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]])),d};var Zo="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Qo=new RegExp("([a-z])["+Zo+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Zo+"]*,?["+Zo+"]*)+)","ig"),$o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Zo+"]*,?["+Zo+"]*","ig");function Jo(e){if(!e)return null;if(Object(x.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Qo,function(e,r,i){var o=[],a=r.toLowerCase();if(i.replace($o,function(e,t){t&&o.push(+t)}),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=t[a]&&(n.push([r].concat(o.splice(0,t[a]))),t[a]););return""}),n}var ea=/[a-z]/;function ta(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function na(e){var t=Jo(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];if(ea.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return t;var o=[],a=0,s=0,u=0,c=0,l=0,f=t[0];"M"!==f[0]&&"m"!==f[0]||(u=a=+f[1],c=s=+f[2],l++,o[0]=["M",a,s]);r=l;for(var d=t.length;r<d;r++){var h=t[r],p=o[r-1],g=[],v=(i=h[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=+h[6]+a,g[7]=+h[7]+s;break;case"V":g[1]=+h[1]+s;break;case"H":g[1]=+h[1]+a;break;case"M":u=+h[1]+a,c=+h[2]+s,g[1]=u,g[2]=c;break;default:for(var m=1,y=h.length;m<y;m++)g[m]=+h[m]+(m%2?a:s)}else g=t[r];switch(v){case"Z":a=+u,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=ta([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,_=ta([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",_[0],_[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}Math.PI;function ra(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ia(e,t){return ra(e)*ra(t)?(e[0]*t[0]+e[1]*t[1])/(ra(e)*ra(t)):1}function oa(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(ia(e,t))}function aa(e,t){return e[0]===t[0]&&e[1]===t[1]}function sa(e,t){var n=t[1],r=t[2],i=Object(x.mod)(Object(x.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,d=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+c)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+l)/2+Math.sin(i)*v+Math.cos(i)*m,_=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=oa([1,0],_),S=oa(_,w);return ia(_,w)<=-1&&(S=Math.PI),ia(_,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:aa(e,[c,l])?0:n,ry:aa(e,[c,l])?0:r,startAngle:E,endAngle:E+S,xRotation:i,arcFlag:o,sweepFlag:a}}function ua(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function ca(e){for(var t=[],n=null,r=null,i=null,o=0,a=(e=qo(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var c=u[0],l={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":i=[u[1],u[2]],o=s;break;case"A":var f=sa(n,u);l.arcParams=f}if("Z"===c)n=i,r=e[o+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),l.currentPoint=n,t[o]&&aa(n,t[o].currentPoint)&&(t[o].prePoint=l.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=h;var p=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=ua((y=t[s-1]).currentPoint,p);"Q"===y.command?(l.command="Q",l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]):(l.command="TL",l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],m=[u[3],u[4]];l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]],0===l.startTangent[0]&&0===l.startTangent[1]&&(l.startTangent=[v[0]-m[0],v[1]-m[1]]),0===l.endTangent[0]&&0===l.endTangent[1]&&(l.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===c){var y;v=ua((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(l.command="C",l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]]):(l.command="SQ",l.startTangent=[p[0]-m[0],p[1]-m[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var b=.001,x=l.arcParams||{},_=x.cx,w=void 0===_?0:_,E=x.cy,S=void 0===E?0:E,O=x.rx,k=void 0===O?0:O,M=x.ry,C=void 0===M?0:M,A=x.sweepFlag,j=void 0===A?0:A,T=x.startAngle,I=void 0===T?0:T,N=x.endAngle,P=void 0===N?0:N;0===j&&(b*=-1);var D=k*Math.cos(I-b)+w,L=C*Math.sin(I-b)+S;l.startTangent=[D-i[0],L-i[1]];var R=k*Math.cos(I+P+b)+w,B=C*Math.sin(I+P-b)+S;l.endTangent=[p[0]-R,p[1]-B]}t.push(l)}return t}function la(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(x.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(u/2-c)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(l-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}io("rect",ao),io("image",ao),io("circle",so),io("marker",so),io("polyline",function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}var a=c.getBBoxByArray(n,r),s=a.x,u=a.y,l={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(l=Go(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),io("polygon",function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}return c.getBBoxByArray(n,r)}),io("text",function(e){var t=e.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=t.font;s||(s=Yo(t));var u,c=function(e,t){var n=Vo(),r=0;if(Object(x.isNil)(e)||""===e)return r;if(n.save(),n.font=t,Object(x.isString)(e)&&e.includes("\n")){var i=e.split("\n");Object(x.each)(i,function(e){var t=n.measureText(e).width;r<t&&(r=t)})}else r=n.measureText(e).width;return n.restore(),r}(i,s);if(c){var l=t.textAlign,f=t.textBaseline,d=Wo(i,o,a),h={x:n,y:r-d};l&&("end"===l||"right"===l?h.x-=c:"center"===l&&(h.x-=c/2)),f&&("top"===f?h.y+=d:"middle"===f&&(h.y+=d/2)),u={x:h.x,y:h.y,width:c,height:d}}else u={x:n,y:r,width:0,height:0};return u}),io("path",function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,i=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=(g=e[o]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=So.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=jo.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var l=g.arcParams;c=Ro.box(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),t&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}),r=r.filter(function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0});var f=Object(x.min)(n),d=Object(x.min)(r),h=Object(x.max)(n),p=Object(x.max)(r);if(0===i.length)return{x:f,y:d,width:h-f,height:p-d};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===f?f-=la(g,t).xExtra:a[0]===h&&(h+=la(g,t).xExtra),a[1]===d?d-=la(g,t).yExtra:a[1]===p&&(p+=la(g,t).yExtra)}return{x:f,y:d,width:h-f,height:p-d}}(e.get("segments")||ca(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Go(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}),io("line",function(e){var t=e.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Go(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),io("ellipse",function(e){var t=e.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}});var fa=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return Object(b.__extends)(t,e),t}(Xn),da=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},ha=function(e){if(Object(x.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if(Object(x.isNumber)(e))return[e,e,e,e];if(Object(x.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},pa=function(e){var t=new fa(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},ga=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},va=function(e){return Number.isNaN(Number(e))},ma=function(e){for(var t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o].getBBox(),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY;s<t&&(t=s),u<r&&(r=u),c>n&&(n=c),l>i&&(i=l)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(i)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:i}},ya=function(e,t,n,r,i){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],l={},f=0;f<o;f++){var d=e[f],h=d.source,p=d.target,g="".concat(h,"-").concat(p);if(!c[f]){u[g]||(u[g]=[]),c[f]=!0,u[g].push(d);for(var v=0;v<o;v++)if(f!==v){var m=e[v],y=m.source,b=m.target;c[v]||(h===b&&p===y?(u[g].push(m),c[v]=!0,l["".concat(y,"|").concat(b,"|").concat(u[g].length-1)]=!0):h===y&&p===b&&(u[g].push(m),c[v]=!0))}}}for(var x in u)for(var _=u[x],w=_.length,E=0;E<w;E++){var S=_[E];if(S.source!==S.target)if(1===w&&r&&S.source!==S.target)S.type=r;else{S.type=n;var O=(E%2===0?1:-1)*(l["".concat(S.source,"|").concat(S.target,"|").concat(E)]?-1:1);S.curveOffset=w%2===1?O*Math.ceil(E/2)*a:O*(Math.floor(E/2)*a+t)}else i&&(S.type=i),S.loopCfg={position:s[E%8],dist:20*Math.floor(E/8)+50}}return e},ba=n(161),xa=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(e,t){var n=this.graph,r=n.get("group");r.resetMatrix();var i=r.getCanvasBBox();if(0!==i.width&&0!==i.height){var o=this.getViewCenter(),a=i.x+i.width/2,s=i.y+i.height/2;n.translate(o.x-a,o.y-s,e,t)}},e.prototype.animatedFitView=function(e,t,n,r,i,o,a){var s=this.graph;n=n||{duration:500,easing:"easeCubic"};var u=r.x+i.x-o.x-r.minX,c=r.y+i.y-o.y-r.minY,l=Object(ba.transform)([1,0,0,0,1,0,0,0,1],[["t",u,c]]),f=s.get("minZoom"),d=s.get("maxZoom"),h=a;f&&a<f?(h=f,console.warn("fitview failed, ratio out of range, ratio: %f",a,"graph minzoom has been used instead")):d&&a>d&&(h=f,console.warn("fitview failed, ratio out of range, ratio: %f",a,"graph maxzoom has been used instead"));var p=Object(ba.transform)(l,[["t",-i.x,-i.y],["s",h,h],["t",i.x,i.y]]),g=dn({animateCfg:n,callback:function(){s.emit("viewportchange",{action:"translate",matrix:l}),s.emit("viewportchange",{action:"zoom",matrix:p})}});e.animate(function(e){return{matrix:Pt(t,p,e)}},g)},e.prototype.fitView=function(e,t){var n=this.graph,r=this.getFormatPadding(),i=n.get("width"),o=n.get("height"),a=n.get("group"),s=a.getMatrix()||[1,0,0,0,1,0,0,0,1];a.resetMatrix();var u=a.getCanvasBBox();if(0!==u.width&&0!==u.height){var c=this.getViewCenter(),l={x:u.x+u.width/2,y:u.y+u.height/2},f=(i-r[1]-r[3])/u.width,d=(o-r[0]-r[2])/u.height,h=f;f>d&&(h=d),e?this.animatedFitView(a,s,t,u,c,l,h):(n.translate(c.x-l.x,c.y-l.y),n.zoom(h,c)||console.warn("zoom failed, ratio out of range, ratio: %f",h))}},e.prototype.fitViewByRules=function(e,t,n){var r=e.onlyOutOfViewPort,i=void 0!==r&&r,o=e.direction,a=void 0===o?"both":o,s=e.ratioRule,u=void 0===s?"min":s,c=this.graph,l=this.getFormatPadding(),f=c.get("width"),d=c.get("height"),h=c.get("group"),p=h.getMatrix()||[1,0,0,0,1,0,0,0,1];h.resetMatrix();var g=h.getCanvasBBox();if(0!==g.width&&0!==g.height){var v,m=this.getViewCenter(),y={x:g.x+g.width/2,y:g.y+g.height/2},b=(f-l[1]-l[3])/g.width,x=(d-l[0]-l[2])/g.height;if(v="x"===a?b:"y"===a?x:"max"===u?Math.max(b,x):Math.min(b,x),i&&(v=v<1?v:1),t)this.animatedFitView(h,p,n,g,m,y,v);else{var _=c.getZoom()*v,w=c.get("minZoom");_<w&&(_=w,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),c.translate(m.x-y.x,m.y-y.y),c.zoomTo(_,m)}}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return ha(e)},e.prototype.focusPoint=function(e,t,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(o.x-e.x)*a[0],u=(o.y-e.y)*a[4],c=0,l=0,f=0,d=0;this.graph.get("canvas").animate(function(e){f=s*e,d=u*e,r.graph.translate(f-c,d-l),c=f,l=d},Object(b.__assign)({},n))}else this.graph.translate((o.x-e.x)*a[0],(o.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),st({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),at({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if(Object(x.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,i=0;if(e.getType&&"edge"===e.getType()){var o=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!Object(x.isNumber)(e)||!Object(x.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach(function(e){e.get("gridContainer")&&e.positionInit()})},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}();function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},i=e.trim(),o=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some(function(e){return r(a)===e})},u=null,c=0,l="";c<i.length;){var f=i[c],d=s('"',"'");if(d||f.trim()){var h="\\"===i[c-1],p=s("}"),g=s("]"),v=s(","),m=r(o);if(d)if(r(a)!==f||h)l+=f;else{a.pop();var y=t(l);m.push(y),u=y,l=""}else if(g&&","===f)l&&(m.push(t(l)),l="");else if(p&&":"===f)a.push(","),l&&(m.push(l),l="");else if(v&&","===f)l&&(m.push(t(l)),l=""),a.pop();else if("}"===f&&(p||v)){l&&(m.push(t(l)),l=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===f&&g?(l&&(m.push(t(l)),l=""),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):"{"===f?(o.push([]),a.push("}")):"["===f?(o.push([]),a.push("]")):'"'===f?a.push('"'):"'"===f?a.push("'"):l+=f;c+=1}else c+=1}return u||l}var Ea=function(e){return e.split("-").reduce(function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)})},Sa=function(e){return function(t){for(var n=e.length,r=[],i=0,o="";i<n;)if("{"===e[i]&&"{"===e[i+1])r.push(o),o="",i+=2;else if("}"===e[i]&&"}"===e[i+1]){if(r.length){var a=r.pop();o=Object(x.get)(t,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=e[i],i+=1;return r.push(o),r.map(function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e}).join("")}};function Oa(e,t){var n;void 0===t&&(t={x:0,y:0});var r=Object(b.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var i=e.attrs,o=void 0===i?{}:i,a=o.marginTop,s=Object(b.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var c=Oa(e.children[u],s);if(c.bbox){var l=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,l.width+l.x>r.width&&(r.width=l.width+l.x),l.height+l.y>r.height&&(r.height=l.height+l.y)}}}return e.bbox=function(e,t,n){var r,i,o=e.attrs,a=void 0===o?{}:o,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=on(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,e.attrs=Object(b.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=Object(b.__assign)(Object(b.__assign)({},e.attrs),e.bbox),e}function ka(e){var t={},n=function(t){var n="function"===typeof e?e(t):e,r=Sa(n)(t),i=document.createElement("div");i.innerHTML=r;var o=Oa(function e(t,n){var r={},i=t.getAttributeNames&&t.getAttributeNames()||[],o=t.children&&Array.from(t.children).map(function(t){return e(t,n)}),a={},s=t.tagName?t.tagName.toLowerCase():"group";return"text"===s&&(r.text=t.innerText),a.type=s,"img"===s&&(a.type="image"),Array.from(i).forEach(function(e){var n=Ea(e),i=t.getAttribute(e);try{if("style"===n||"attrs"===n){var o=wa(i);r=Object(b.__assign)(Object(b.__assign)({},r),o)}else a[n]=wa(i)}catch(s){if("style"===n)throw s;a[n]=i}}),a.attrs=r,n&&n.style&&a.name&&"object"===_a(n.style[a.name])&&(a.attrs=Object(b.__assign)(Object(b.__assign)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(b.__assign)(Object(b.__assign)({},a.attrs),n.style)),o.length&&(a.children=o),a}(i.children[0],t));return i.remove(),o};return{draw:function(e,r){var i=n(e),o=r;return function e(t){var n=t.attrs,i=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,c=Object(b.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var l=r.addShape(t.type,Object(b.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},c));t.keyshape&&(o=l)}t.children&&t.children.forEach(function(t){return e(t)})}(i),t[e.id]=[i],o},update:function(e,r){t[e.id]||(t[e.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(e),s=function e(t,n){var r,i,o,a,s=(t||{}).type,u=((null===n||void 0===n?void 0:n.attrs)||{}).key;if(u&&t&&(t.attrs.key=u),!t&&n)return{action:"delete",val:n,type:s,key:u};if(t&&!n)return{action:"add",val:t,type:s};if(!t&&!n)return{action:"same",type:s};var c=[];if((null===(r=t.children)||void 0===r?void 0:r.length)>0||(null===(i=n.children)||void 0===i?void 0:i.length)>0)for(var l=Math.max(null===(o=t.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),f=n.children||[],d=t.children||[],h=0;h<l;h+=1)c.push(e(d[h],f[h]));var p=Object.keys(n.attrs),g=Object.keys(t.attrs);return n.type!==t.type?{action:"restructure",nowTarget:t,formerTarget:n,key:u,children:c}:p.filter(function(e){return"children"!==e}).some(function(e){return t.attrs[e]!==n.attrs[e]||!g.includes(e)})?{action:"change",val:t,children:c,type:s,key:u}:{action:"same",children:c,type:s,key:u}}(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&i.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map(function(t){return e(t)})},c=function e(t){var n,r=o.find(function(e){return e.attrs.key===t.attrs.key});r&&i.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map(function(t){return e(t)})};!function e(t){var n=t.key;if("group"!==t.type){var i=o.find(function(e){return e.attrs.key===n});switch(t.action){case"change":if(i){var a=t.val.keyshape?r.getOriginStyle():{};i.attr(Object(b.__assign)(Object(b.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":c(t.val);break;case"restructure":c(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach(function(t){return e(t)})}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ma={};function Ca(e){return Ma[e]||(Ma[e]=Object(x.upperFirst)(e)),Ma[e]}var Aa={defaultShapeType:"defaultType",className:null,getShape:function(e){return this[e]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var i=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,i),i},baseUpdate:function(e,t,n,r){var i,o,a=this.getShape(e);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,t,r),null===(o=a.update)||void 0===o||o.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},ja={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},Ta=function(){function e(){}return e.registerFactory=function(t,n){var r=Ca(t),i=Aa,o=Object(b.__assign)(Object(b.__assign)({},i),n);return e[r]=o,o.className=r,o},e.getFactory=function(t){return e[Ca(t)]},e.registerNode=function(t,n,r){var i,o=e.Node;if("string"===typeof n||"function"===typeof n){var a=ka(n);i=Object(b.__assign)(Object(b.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=ka(n.jsx);i=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):ja;i=Object(b.__assign)(Object(b.__assign)({},s),n)}return i.type=t,i.itemType="node",o[t]=i,i},e.registerEdge=function(t,n,r){var i=e.Edge,o=r?i.getShape(r):ja,a=Object(b.__assign)(Object(b.__assign)({},o),n);return a.type=t,a.itemType="edge",i[t]=a,a},e.registerCombo=function(t,n,r){var i=e.Combo,o=r?i.getShape(r):ja,a=Object(b.__assign)(Object(b.__assign)({},o),n);return a.type=t,a.itemType="combo",i[t]=a,a},e}(),Ia=Ta;Ta.registerFactory("node",{defaultShapeType:"circle"}),Ta.registerFactory("edge",{defaultShapeType:"line"}),Ta.registerFactory("combo",{defaultShapeType:"circle"});var Na=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,i=this.get("type");"undefined"===typeof r?r=da(i):"string"!==typeof r&&(r=String(r)),this.get("model").id=r,this.set("id",r);var o=e.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var c=this.get("styles")||n.stateStyles;c=Object(x.deepMix)({},u.stateStyles,c),this.set("styles",c)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Qt(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Qt(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this.get("shapeFactory"),t=this.get("group"),n=this.get("model");t.clear();var r=n.visible;if(void 0===r||r||this.changeVisibility(r),e){this.updatePosition(n);var i=this.getShapeCfg(n),o=i.type,a=e.draw(o,i,t);a&&(this.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",o),this.restoreStates(e,o)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==i){var c=a[s];o[s]||(o[s]={}),c?Object.keys(u).forEach(function(e){var t=u[e];t!==c[e]&&(o[s][e]=t)}):o[s]="image"!==n.get("type")?Object(x.clone)(u):r.getShapeStyleByName(s)}else{var l=n.attr(),f={};Object.keys(a).forEach(function(e){var t=a[e];e!==i&&Object(x.isPlainObject)(t)||(f[e]=t)}),Object.keys(l).forEach(function(e){var t=l[e];f[e]!==t&&(i?o[i][e]=t:o[e]=t)})}};for(c=0;c<t.length;c++)s(c);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var u={},c=0;c<t.length;c++){var l=t[c],f=l.get("type"),d=l.get("name");if(d&&d!==i)u[d]="image"!==f?Object(x.clone)(l.attr()):r.getShapeStyleByName(d),"text"===f&&u[d]&&(delete u[d].x,delete u[d].y,delete u[d].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,i)if(d)u[i]=h;else{var p=da("shape");l.set("name",p),e.shapeMap[p]=l,u[p]="image"!==f?Object(x.clone)(l.attr()):r.getShapeStyleByName(d)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");Object(x.each)(r,function(r){e.setState(t,r,!0,n)})},e.prototype.init=function(){var e=Ia.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){Object(x.isPlainObject)(e)?this._cfg=Object(b.__assign)(Object(b.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return Object(x.each)(t.attr(),function(e,t){("img"!==t||Object(x.isString)(e))&&(r[t]=e)}),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=Object(b.__assign)(Object(b.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?(Object(x.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),i=e,o=e;Object(x.isString)(t)&&(i="".concat(e,":").concat(t),o="".concat(e,":"));var a=n;if(Object(x.isBoolean)(t)){var s=n.indexOf(o);if(t){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if(Object(x.isString)(t)){var u=n.filter(function(e){return e.includes(o)});u.length>0&&this.clearStates(u),(a=a.filter(function(e){return!e.includes(o)})).push(i),this.set("states",a)}if(r){var c=this.get("model").type;r.setState(c,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),i=t.get("model").type;e||(e=n),Object(x.isString)(e)&&(e=[e]);var o=n.filter(function(t){return-1===e.indexOf(t)});t.set("states",o),e.forEach(function(e){r.setState(i,e,!1,t)})},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;Object(x.mix)(a,s),delete e.stateStyles}Object.assign(n,e),o.x===e.x&&o.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,e);t.baseUpdate(r,i,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),ht(i,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get("bboxCache");return e||(e=this.calculateBBox(),this.set("bboxCache",e)),e},e.prototype.getCanvasBBox=function(){var e=this.get("bboxCanvasCache");return e||(e=this.calculateCanvasBBox(),this.set("bboxCanvasCache",e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),Pa={source:"start",target:"end"},Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=Pa[e]+"Point",r=e+"Node",i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),Object(x.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=Pa[e]+"Point",i=e+"Node",o=this.get(r);if(!o){var a=this.get(i),s=e+"Anchor",u=this.getPrePoint(e,n),c=t[s];Object(x.isNil)(c)||(o=a.getLinkPointByAnchor(c)),o=o||a.getLinkPoint(u),Object(x.isNil)(o.index)||this.set("".concat(e,"AnchorIndex"),o.index)}return o},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+"Node",n=Pa[e]+"Point",r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=e.type;return r.getControlPoints(i,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+"Node",n=Pa[e]+"Point",r=this.get(t);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this.get("linkCenter"),i=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(r)i.startPoint=this.getEndCenter("source"),i.endPoint=this.getEndCenter("target");else{var o=i.controlPoints||this.getControlPointsByCenter(i);i.startPoint=this.getLinkPoint("source",t,o),i.endPoint=this.getLinkPoint("target",t,o)}return i.sourceNode=this.get("sourceNode"),i.targetNode=this.get("targetNode"),i},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat("Node")),n=this.get("target".concat("Node"));return t?delete e["source".concat("Node")]:e.source=this.get("start".concat("Point")),n?delete e["target".concat("Node")]:e.target=this.get("end".concat("Point")),Object(x.isString)(e.source)||Object(x.isPlainObject)(e.source)||(e.source=e.source.getID()),Object(x.isString)(e.target)||Object(x.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(e.stateStyles){var a=e.stateStyles;Object(x.mix)(o,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat("Node")),n=this.get("target".concat("Node"));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(Na),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],i=ct(e[0],t),o=0;o<e.length;o++){var a=e[o],s=ct(a,t);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter(function(t){return t.get("target")===e})},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter(function(t){return t.get("source")===e})},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter(function(e){return e.getSource()===t}).map(function(e){return e.getTarget()})}if("source"===e){return n.filter(function(e){return e.getTarget()===t}).map(function(e){return e.getSource()})}return n.map(function(e){return e.getSource()===t?e.getTarget():e.getSource()})},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(t=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(t=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=it({x:t,y:n,r:o.width/2},e);break;case"ellipse":a=ot({x:t,y:n,rx:o.width/2,ry:o.height/2},e);break;default:a=rt(o,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get("anchorPointsCache");if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=t.getAnchorPoints(o,i)||[];Object(x.each)(a,function(t,r){var i={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(i)}),this.set("anchorPointsCache",e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},t.prototype.getUpdateType=function(e){var t,n,r,i,o;if(e){var a=!Object(x.isNil)(e.x),s=!Object(x.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":Object(x.isNumber)(e.x)||Object(x.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.rx)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(Na),Ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,i={r:Math.hypot(n.height,n.width)/2||Wt.defaultCombo.size[0]/2,width:n.width||Wt.defaultCombo.size[0],height:n.height||Wt.defaultCombo.size[1]};r.style=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},t),e.style),i);var o=e.padding||Wt.defaultCombo.padding;return Object(x.isNumber)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set("sizeCache",i),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=Qt(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get("sizeCache"),i=this.get("bboxCache")||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set("anchorPointsCache",null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(La),Ba=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=Object(x.throttle)(function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var i=t.edgeToBeUpdateMap;i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)&&(Object.keys(i).forEach(function(e){var t=i[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(i[e].updateType)}}),t.edgeToBeUpdateMap={})}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r="vedge"===e?"edge":e,i=n.get("".concat(r,"Group"))||n.get("group"),o=Object(x.upperFirst)(r),a=null,s=n.get(r+Object(x.upperFirst)("stateStyles"))||{},u=n.get("default"+o);t.stateStyles&&(s=t.stateStyles),u&&Object(x.each)(u,function(e,n){Object(x.isObject)(e)&&!Object(x.isArray)(e)?t[n]=Object(x.deepMix)({},e,t[n]):Object(x.isArray)(e)?t[n]=t[n]||Object(x.clone)(u[n]):t[n]=t[n]||u[n]});var c=n.get(r+"Mapper");if(c){var l=c(t);l.stateStyles&&(s=l.stateStyles,delete l.stateStyles),Object(x.each)(l,function(e,n){Object(x.isObject)(e)&&!Object(x.isArray)(e)?t[n]=Object(x.deepMix)({},t[n],e):t[n]=l[n]||t[n]})}if(n.emit("beforeadditem",{type:e,model:t}),"edge"===e||"vedge"===e){var f=void 0,d=void 0;if(f=t.source,d=t.target,f&&Object(x.isString)(f)&&(f=n.findById(f)),d&&Object(x.isString)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),a=new Da({model:t,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if("node"===e)a=new La({model:t,styles:s,group:i.addGroup()});else if("combo"===e){var h=t.children,p=cn(h,n),g=void 0,v=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(t.y)&&(v=100*Math.random()):v=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=v;else{var m=t.x-g,y=t.y-v;this.updateComboSucceeds(t.id,m,y,h)}var b=i.addGroup();b.setZIndex(t.depth);var _=(a=new Ra({model:t,styles:s,animate:!1,bbox:t.collapsed?cn([],n):p,group:b})).getModel();(h||[]).forEach(function(e){var t=n.findById(e.id);a.addChild(t),e.depth=_.depth+2})}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,i=this,o=this.graph;if(Object(x.isString)(e)&&(e=o.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=o.get(a+"Mapper"),u=e.getModel(),c=u.x,l=u.y,f=e.getUpdateType(t);if(s){var d=s(Object(x.deepMix)({},u,t)),h=Object(x.deepMix)({},u,d,t);d.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),Object(x.each)(h,function(e,n){t[n]=e})}else Object(x.each)(t,function(e,n){u[n]&&Object(x.isObject)(e)&&!Object(x.isArray)(e)&&(t[n]=Object(b.__assign)(Object(b.__assign)({},u[n]),t[n]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),"edge"===a){if(t.source){var p=t.source;Object(x.isString)(p)&&(p=o.findById(p)),e.setSource(p)}if(t.target){var g=t.target;Object(x.isString)(g)&&(g=o.findById(g)),e.setTarget(g)}e.update(t)}else if("node"===a){e.update(t,f);var v=e.getEdges(),m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f;"move"===f?Object(x.each)(v,function(e){i.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:f},i.throttleRefresh()}):m&&Object(x.each)(v,function(e){e.refresh(f)})}else if("combo"===a){if(e.update(t,f),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-c||0,_=t.y-l||0;this.updateComboSucceeds(u.id,y,_)}var w=e.getEdges();if((m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f)&&"combo"===a){var E=e.get("shapeFactory"),S=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=E[S])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout(function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&Object(x.each)(w,function(e){e&&!e.destroyed&&e.refresh()})}},201):Object(x.each)(w,function(e){e.refresh()})}}o.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,i,o=this,a=this.graph;if(Object(x.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=cn(t,a,e),c=u.x,l=u.y;e.set("bbox",u);var f=c,d=l;n?(f=isNaN(s.x)?c:s.x,d=isNaN(s.y)?l:s.y):(f=isNaN(c)?s.x:c,d=isNaN(l)?s.y:l),e.update({x:f,y:d});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout(function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),o.updateComboEdges(e))}},201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];r&&!r.destroyed&&r.refresh()}},e.prototype.collapseCombo=function(e,t){void 0===t&&(t=!0);var n=this.graph;Object(x.isString)(e)&&(e=n.findById(e));var r=e.getChildren();r.nodes.forEach(function(e){n.hideItem(e,t)}),r.combos.forEach(function(e){n.hideItem(e,t)})},e.prototype.updateComboSucceeds=function(e,t,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach(function(t){tn(t,function(t){return t.id!==e||(a=t.children,!1)})})}null===a||void 0===a||a.forEach(function(e){var r=o.findById(e.id);if(r){var a=r.getModel();i.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}})}},e.prototype.expandCombo=function(e,t){void 0===t&&(t=!0);var n=this.graph;Object(x.isString)(e)&&(e=n.findById(e));var r=e.getChildren();r.nodes.forEach(function(e){n.showItem(e,t)}),r.combos.forEach(function(e){e.getModel().collapsed?e.show():n.showItem(e,t)})},e.prototype.removeItem=function(e){var t=this,n=this.graph;if(Object(x.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=Object(x.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var i="";e.getType&&(i=e.getType());var o=n.get("".concat(i,"s")),a=o.indexOf(e);if(a>-1&&o.splice(a,1),"edge"===i){var s=n.get("v".concat(i,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var c=e.get("id");delete n.get("itemMap")[c];var l=n.get("comboTrees"),f=e.get("id");if("node"===i){var d=e.getModel().comboId;if(l&&d){var h=l,p=!1;l.forEach(function(e){p||tn(e,function(e){if(e.id===f&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0})})}for(var g=(b=e.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if("combo"===i){var v,m=e.getModel().parentId,y=!1;(l||[]).forEach(function(e){y||tn(e,function(e){return e.id!==f||(v=e,y=!0,!1)})}),v.removed=!0,v&&v.children&&v.children.forEach(function(e){t.removeItem(e.id)});var b;for(g=(b=e.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,i=t;Object(x.isString)(n)&&(i="".concat(t,":").concat(n)),e.hasState(i)===n&&n||Object(x.isString)(n)&&e.hasState(i)||(r.emit("beforeitemstatechange",{item:e,state:i,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:i,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;Object(x.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;Object(x.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;Object(x.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach(function(e){nn(e,function(e){var r;return t.forEach(function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)}),r&&n.addItem("combo",r),!0})});var i=r.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if(Object(x.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&"node"===e.getType()){var i=e.getEdges();Object(x.each)(i,function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)})}else if(e.getType&&"combo"===e.getType()){var o=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(o||[]).forEach(function(e){u||e.children&&0!==e.children.length&&tn(e,function(e){return e.id!==a||(s=e.children,u=!0,!1)})}),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach(function(e){var i=r.findById(e.id);n.changeItemVisibility(i,t)});i=e.getEdges();Object(x.each)(i,function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)})}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),Fa=null,za=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var i=this,o=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;r?(o(t,n,c),a(t,n,u)):(o(t,n,u),a(t,n,c)),Fa&&clearTimeout(Fa),Fa=setTimeout(function(){Fa=null,i.updateGraphStates()},16)}},e.prototype.updateStates=function(e,t,n){var r=this;Object(x.isString)(t)?this.updateState(e,t,n):t.forEach(function(t){r.updateState(e,t,n)})},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;Object(x.each)(t.disabled,function(t,n){e[n]&&(e[n]=e[n].filter(function(e){return t.indexOf(e)<0&&!t.destroyed}))}),Object(x.each)(t.enabled,function(t,n){if(e[n]){var r={};e[n].forEach(function(e){e.destroyed||(r[e.get("id")]=!0)}),t.forEach(function(t){if(!t.destroyed){var i=t.get("id");r[i]||(r[i]=!0,e[n].push(t))}})}else e[n]=t}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Fa&&clearTimeout(Fa),Fa=null,this.destroyed=!0},e}(),Ga=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""}):e},Ua=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.x,a=i.y;t.push(o),t.push(a)}var s=Ko(t);return s.unshift(["M",e[0].x,e[0].y]),s},Va=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},o=[0,0];O.vec2.normalize(o,[t.x-e.x,t.y-e.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},Wa=function(e,t){var n=e.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=e[i];r+=Ga(0===i?"M{x} {y}":"L{x} {y}",o)}return t&&(r+="Z"),r},Ya=function(e){var t=[];return e.forEach(function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}}),t},Xa=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(r),e.unshift(i),e.push(t),e.push(n);for(var o=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,c=e[a].x,l=e[a].y,f=e[a+1].x,d=e[a+1].y,h=c+(f-s)/6,p=l+(d-u)/6,g=f-((a!==e.length-2?e[a+2].x:f)-c)/6,v=d-((a!==e.length-2?e[a+2].y:d)-l)/6;o.push(["C",h,p,g,v,f,d])}return o.unshift(["M",r.x,r.y]),o},Ha=function(e,t){return O.vec2.scale([0,0],O.vec2.normalize([0,0],e),t)},qa=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},Ka=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Za(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=O.vec2.scale([0,0],qa(e[0],e[1]),t),r=O.vec2.scale([0,0],n,-1),i=O.vec2.add([0,0],e[0],n),o=O.vec2.add([0,0],e[1],n),a=O.vec2.add([0,0],e[1],r),s=O.vec2.add([0,0],e[0],r);return"M ".concat(i," L ").concat(o," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",i].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var i=0===r?e[e.length-1]:e[r-1],o=e[r],a=O.vec2.scale([0,0],qa(i,o),t);n[r]=[O.vec2.add([0,0],i,a),O.vec2.add([0,0],o,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return(n=n.map(function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})).join(" ")}function Qa(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=Ka(e[0],e[1]),r=Ha(n,t),i=O.vec2.add([0,0],e[0],O.vec2.scale([0,0],r,-1)),o=O.vec2.add([0,0],e[1],r),a=1.2*t,s=Ha(O.vec2.normalize([0,0],n),a),u=O.vec2.scale([0,0],s,-1),c=O.vec2.add([0,0],i,u),l=O.vec2.add([0,0],o,u),f=O.vec2.add([0,0],i,s);return"M ".concat(i," C ").concat([c,l,o].join(",")," S ").concat([f,i].join(",")," Z")}(e);for(var r=e.map(function(t,r){var i=e[(r+1)%n];return{p:t,v:O.vec2.normalize([0,0],Ka(t,i))}}),i=0;i<r.length;++i){var o=i>0?i-1:n-1,a=O.vec2.normalize([0,0],O.vec2.add([0,0],r[o].v,O.vec2.scale([0,0],r[i].v,-1)));r[i].p=O.vec2.add([0,0],r[i].p,O.vec2.scale([0,0],a,t))}return r.map(function(e){var t=e.p;return{x:t[0],y:t[1]}})}var $a=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},Ja=function(e){var t=e.map(function(e){return{x:e.getModel().x,y:e.getModel().y}});if(t.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&$a(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var i=[];for(r=t.length-1;r>=0;r--){for(;i.length>=2&&$a(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}return i.pop(),n.pop(),n.concat(i)},es={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function ts(e,t,n){var r=!1,i=function(e,n){return t.cells[e+n*t.width]},o=function(e,t){var r=0;return i(e-1,t-1)>=n&&(r+=1),i(e,t-1)>n&&(r+=2),i(e-1,t)>n&&(r+=4),i(e,t)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,c=0;c<t.width*t.height;c++){if(i=s,a=u,e.findIndex(function(e){return e.x===s&&e.y===u})>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var l=o(s,u);switch(l){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(l)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)i(e,s)>n&&15!==o(e,s)&&(r=a(e,s));return r}}var ns=function(e,t,n){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach(function(t){var o={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=Ct(o,a),u=new wt(o.x,o.y,a.x,a.y),c=n.reduce(function(e,t){return kt(t,u)>0?e+1:e},0);s*Math.pow(c+1,2)<i&&(r=t,i=s*Math.pow(c+1,2))}),r},rs=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach(function(e){var i=kt(e,t);i>=0&&i<n&&(r=e,n=i)}),r},is=function(e,t,n,r){var i=[],o=[];o.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach(function(t){n||(jt(e,{x:t.x1,y:t.y1})||jt(e,{x:t.x2,y:t.y2}))&&(n=!0)}),n},c=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(bt(o,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var l=function(){var e=o.pop(),n=rs(t,e);if(n){var l=Ot(n,e),f=l[0];if(2===l[1]){var d=function(s){for(var l=r,d=ss(n,l,f,s),h=u(d,o)||u(d,i),p=c(d,t);!h&&p&&l>=1;)d=ss(n,l/=1.5,f,s),h=u(d,o)||u(d,i),p=c(d,t);!d||h||s&&p||(o.push(new wt(e.x1,e.y1,d.x,d.y)),o.push(new wt(d.x,d.y,e.x2,e.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(e),s+=1};!a&&o.length;)l()}for(;o.length;)i.push(o.pop());return i};var os=function(e,t,n){var r=Object.assign(es,n),i=Mt(e.map(function(e){return{x:e.getModel().x,y:e.getModel().y}}));e=e.sort(function(e,t){return Ct({x:e.getModel().x,y:e.getModel().y},i)-Ct({x:t.getModel().x,y:t.getModel().y},i)});var o=[],a=[];e.forEach(function(e){(function(e,t,n,r,i){var o=ns(e,n,t);if(null===o)return[];var a=new wt(e.getModel().x,e.getModel().y,o.getModel().x,o.getModel().y);return function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var i=e.pop(),o=new wt(r.x1,r.y1,i.x2,i.y2);rs(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(is(a,t,r,i))})(e,t,o,r.maxRoutingIterations,r.morphBuffer).forEach(function(e){a.push(e)}),o.push(e)});for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];e.forEach(function(e){i.push(e.getBBox())}),t.forEach(function(e){i.push(e.getBBox())});for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),i=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*i)).fill(0),width:r,height:i}}(s.width,s.height,r.pixelGroupSize),c=[],l=[],f=0;f<r.maxMarchingIterations;f++)if(as(e,t,a,s,u,r),l=[],new ts(c=[],u,r.threshold).march()){var d=c.map(function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}});if(d){var h=d.length;if(r.skip>1)for(h=Math.floor(d.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(d.length/r.skip);for(var p=0,g=0;g<h;g+=1,p+=r.skip)l.push({x:d[p].x,y:d[p].y})}if(l&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=l.map(function(e){return[e.x,e.y]});if(!bt(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return l;if(r.threshold*=.9,f<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return l};function as(e,t,n,r,i,o){function a(e,t){var n=Math.floor((e-t)/o.pixelGroupSize);return n<0?0:n}function s(e,t){return e*o.pixelGroupSize+t}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),c=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),l=function(e,t){return[Math.min(a(e.minX,t+r.minX),i.width),Math.min(a(e.minY,t+r.minY),i.height),Math.min(a(e.maxX,-t+r.minX),i.width),Math.min(a(e.maxY,-t+r.minY),i.height)]},f=function(e,t){for(var n=e.getBBox(),a=l(n,o.nodeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=Tt({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;i.cells[p+h*i.width]+=t*y*y}}};o.nodeInfluenceFactor&&e.forEach(function(e){f(e,o.nodeInfluenceFactor/u)}),o.edgeInfluenceFactor&&n.forEach(function(e){!function(e,t){for(var n=e.getBBox(),a=l(n,o.edgeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i.cells[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=At({x:g,y:v},e);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;i.cells[p+h*i.width]+=t*y*y}}}(e,o.edgeInfluenceFactor/c)}),o.negativeNodeInfluenceFactor&&t.forEach(function(e){f(e,o.negativeNodeInfluenceFactor/u)})}function ss(e,t,n,r){var i=e.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},l=i.height*i.width;function f(e,t){return i.width*(.5*(e.y-i.minY+(t.y-i.minY)))}if(a)return o?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:f(a,u)<.5*l?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(o)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return f(o,s)<.5*l?o.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:o.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var us=function(){function e(e,t){this.cfg=Object(x.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(t){return Object(x.isString)(t)?e.findById(t):t}),this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(x.isString)(t)?e.findById(t):t}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,i;switch(this.type){case"round-convex":r=Jo(i=Za((n=Ja(e)).map(function(e){return[e.x,e.y]}),this.padding));break;case"smooth-convex":2===(n=Ja(e)).length?r=Jo(i=Za(n.map(function(e){return[e.x,e.y]}),this.padding)):n.length>2&&(i=Qa(n.map(function(e){return[e.x,e.y]}),this.padding),r=Xa(i));break;case"bubble":r=(n=os(e,t,this.cfg.bubbleCfg)).length>=2&&Xa(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:Object(b.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){Object(x.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){Object(x.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){Object(x.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){Object(x.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(e){return Object(x.isString)(e)?n.graph.findById(e):e})),t&&(this.nonMembers=t.map(function(e){return Object(x.isString)(e)?n.graph.findById(e):e})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr(Object(b.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=Object(x.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(e){return Object(x.isString)(e)?t.graph.findById(e):e})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(x.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,i=(t=Object(x.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=Ya(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]}),_t(n,Ya(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),cs=r.transform,ls=function(e){function t(t){var n=e.call(this)||this;return n.sortCombos=Object(x.debounce)(function(){var e=n.get("comboSorted");if(n&&!n.destroyed&&!e){n.set("comboSorted",!0);var t=[],r={};(n.get("comboTrees")||[]).forEach(function(e){tn(e,function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],r[e.id]=e.depth,!0})}),(n.getEdges().concat(n.get("vedges"))||[]).forEach(function(e){var n=e.getModel(),i=r[n.source]||0,o=r[n.target]||0,a=Math.max(i,o);t[a]?t[a].push(n.id):t[a]=[n.id]}),t.forEach(function(e){if(e&&e.length)for(var t=e.length-1;t>=0;t--){var r=n.findById(e[t]);r&&r.toFront()}})}},500,!1),n.cfg=Object(x.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Ze(n.cfg.maxStep),n.redoStack=new Ze(n.cfg.maxStep)),n}return Object(b.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new xa(this),t=new pn(this),n=new Ba(this),r=new za(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:Wt.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:Wt.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:Wt.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:Wt.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:Wt.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return Object(x.isPlainObject)(e)?this.cfg=Object(b.__assign)(Object(b.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new Ze(this.cfg.maxStep),this.redoStack=new Ze(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){Object(x.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return Object(x.each)(r,function(e,r){if(t(e,r))return n=e}),n},t.prototype.findAll=function(e,t){var n=[];return Object(x.each)(this.get("".concat(e,"s")),function(e,r){t(e,r)&&n.push(e)}),n},t.prototype.findAllByState=function(e,t,n){return n?this.findAll(e,function(e){return e.hasState(t)&&n(e)}):this.findAll(e,function(e){return e.hasState(t)})},t.prototype.translate=function(e,t,n,r){var i=this,o=this.get("group"),a=Object(x.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=dn({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});pt(o,{x:o.getCanvasBBox().x+e,y:o.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=cs(a,[["t",e,t]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var i=this.get("group");pt(i,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},t.prototype.fitView=function(e,t,n,r){e&&this.set("fitViewPadding",e);var i=this.get("viewController");t?i.fitViewByRules(t,n,r):i.fitView(n,r),this.autoPaint()},t.prototype.fitCenter=function(e,t){this.get("viewController").fitCenter(e,t),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var i=this,o=this.get("group"),a=Object(x.clone)(o.getMatrix())||[1,0,0,0,1,0,0,0,1],s=this.get("minZoom"),u=this.get("maxZoom"),c=this.getZoom()||1,l=c*e,f=e,d=!1;if(s&&l<s?(f=s/c,d=!0):u&&l>u&&(f=u/c,d=!0),a=cs(a,t?[["t",-t.x,-t.y],["s",f,f],["t",t.x,t.y]]:[["s",f,f]]),n){var h=Object(x.clone)(o.getMatrix());h||(h=[1,0,0,0,1,0,0,0,1]);var p=h[0],g=p*f,v=dn({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate(function(e){if(1===e)h=a;else{var n=Nt(p,g,e)/h[0];h=cs(h,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:h}},v)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!d},t.prototype.zoomTo=function(e,t,n,r){var i=e/this.getZoom();return this.zoom(i,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),i=!1;t?i=!0:void 0===t&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(e,i,o),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if(Object(x.isString)(e)&&(n=this.findById(e)),!n&&Object(x.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var i=Object(b.__assign)(Object(b.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push(Object(b.__assign)(Object(b.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=un(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.innerAddItem=function(e,t,n){var r=this;if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!Object(x.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var i,o=this.get("comboTrees")||[];if("combo"===e){var a=this.get("itemMap"),s=!1;if(o.forEach(function(r){s||nn(r,function(r){if(t.parentId===r.id){s=!0;var o=Object(b.__assign)({id:t.id,depth:r.depth+2},t);r.children?r.children.push(o):r.children=[o],t.depth=o.depth,i=n.addItem(e,t)}var u=a[r.id];return s&&u&&u.getType&&"combo"===u.getType()&&n.updateCombo(u,r.children),!0})}),!s){var u=Object(b.__assign)({id:t.id,depth:0},t);t.depth=u.depth,o.push(u),i=n.addItem(e,t)}this.set("comboTrees",o),t.collapsed&&setTimeout(function(){i&&!i.destroyed&&(r.collapseCombo(i,!1),r.updateCombo(i))},0)}else if("node"===e&&Object(x.isString)(t.comboId)&&o){var c;(c=this.findById(t.comboId))&&c.getType&&"combo"!==c.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),i=n.addItem(e,t);var l=this.get("itemMap"),f=!1,d=!1;o.forEach(function(e){d||f||nn(e,function(e){if(e.id===t.id)return d=!0,!1;if(t.comboId===e.id&&!d){f=!0;var r=Object(x.clone)(t);r.itemType="node",e.children?e.children.push(r):e.children=[r],r.depth=e.depth+1}return f&&l[e.id].getType&&"combo"===l[e.id].getType()&&n.updateCombo(l[e.id],e.children),!0})})}else i=n.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(c=this.findById(t.comboId||t.parentId))&&c.getType&&"combo"===c.getType()&&c.addChild(i);return i}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController"),a=this.innerAddItem(e,t,o);if(!1===a||!0===a)return a;var s=this.get("combos");if(s&&s.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var u=Object(b.__assign)(Object(b.__assign)({},a.getModel()),{itemType:e}),c={};switch(e){case"node":c.nodes=[u];break;case"edge":c.edges=[u];break;case"combo":c.combos=[u]}this.pushStack("add",{before:{},after:c})}return a},t.prototype.addItems=function(e,t,n){void 0===e&&(e=[]),void 0===t&&(t=!0),void 0===n&&(n=!0);var r=this.get("comboSorted");this.set("comboSorted",r&&!n);for(var i=this.get("itemController"),o=[],a=0;a<e.length;a++){"edge"!==(s=e[a]).type&&"vedge"!==s.type?o.push(this.innerAddItem(s.type,s.model,i)):o.push(void 0)}for(a=0;a<e.length;a++){var s;"edge"!==(s=e[a]).type&&"vedge"!==s.type||(o[a]=this.innerAddItem(s.type,s.model,i))}if(n){var u=this.get("combos");u&&u.length>0&&this.sortCombos()}if(this.autoPaint(),t&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]};for(a=0;a<e.length;a++){var l=e[a].type,f=o[a];if(f&&!0!==f){var d=Object(b.__assign)(Object(b.__assign)({},f.getModel()),{itemType:l});switch(l){case"node":c.nodes.push(d);break;case"edge":c.edges.push(d);break;case"combo":c.combos.push(d)}}}this.pushStack("addItems",{before:{},after:c})}return o},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=Object(x.isString)(e)?this.findById(e):e;var a=Object(x.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=Object(b.__spreadArray)([],i.getStates(),!0);if("combo"===s&&Object(x.each)(u,function(e){return r.setItemState(i,e,!1)}),o.updateItem(i,t),"combo"===s&&Object(x.each)(u,function(e){return r.setItemState(i,e,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},l={nodes:[],edges:[],combos:[]},f=Object(b.__assign)({id:a.id},t);switch(s){case"node":c.nodes.push(a),l.nodes.push(f);break;case"edge":c.edges.push(a),l.edges.push(f);break;case"combo":c.combos.push(a),l.combos.push(f)}"node"===s&&c.nodes.push(a),this.pushStack("update",{before:c,after:l})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){Object(x.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");Object(x.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){hn(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),e.addItems(r.map(function(e){return{type:"node",model:e}}),!1,!1),0!==(null===s||void 0===s?void 0:s.length)){var u=sn(s,r);this.set("comboTrees",u),e.addCombos(s)}e.addItems(o.map(function(e){return{type:"edge",model:e}}),!1,!1);var c=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var l=e.get("layoutController");if(l){if(l.layout(f),this.destroyed)return}else f();function f(){(e.get("comboTrees")||[]).forEach(function(t){nn(t,function(t){var n=e.findById(t.id);return"combo"===n.getType()&&t.collapsed&&(e.collapseCombo(t.id,!1),e.updateCombo(n)),!0})}),e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter(),e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",c),setTimeout(function(){var t;null===(t=e.getCombos())||void 0===t||t.forEach(function(e){e.set("animate",!0)})},0)}this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach(function(e){e.toFront()}):this.getEdges().forEach(function(e){e.toBack()}));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,i=this,o=this.get("itemMap");Object(x.each)(n,function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)})},t.prototype.changeData=function(e,t){var n,r=this;void 0===t&&(t=!0);var i=this,o=e||i.get("data");if(!hn(o))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.save(),after:o}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(e){return i.clearItemStates(e)}),this.getEdges().map(function(e){return i.clearItemStates(e)});var a=this.get("canvas"),s=a.get("localRefresh");a.set("localRefresh",!1),i.get("data")||(i.data(o),i.render());var u=this.get("itemMap"),c={nodes:[],edges:[]},l=o.combos;if(l){var f=sn(l,o.nodes);this.set("comboTrees",f)}else this.set("comboTrees",[]);this.diffItems("node",c,o.nodes),Object(x.each)(u,function(e,t){u[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete u[t],e.destroy()):c.nodes.indexOf(e)<0&&(delete u[t],i.remove(e,!1)))});for(var d=this.getCombos(),h=d.length-1;h>=0;h--)d[h].destroyed&&d.splice(h,1);l&&(i.addCombos(l),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",c,o.edges),Object(x.each)(u,function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&c.edges.indexOf(e)<0&&(delete u[t],i.remove(e,!1))}),(this.get("comboTrees")||[]).forEach(function(e){nn(e,function(e){return"combo"===r.findById(e.id).getType()&&e.collapsed&&r.collapseCombo(e.id,!1),!0})}),this.set({nodes:c.nodes,edges:c.edges});var p=this.get("layoutController");return p&&(p.changeData(function(){setTimeout(function(){var e;null===(e=i.getCombos())||void 0===e||e.forEach(function(e){e.set("animate",!0)})},0)}),i.get("animate")&&!p.getLayoutType()?(i.positionsAnimate(),null===(n=i.getCombos())||void 0===n||n.forEach(function(e){return e.set("animate",!0)})):i.autoPaint()),setTimeout(function(){a.set("localRefresh",s)},16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,i="";if(e){if(Object(x.isString)(e))i=e,r={id:e};else{if(!(i=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var o=t.map(function(e){var t=n.findById(e),r=t.getModel(),o="";t.getType&&(o=t.getType());var a={id:t.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a});r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach(function(e){nn(e,function(e){return e.id!==i||(e.itemType="combo",e.children=o,!1)})}),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if(Object(x.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var i=r.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=r.get("id"),c=[],l=this.get("combos"),f=this.findById(i);if(o.forEach(function(e){a||nn(e,function(e){var t;if(e.id===u){a=e,r.getEdges().map(function(e){return e.getID()}).forEach(function(e){n.removeItem(e,!1)});var o=l.indexOf(r);l.splice(o,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!i||!a||e.id!==i||(f.removeCombo(r),-1!==(o=(c=e.children).indexOf(a))&&c.splice(o,1),null===(t=a.children)||void 0===t||t.forEach(function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=i,delete e.comboId,r.parentId=i,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=i,r.comboId=i),f.addChild(t),c.push(e)}),!1)})}),!i&&a){var d=o.indexOf(a);o.splice(d,1),null===(t=a.children)||void 0===t||t.forEach(function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&o.push(e)})}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this.get("comboTrees"),r=this.get("itemController"),i=this.get("itemMap");(n||[]).forEach(function(n){nn(n,function(n){var o;if(!n)return!0;var a=i[n.id];if("combo"===(null===(o=null===a||void 0===a?void 0:a.getType)||void 0===o?void 0:o.call(a))){var s=Object(b.__spreadArray)([],a.getStates(),!0);Object(x.each)(s,function(e){return t.setItemState(a,e,!1)}),r.updateCombo(a,n.children,e),Object(x.each)(s,function(e){return t.setItemState(a,e,!0)})}return!0})}),this.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if(Object(x.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach(function(e){nn(e,function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var i=Object(b.__spreadArray)([],r.getStates(),!0);Object(x.each)(i,function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)}),o.updateCombo(r,e.children),Object(x.each)(i,function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)}),t&&(t=e.parentId)}return!0})})}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=Object(x.isString)(e)?this.findById(e):e).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,c=this.get("comboTrees"),l=!0;if((c||[]).forEach(function(e){u||tn(e,function(e){if(!u)return e.id===r.getID()&&(u=e),!0})}),tn(u,function(e){return e.id!==t||(l=!1,!1)}),!l)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:t}]):"node"===s&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:t}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(r)}("combo"===s?o.parentId=t:"node"===s&&(o.comboId=t),t)&&((i=this.findById(t))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=un(this.get("comboTrees"),o.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return Object(x.each)(this.get("nodes"),function(t){e.push(t.getModel())}),Object(x.each)(this.get("edges"),function(e){t.push(e.getModel())}),Object(x.each)(this.get("combos"),function(e){n.push(e.getModel())}),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var e=this.get("nodes"),t=this.get("edges"),n=this.get("edges");Object(x.each)(e,function(e){e.refresh()}),Object(x.each)(t,function(e){e.refresh()}),Object(x.each)(n,function(e){e.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if(Object(x.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,i=e?t.getNodes().concat(t.getCombos()):t.getNodes(),o=i.map(function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}});t.stopAnimate();var a=t.get("canvas");t.animating=!0,a.animate(function(n){Object(x.each)(o,function(e){var i=t.findById(e.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0!==o&&null!==o||(s&&(o={x:s[6],y:s[7]}),i.set("originAttrs",o||0)),r){var u=r(i,n,e,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(e.x-o.x)*n,a.y=o.y+(e.y-o.y)*n):(a.x=e.x,a.y=e.y)}}),t.refreshPositions(e)},{duration:n.duration,easing:n.easing,callback:function(){Object(x.each)(i,function(e){e.set("originAttrs",null)}),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){this.emit("beforegraphrefreshposition");var t,n=this.get("nodes"),r=this.get("edges"),i=this.get("vedges"),o=this.get("combos"),a={},s=function(e){Object(x.each)(e,function(e){t=e.getModel();var n=e.get("originAttrs");if(!n||t.x!==n.x||t.y!==n.y){var r=e.updatePosition({x:t.x,y:t.y});a[t.id]=r,t.comboId&&(a[t.comboId]=a[t.comboId]||r)}})};s(n),o&&0!==o.length&&(e?(s(o),this.updateCombos()):this.updateCombos()),Object(x.each)(r,function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!Object(x.isPlainObject)(n)){var r=n.getModel();(a[t.id]||a[r.id]||e.getModel().isComboEdge)&&e.refresh()}}),Object(x.each)(i,function(e){e.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},t.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n,r){var i=this;void 0===r&&(r=!0);var o=this.get("layoutController");if(Object(x.isString)(e)&&(e={type:e}),t){var a=n;a||(a="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),a=this.getPointByCanvas(a.x,a.y);var s=["force","gForce","fruchterman"];s.includes(e.type)||!e.type&&s.includes(null===o||void 0===o?void 0:o.layoutType)?e.center=[a.x,a.y]:this.once("afterlayout",function(e){var n=i.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];a.x=a.x*n[0]+n[6],a.y=a.y*n[0]+n[7];var r=i.getGroup().getCanvasBBox(),o=r.minX,s=r.maxX,u=r.minY,c={x:(o+s)/2,y:(u+r.maxY)/2};"begin"===t&&(c.x=o,c.y=u),i.translate(a.x-c.x,a.y-c.y)})}var u=Object(b.__assign)({},this.get("layout")),c={};Object.assign(c,u,e),e.pipes&&!e.type?delete c.type:!e.pipes&&c.type&&delete c.pipes,this.set("layout",c),o&&(o.isLayoutTypeSame(c)&&c.gpuEnabled===u.gpuEnabled?o.updateLayoutCfg(c):o.changeLayout(c),r&&this.get("enabledStack")&&this.pushStack("layout",{before:u,after:c}))},t.prototype.destroyLayout=function(){var e=this.get("layoutController");null===e||void 0===e||e.destroyLayout()},t.prototype.layout=function(){var e,t=this.get("layoutController"),n=this.get("layout");n&&t&&(n.workerEnabled?t.layout():(null===(e=t.layoutMethods)||void 0===e?void 0:e.length)?t.relayout(!0):t.layout())},t.prototype.collapseCombo=function(e,t){var n=this;if(void 0===t&&(t=!0),!this.destroyed)if(Object(x.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var r=e.getModel();this.get("itemController").collapseCombo(e,t),r.collapsed=!0;var i=this.getEdges().concat(this.get("vedges")),o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach(function(e){s||tn(e,function(e){if(s&&e.depth<=r.depth)return!1;if(r.id===e.id&&(s=!0),s){var t=n.findById(e.id);t&&t.getType&&"combo"===t.getType()&&(o=(o=o.concat(t.getNodes())).concat(t.getCombos()))}return!0})});var u={};i.forEach(function(e){var t=e.getModel(),i=t.isVEdge,a=t.size,s=void 0===a?1:a;if(!e.isVisible()||i){var c,l=e.getSource(),f=e.getTarget(),d=null;if(l.getModel().id===r.id||o.includes(l)&&!o.includes(f)?(d=f,c=!1):(f.getModel().id===r.id||!o.includes(l)&&o.includes(f))&&(d=l,c=!0),d){if(i)return void n.removeItem(e,!1);for(var h=d.getModel();!d.isVisible();){var p=h.parentId,g=h.comboId,v=p||g;if(!(d=n.findById(v))||!v)return;h=d.getModel()}var m=h.id,y=c?{source:m,target:r.id,size:s,isVEdge:!0}:{source:r.id,target:m,size:s,isVEdge:!0},b="".concat(y.source,"-").concat(y.target);if(u[b])return void(u[b].size+=s);u[b]=y}}}),this.addItems(Object.values(u).map(function(e){return{type:"vedge",model:e}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e,t){var n=this;if(void 0===t&&(t=!0),Object(x.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var r=e.getModel();this.get("itemController").expandCombo(e,t),r.collapsed=!1;var i=this.getEdges().concat(this.get("vedges")),o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach(function(e){s||tn(e,function(e){if(s&&e.depth<=r.depth)return!1;if(r.id===e.id&&(s=!0),s){var t=n.findById(e.id);t&&t.getType&&"combo"===t.getType()&&(o=(o=o.concat(t.getNodes())).concat(t.getCombos()))}return!0})});var u={};i.forEach(function(e){if(!e.isVisible()||e.getModel().isVEdge){var t,i=e.getSource(),a=e.getTarget(),s=i.get("id"),c=a.get("id"),l=null;if(s===r.id||o.includes(i)&&!o.includes(a)?(l=a,t=!1):c===r.id||!o.includes(i)&&o.includes(a)?(l=i,t=!0):o.includes(i)&&o.includes(a)&&i.isVisible()&&a.isVisible()&&e.show(),l){var f=e.getModel(),d=f.isVEdge,h=f.size,p=void 0===h?1:h;if(d)return void n.removeItem(e,!1);for(var g=l.getModel();!l.isVisible();){var v=g.parentId,m=g.comboId,y=v||m;if(!(l=n.findById(y))||!y)return;g=l.getModel()}for(var b=g.id,x=t?a:i,_=x.getModel();!x.isVisible();){var w=g.parentId,E=g.comboId,S=w||E;if(!(x=n.findById(S))||!S)return;if(_.comboId===r.id||_.parentId===r.id)break;_=x.getModel()}var O=_.id;if(b){var k=t?{source:b,target:O,isVEdge:!0,size:p}:{source:O,target:b,isVEdge:!0,size:p},M="".concat(k.source,"-").concat(k.target);if(u[M])return void(u[M].size+=p);u[M]=k}}}}),this.addItems(Object.values(u).map(function(e){return{type:"vedge",model:e}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e,t){if(void 0===t&&(t=!0),Object(x.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var n=e.getModel(),r=this.findById(n.parentId);r;){var i=r.getModel();if(i.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(r=void 0);r=this.findById(i.parentId)}n.collapsed?this.expandCombo(e,t):this.collapseCombo(e,t),this.updateCombo(e)}},t.prototype.getNeighbors=function(e,t){var n=e;return Object(x.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;Object(x.isString)(e)&&(r=this.findById(e));var i=this.get("degrees");i&&!n||(i=X(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(t){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?Object(x.clone)(t):{before:{},after:Object(x.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=N(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=N(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=oe(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,i;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),i=new us(this,Object(b.__assign)(Object(b.__assign)({},e),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=Object(x.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach(function(t){e[t].destroy()}),this.set("hullMap",{}))},t}(S);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ds=r.transform,hs=["startArrow","endArrow"],ps={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},gs={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:ps,combo:ps},vs={options:{labelCfg:{style:{fontFamily:Wt.windowFontFamily}},descriptionCfg:{style:{fontFamily:Wt.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:Object(x.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+"-shape"),t.shapeMap[this.itemType+"-shape"]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+"-label"),t.shapeMap[this.itemType+"-label"]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),i=r.rotate;delete r.rotate;var o=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":s=ds(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=ds(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=ds(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);break;default:s=ds(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]])}else s=ds(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,o),c=this.itemType+"-label-bg";u.set("classname",c),t.shapeMap[c]=u,o.toFront()}return o},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,i=Object(x.mix)({},r,e.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),i="".concat(this.itemType,"Label"),o=Wt[i]?Wt[i].style:null;return Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},o),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=t.getKeyShape(),a=Object(x.mix)({},o.attr(),e.style),s=function(e){var t,n=a[e];if(Object(x.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[e])||i.find(function(t){return t.get("name")===e});null===s||void 0===s||s.attr(n)}else o.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,i;if(e.label||""===e.label){var o=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+"-label",c=o.shapeMap[u]||o.find(function(e){return e.get("className")===u}),l=this.itemType+"-label-bg",f=o.shapeMap[l]||o.find(function(e){return e.get("className")===l});if(c){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=Object(x.deepMix)(s,e.labelCfg));var d=this.getLabelStyleByPosition(e,s,o),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=Object(b.__assign)(Object(b.__assign)({},d),h),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=c.getMatrix())||void 0===i?void 0:i[4])&&c.resetMatrix(),c.attr(p);else{var v=[1,0,0,0,1,0,0,0,1];v=ds(v,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=v,c.attr(p)}if(f)if(p.background){var m=this.getLabelBgStyleByPosition(c,s);f.attr(m)}else o.removeChild(f);else p.background&&((f=this.drawLabelBg(e,o,c)).set("classname",l),o.shapeMap[l]=f,c.toFront())}else{var y=this.drawLabel(e,o);y.set("className",u),o.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=Object(x.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(u,n),l=n.getStateStyle(u);if(l||c){var f=Object(x.mix)({},l||c),d=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=f[e];if(Object(x.isPlainObject)(n)&&!hs.includes(e)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[e])||d.find(function(t){return t.get("name")===e});null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var g in f)p(g)}else{var v=fn(n.getCurrentStatesStyle()),m=n.getModel(),y=Object(x.mix)({},m.style,fn(n.getOriginStyle())),b=a.get("name"),_=a.attr(),w={};Object.keys(_).forEach(function(e){if("img"!==e){var t=_[e];t&&"object"===fs(t)?w[e]=Object(x.clone)(t):w[e]=t}});var E={},S=function(e){var t=f[e];if(Object(x.isPlainObject)(t)&&!hs.includes(e)){var n=d.shapeMap[e]||d.find(function(t){return t.get("name")===e});if(n){var r=fn(n.attr());Object(x.each)(t,function(t,i){if(e===b&&w[i]&&!h[i]){delete w[i];var o=y[e][i]||gs[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=y[e][i]||gs[s][i];n.attr(i,u)}}),E[e]=r}}else if(w[e]&&!h[e]){delete w[e];var i=y[e]||(y[b]?y[b][e]:void 0)||gs[s][e];a.attr(e,i)}};for(var O in f)S(O);for(var g in b?E[b]=w:Object(x.mix)(E,w),v)if(!h[g]){var k=v[g];Object(x.isPlainObject)(k)&&!hs.includes(g)||(b?(Object(x.mix)(y[b],((i={})[g]=k,i)),delete y[g]):Object(x.mix)(y,((r={})[g]=k,r)),delete v[g])}var M={};Object(x.deepMix)(M,y,E,v);var C=!1,A=function(e){var t,n,r=M[e];if(Object(x.isPlainObject)(r)&&!hs.includes(e)){var i=d.shapeMap[e]||d.find(function(t){return t.get("name")===e});i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),C=!0),i.attr(r))}else if(!C){var o=r||gs[s][e];"combo"===s?b||a.attr(((t={})[e]=o,t)):a.attr(((n={})[e]=o,n))}};for(var j in M)A(j)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:o&&o[e];return"combo"===r?Object(x.clone)(u):Object(x.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},ms={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Wt.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||Wt.defaultNode.size;return Object(x.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),Object(x.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.maxLength,r=e.label;n&&(r=an(r,n));var i=t.position||this.labelPosition;if("center"===i)return{x:0,y:0,text:r,textBaseline:"middle",textAlign:"center"};var o=t.offset;Object(x.isNil)(o)&&(o=this.offset);var a,s=this.getSize(e);switch(i){case"top":a={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":a={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":a={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:a={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"}}return a.text=r,a},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var i=e.getBBox(),o=ha(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return Object(b.__assign)(Object(b.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),i=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=i,i},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,i=t.shapeMap["link-point-left"]||t.find(function(e){return"link-point-left"===e.get("className")}),o=t.shapeMap["link-point-right"]||t.find(function(e){return"link-point-right"===e.get("className")}),a=t.shapeMap["link-point-top"]||t.find(function(e){return"link-point-top"===e.get("className")}),s=t.shapeMap["link-point-bottom"]||t.find(function(e){return"link-point-bottom"===e.get("className")});i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=Object(x.mix)({},n,e.linkPoints),c=u.fill,l=u.stroke,f=u.lineWidth,d=u.size/2;d||(d=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,g=h.right,v=h.top,m=h.bottom,y=this.getSize(e),_=y[0],w=y[1],E={r:d,fill:c,stroke:l,lineWidth:f};if(i)p||void 0===p?i.attr(Object(b.__assign)(Object(b.__assign)({},E),{x:-_/2,y:0})):(i.remove(),delete t.shapeMap["link-point-left"]);else if(p){var S="link-point-left";t.shapeMap[S]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},E),{x:-_/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete t.shapeMap["link-point-right"]),o.attr(Object(b.__assign)(Object(b.__assign)({},E),{x:_/2,y:0}));else if(g){var O="link-point-right";t.shapeMap[O]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},E),{x:_/2,y:0}),className:O,name:O,isAnchorPoint:!0})}if(a)v||void 0===v||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr(Object(b.__assign)(Object(b.__assign)({},E),{x:0,y:-w/2}));else if(v){var k="link-point-top";t.shapeMap[k]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},E),{x:0,y:-w/2}),className:k,name:k,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr(Object(b.__assign)(Object(b.__assign)({},E),{x:0,y:w/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var M="link-point-bottom";t.shapeMap[M]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},E),{x:0,y:w/2}),className:M,name:M,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,i){t.get("keyShape").attr(Object(b.__assign)({},n)),this.updateLabel(e,t,i),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),i=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find(function(e){return e.get("name")==="".concat(n.type,"-icon")});if(u)if(a||void 0===a){var c=Object(x.mix)({},u.attr(),i),l=c.width,f=void 0===l?20:l,d=c.height,h=void 0===d?20:d;("iconfont"===c.fontFamily||c.hasOwnProperty("text"))&&(f=0,h=0),u.attr(Object(b.__assign)(Object(b.__assign)({},c),{x:-f/2,y:-h/2}))}else u.remove(),delete r.shapeMap["".concat(this.type,"-icon")];else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{f=i.width,h=i.height;r.shapeMap[p]=r.addShape("image",{attrs:Object(b.__assign)(Object(b.__assign)({},i),{x:-f/2,y:-h/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find(function(e){return"node-label"===e.get("name")});g&&g.toFront()}}},ys=Object(b.__assign)(Object(b.__assign)({},vs),ms);Ia.registerNode("single-node",ys);var bs={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Wt.defaultEdge.size,style:{x:0,y:0,stroke:Wt.defaultEdge.style.stroke,lineAppendWidth:Wt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Wt.edgeLabel.style.fill,fontSize:Wt.edgeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:Object(b.__assign)({},Wt.edgeStateStyles)},getPath:function(e){var t=[];return Object(x.each)(e,function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=Object(x.mix)({},t,n,e.style),i=e.size||Wt.defaultEdge.size,o=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[o];s&&(u=u.concat(s)),u.push(a);var c=this.getPath(u);return Object(x.mix)({},Wt.defaultEdge.style,{stroke:Wt.defaultEdge.color,lineWidth:i,path:c},r)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||i.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,c=this.getControlPoints(e),l=[s];c&&(l=l.concat(c)),l.push(u);var f=o.attr(),d=e.style||{};void 0===d.stroke&&(d.stroke=e.color);var h=e.sourceNode,p=e.targetNode,g={radius:d.radius};c||(g={source:h,target:p,offset:d.offset,radius:d.radius});var v=this.getPath(l,g),m={};"move"===n?m={path:v}:(f.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),f.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""}),void 0===(m=Object(b.__assign)({},e.style)).lineWidth&&(m.lineWdith=(Object(x.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||f.lineWidth),void 0===m.path&&(m.path=v),void 0===m.stroke&&(m.stroke=f.stroke||e.color)),o&&o.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,i=t.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap["edge-shape"];r="start"===i?0:"end"===i?1:.5;var s,u=t.refX||this.refX,c=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+u,o.y=e.startPoint.y+c,o.text=e.label,o;s=Object(x.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var l=Jt(a,r,u,c,s);return o.x=l.x,o.y=l.y,o.rotate=l.rotate,o.textAlign=this._getTextAlign(i,l.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=Object(b.__assign)(Object(b.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return(Object(x.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=Object(x.deepMix)({},n,e.labelCfg),i=this.getLabelStyle(e,r,t),o=i.rotate;delete i.rotate;var a=t.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(e,t,a,i,o),u=this.itemType+"-label-bg";s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,i){var o=this.options.labelCfg,a=Object(x.deepMix)({},o,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},xs=Object(b.__assign)(Object(b.__assign)({},vs),bs);Ia.registerEdge("single-edge",xs),Ia.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Ia.registerEdge("spline",{getPath:function(e){return Ua(e)}},"single-edge"),Ia.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,i=e.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=ut(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=t.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=t.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),Object(x.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+o,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=ut(r,n,i)}var c=ct(r,t);return[{x:c,y:c}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Ia.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),Object(x.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),Object(x.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[Va(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Ia.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),Object(x.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(x.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[Va(n,r,e.curvePosition[0],e.curveOffset[0]),Va(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Ia.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),Object(x.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(x.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),Object(x.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),Ia.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),Object(x.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),Object(x.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),Object(x.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+i[0],y:t.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),Ia.registerEdge("loop",{getPathPoints:function(e){return $t(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var _s={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Wt.comboLabel.refX,refY:Wt.comboLabel.refY,options:{style:{stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:Object(b.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(e){var t=Object(x.clone)(e.size||this.options.size||Wt.defaultCombo.size);return Object(x.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),Object(x.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;Object(x.isArray)(i)&&(i=i[0]);var o=t.refX,a=t.refY;Object(x.isNil)(o)&&(o=this.refX),Object(x.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),c=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-c-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-c+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:c+o,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateCollapsedIcon:function(e,t,n){var r=e.collapsed,i=e.collapsedSubstituteIcon,o=void 0===i?{}:i,a=Object.assign({},this.options.collapsedSubstituteIcon,o),s=a.show,u=a.img,c=a.width,l=a.height,f=t.getContainer(),d=f.find(function(e){return"combo-collapsed-substitute-icon"===e.get("name")}),h=d&&!d.destroyed;if(r&&s)if(h)d.show();else{var p={width:c||2*n.r||n.width,height:l||2*n.r||n.height};f.addShape("image",{attrs:Object(b.__assign)({img:u,x:-p.width/2,y:-p.height/2},p),name:"combo-collapsed-substitute-icon",draggable:!0})}else h&&d.hide()},updateShape:function(e,t,n){var r=this,i=t.get("keyShape");t.get("animate")&&(void 0===e.animate?this.options.animate:e.animate)&&i.animate?(e.collapsed||this.updateCollapsedIcon(e,t,n),i.animate(n,{duration:200,easing:"easeLinear",callback:function(){e.collapsed&&r.updateCollapsedIcon(e,t,n)}})):(i.attr(Object(b.__assign)({},n)),this.updateCollapsedIcon(e,t,n)),this.updateLabel(e,t)}},ws=Object(b.__assign)(Object(b.__assign)({},vs),_s);Ia.registerCombo("single-combo",ws),Ia.registerCombo("circle",{options:{size:[Wt.defaultCombo.size[0],Wt.defaultCombo.size[0]],padding:Wt.defaultCombo.padding[0],animate:!0,style:{stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(b.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;Object(x.isArray)(n)&&(n=n[0]);var r,i={stroke:e.color},o=Object(x.mix)({},t,i,e.style);if(e.fixSize)r=Object(x.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!Object(x.isNumber)(o.r)||isNaN(o.r)?a[0]/2||Wt.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=Object(b.__assign)({x:0,y:0},o);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;Object(x.isArray)(r)&&(r=r[0]);var i,o=Object(x.clone)(e.style);i=e.fixSize?Object(x.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=t.get("sizeCache");a&&(a.r=o.r);var s={stroke:e.color},u=t.get("keyShape"),c=Object(x.mix)({},u.attr(),s,o);e.style?e.style.r=i:e.style={r:i},this.updateShape(e,t,c,!0)}},"single-combo"),Ia.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Wt.defaultCombo.style.stroke,fill:Wt.defaultCombo.style.fill,lineWidth:Wt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Wt.comboLabel.style.fill,fontSize:Wt.comboLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(b.__assign)({},Wt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;Object(x.isNumber)(i)&&(i=[i,i,i,i]);var o=t.refX,a=t.refY;Object(x.isNil)(o)&&(o=this.refX),Object(x.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],c=r.height/2+i[0];switch(n){case"top":s={x:0-u+o,y:0-c+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;Object(x.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:e.color},a=Object(x.mix)({},t,o,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?Object(x.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!Object(x.isNumber)(a.width)||isNaN(a.width)?s[0]||Wt.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!Object(x.isNumber)(a.height)||isNaN(a.height)?s[1]||Wt.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var c=-r/2-n[3],l=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var f=Object(b.__assign)({x:c,y:l},a);return e.style?(e.style.width=r,e.style.height=i):e.style={width:r,height:i},f},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;Object(x.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=Object(x.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?Object(x.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var c={stroke:e.color},l=t.get("keyShape"),f=Object(x.mix)({},l.attr(),c,a);e.style?(e.style.width=i,e.style.height=o):e.style={width:i,height:o},this.updateShape(e,t,f,!1)}},"single-combo"),Ia.registerNode("simple-circle",{options:{size:Wt.defaultNode.size,style:{x:0,y:0,stroke:Wt.defaultNode.style.stroke,fill:Wt.defaultNode.style.fill,lineWidth:Wt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Wt.nodeLabel.style.fill,fontSize:Wt.nodeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},stateStyles:Object(b.__assign)({},Wt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),i=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=i,i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.deepMix)({},t,n),i=this.getSize(e)[0]/2;return Object(b.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=this.getSize(e),i={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),a=Object(x.deepMix)({},o.attr(),i,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),Ia.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Wt.defaultNode.style.stroke,fill:Wt.defaultNode.style.fill,lineWidth:Wt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Wt.nodeLabel.style.fill,fontSize:Wt.nodeLabel.style.fontSize,fontFamily:Wt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(b.__assign)({},Wt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return Object(b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,i=this.getSize(e),o=t.get("keyShape");e.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=Object(x.mix)({},r,o.attr(),a);s=Object(x.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),Ia.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Wt.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var i=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,i),i},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:Object(b.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,c=n.height,l=i-u/2,f=o-c/2;t.setClip({type:"rect",attrs:Object(b.__assign)({x:l,y:f,width:u,height:c},a)})}else if("ellipse"===r){var d=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:Object(b.__assign)({x:i,y:o,rx:d,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:Object(b.__assign)({points:p},a)})}else if("path"===r){var g=n.path;t.setClip({type:"path",attrs:Object(b.__assign)({path:g},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,i=this.getSize(e),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),Object(b.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find(function(e){return e.get("className")===r})||t.getKeyShape(),o=this.getShapeStyle(e);i&&!i.destroyed&&i.attr(o)}},"single-node");var Es={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,i,o){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+t+i;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},Ss={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t+i],["L",e+r,t+i],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t-i],["L",e+r,t-i],["L",e,t+n],["Z"]]}},Os=Ia,ks=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Ms=r.transform,Cs=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)(Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},l),a),f),o),d),{transform:Ms,mat3:O.mat3}),As=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map(function(e){return(null===e||void 0===e?void 0:e.type)||""}):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e),n=Array.isArray(this.layoutType),r=Array.isArray(t);return n&&r?this.layoutType.every(function(e,n){return e===t[n]}):!Array.isArray(t)&&!Array.isArray(this.layoutType)&&(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this.graph,t=this.layoutType;e&&(e.get("animate")?e.positionsAnimate("comboCombined"===t):e.refreshPositions("comboCombined"===t))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.layoutType=e.type||this.layoutType,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(e){this.destoryLayoutMethods(),this.layout(e)},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach(function(e){e.destroy()}),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],i=[],o=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),c=this.graph.getCombos(),l=s.length,f=0;f<l;f++){var d=s[f];if(d&&!d.destroyed){var h=d.getModel();d.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(f=0;f<p;f++){var g=u[f];if(g&&!g.destroyed){h=g.getModel();g.isVisible()?h.isComboEdge?i.push(h):n.push(h):r.push(h)}}var v=c.length;for(f=0;f<v;f++){var m=c[f];if(!m.destroyed){h=m.getModel();m.isVisible()?o.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:o,hiddenCombos:a,comboEdges:i}},e.prototype.relayout=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=this.layoutCfg;if(e){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(i.center,o)}n.emit("beforelayout");var a=Promise.resolve();null===r||void 0===r||r.forEach(function(e,n){var o=i[n]||i;a=a.then(function(){var a,s=t.execLayoutMethod(e,o);return n===r.length-1&&(null===(a=i.onAllLayoutEnd)||void 0===a||a.call(i)),s})})},e.prototype.filterLayoutData=function(e,t){var n,r,i=e.nodes,o=e.edges,a=Object(b.__rest)(e,["nodes","edges"]);if(!i)return e;n=Object(x.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=i.filter(n);if(Object(x.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce(function(e,t){return e[t.id]=!0,e},{});r=function(e){return u[e.source]&&u[e.target]}}return Object(b.__assign)({nodes:s,edges:o.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=Object(x.groupBy)(t.getNodes(),function(e){return e.getModel().layoutOrder}),r=Object.values(n).map(function(e){var t=ma(e);return t.size=[t.width,t.height],t});return{groupNodes:Object.values(Object(x.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!va(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var i=e[r];t[0]+=i.x,t[1]+=i.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(i=e[r]).x-=t[0],i.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var c=e[0]-i/2,l=e[1]-o/2,f=!0,d=0;d<r;d++){var h=t[d];va(+h.x)&&(f=!1,h.x=d%a*s+c),va(+h.y)&&(f=!1,h.y=Math.floor(d/a)*u+l)}return f}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),js=function(){return function(e){this.graph=e,this.destroyed=!1,this.initEvents()}}(),Ts=Os.registerNode,Is=Os.registerEdge,Ns=Os.registerCombo,Ps=E.registerBehavior,Ds=Wt,Ls=(Os.registerNode,Os.registerEdge,Os.registerCombo,E.registerBehavior,n(249));function Rs(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function Bs(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function Fs(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function zs(e,t){return e[0]===t[0]&&e[1]===t[1]}var Gs=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Us=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vs=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ws=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ys(e,t){var n=e.match(Ws);Object(x.each)(n,function(e){var n=e.split(":");t.addColorStop(n[0],n[1])})}function Xs(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(Object(x.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,i,o=Gs.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var c=Math.tan(a),l=c*c,f=(i.x-r.x+c*(i.y-r.y))/(l+1)+r.x,d=c*(i.x-r.x+c*(i.y-r.y))/(l+1)+r.y,h=e.createLinearGradient(r.x,r.y,f,d);return Ys(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=Us.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(Ws);return u[u.length-1].split(":")[1]}var c=t.getBBox(),l=c.maxX-c.minX,f=c.maxY-c.minY,d=Math.sqrt(l*l+f*f)/2,h=e.createRadialGradient(c.minX+l*i,c.minY+f*o,0,c.minX+l/2,c.minY+f/2,a*d);return Ys(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,i,o=Vs.exec(n),a=o[1],s=o[2];function u(){r=e.createPattern(i,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function Hs(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function qs(e,t){return Hs(e)*Hs(t)?(e[0]*t[0]+e[1]*t[1])/(Hs(e)*Hs(t)):1}function Ks(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(qs(e,t))}function Zs(e,t){var n=t[1],r=t[2],i=Object(x.mod)(Object(x.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(i)*(s-c)/2+Math.sin(i)*(u-l)/2,d=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+c)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+l)/2+Math.sin(i)*v+Math.cos(i)*m,_=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=Ks([1,0],_),S=Ks(_,w);return qs(_,w)<=-1&&(S=Math.PI),qs(_,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:zs(e,[c,l])?0:n,ry:zs(e,[c,l])?0:r,startAngle:E,endAngle:E+S,xRotation:i,arcFlag:o,sweepFlag:a}}var Qs=Math.sin,$s=Math.cos,Js=Math.atan2,eu=Math.PI;function tu(e,t,n,r,i,o,a){var s=t.stroke,u=t.lineWidth,c=Js(r-o,n-i),l=new Lu({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*$s(eu/6)+","+10*Qs(eu/6)+" L0,0 L"+10*$s(eu/6)+",-"+10*Qs(eu/6),stroke:s,lineWidth:u}});l.translate(i,o),l.rotateAtPoint(i,o,c),e.set(a?"startArrowShape":"endArrowShape",l)}function nu(e,t,n,r,i,o,a){var s=t.startArrow,u=t.endArrow,c=t.stroke,l=t.lineWidth,f=a?s:u,d=f.d,h=f.fill,p=f.stroke,g=f.lineWidth,v=Object(b.__rest)(f,["d","fill","stroke","lineWidth"]),m=Js(r-o,n-i);d&&(i-=$s(m)*d,o-=Qs(m)*d);var y=new Lu({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:Object(b.__assign)(Object(b.__assign)({},v),{stroke:p||c,lineWidth:g||l,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),e.set(a?"startArrowShape":"endArrowShape",y)}function ru(e,t,n,r,i){var o=Js(r-t,n-e);return{dx:$s(o)*i,dy:Qs(o)*i}}function iu(e,t,n,r,i,o){"object"===typeof t.startArrow?nu(e,t,n,r,i,o,!0):t.startArrow?tu(e,t,n,r,i,o,!0):e.set("startArrowShape",null)}function ou(e,t,n,r,i,o){"object"===typeof t.endArrow?nu(e,t,n,r,i,o,!1):t.endArrow?tu(e,t,n,r,i,o,!1):e.set("startArrowShape",null)}var au={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function su(e,t){var n=t.attr();for(var r in n){var i=n[r],o=au[r]?au[r]:r;"matrix"===o&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&e.setLineDash?Object(x.isArray)(i)&&e.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Xs(e,t,i):"globalAlpha"===o&&(i*=e.globalAlpha),e[o]=i)}}function uu(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];i.cfg.visible?i.draw(e,n):i.skipDraw()}}function cu(e,t,n){var r=e.get("refreshElements");Object(x.each)(r,function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent}),r[0]===e?lu(t,n):function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&lu(i.cfg.children,n);else if(i.cfg.refresh)i.isGroup()&&e(i.cfg.children,n);else{var o=fu(i,n);i.cfg.refresh=o,o&&i.isGroup()&&e(i.cfg.children,n)}}}(t,n)}function lu(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&lu(r.get("children"),t)}}function fu(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&Fs(n,t)}function du(e,t,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],c={dx:0,dy:0};t.beginPath();for(var l=0;l<i.length;l++){var f=i[l],d=f[0];if(0===l&&o&&o.d)c=ru((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(l===i.length-2&&"Z"===i[l+1][0]&&a&&a.d){if("Z"===i[l+1][0])c=ru((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(l===i.length-1&&a&&a.d){var h;if("Z"!==i[0])c=ru((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=c.dx,g=c.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-g),u=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-g);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":var v=void 0;r?(v=r[l])||(v=Zs(s,f),r[l]=v):v=Zs(s,f);var m=v.cx,y=v.cy,b=v.rx,x=v.ry,_=v.startAngle,w=v.endAngle,E=v.xRotation,S=v.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,E,_,w,1-S);else{var O=b>x?b:x,k=b>x?1:b/x,M=b>x?x/b:1;t.translate(m,y),t.rotate(E),t.scale(k,M),t.arc(0,0,O,_,w,1-S),t.scale(1/k,1/M),t.rotate(-E),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===d)s=u;else{var C=f.length;s=[f[C-2],f[C-1]]}}}}function hu(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function pu(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var i=e.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,t=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?t=i:s&&(t=a)}return t}var gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.onCanvasChange=function(e){hu(this,e)},t.prototype.getShapeBase=function(){return h},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),su(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];Object(x.each)(e,function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))});var r=null;if(t.length){var i=Object(x.min)(t),o=Object(x.max)(t),a=Object(x.min)(n),s=Object(x.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var c=u.getViewRange();this.set("isInView",Fs(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),su(e,this),this._applyClip(e,this.getClip()),uu(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(to),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return h},t.prototype.getGroupBase=function(){return gu},t.prototype.onCanvasChange=function(e){hu(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=oo(e)(this),r=t/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),su(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Fs(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),su(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=Fs(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isFill()&&(Object(x.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&(Object(x.isNil)(i)||1===i||(e.globalAlpha=i),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(no),mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,c=i/2,l=Rs(a,s,e,t);return r&&n?l<=u+c:r?l<=u:!!n&&(l>=u-c&&l<=u+c)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.r;e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.closePath()},t}(vu);function yu(e,t,n,r){return e/(n*n)+t/(r*r)}var bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,c=o.rx,l=o.ry,f=(e-s)*(e-s),d=(t-u)*(t-u);return r&&n?yu(f,d,c+a,l+a)<=1:r?yu(f,d,c,l)<=1:!!n&&(yu(f,d,c-a,l-a)>=1&&yu(f,d,c+a,l+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(vu);function xu(e){return e instanceof HTMLElement&&Object(x.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var _u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if(Object(x.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):xu(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.sx,s=t.sy,u=t.swidth,c=t.sheight,l=t.img;(l instanceof Image||xu(l))&&(Object(x.isNil)(a)||Object(x.isNil)(s)||Object(x.isNil)(u)||Object(x.isNil)(c)?e.drawImage(l,n,r,i,o):e.drawImage(l,a,s,u,c,n,r,i,o))},t}(vu);function wu(e,t,n,r,i,o,a){var s=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),l=Math.max(t,r),f=i/2;return o>=s-f&&o<=u+f&&a>=c-f&&a<=l+f&&mo.pointToLine(e,t,n,r,o,a)<=i/2}var Eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow;o&&iu(this,e,r,i,t,n),a&&ou(this,e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){if(!n||!i)return!1;var o=this.attr();return wu(o.x1,o.y1,o.x2,o.y2,i,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=ru(n,r,i,o,t.startArrow.d)),s&&s.d&&(c=ru(n,r,i,o,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(i-c.dx,o-c.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return mo.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return mo.pointAt(n,r,i,o,e)},t}(vu),Su={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return Object(x.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if(Object(x.isFunction)(a))n=na(n=(e=a)(i,o,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(i,o,s)}return n},t.prototype.createPath=function(e){du(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Su,t}(vu);function ku(e,t,n){var r=Vo();return e.createPath(r),r.isPointInPath(t,n)}var Mu=1e-6;function Cu(e){return Math.abs(e)<Mu?0:e<0?-1:1}function Au(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function ju(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if(Au(a,s,[t,n]))return!0;Cu(a[1]-n)>0!==Cu(s[1]-n)>0&&Cu(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}var Tu=n(50);function Iu(e,t,n,r,i,o,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var c={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return Rs(c.x,c.y,a,s)<=o/2}var Nu=r.transform;var Pu=Object(b.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],i=[],o=0;o<t;o++){var a=e[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],c=u.currentPoint,l=u.params,f=u.prePoint,d=u.box;if(!d||Bs(d.x-a,d.y-a,d.width+t,d.height+t,n,r)){switch(u.command){case"L":case"Z":o=wu(f[0],f[1],c[0],c[1],t,n,r);break;case"Q":o=So.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],n,r)<=t/2;break;case"C":o=jo.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,i)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,g=h.cy,v=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,_=[n,r,1],w=v>m?v:m,E=Nu(null,[["t",-p,-g],["r",-x],["s",1/(v>m?1:v/m),1/(v>m?m/v:1)]]);Tu.transformMat3(_,_,E),o=Iu(0,0,w,y,b,t,_[0],_[1])}if(o)break}}return o}},s);function Du(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=ju(e[i],t,n))break}return r}var Lu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=na(e);var t=Pu.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=ca(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&iu(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&ou(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=Pu.isPointInStroke(o,i,e,t,u)}if(!s&&r)if(a)s=ku(this,e,t);else{var c=this.attr("path"),l=Pu.extractPolygons(c);s=Du(l.polygons,e,t)||Du(l.polylines,e,t)}return s},t.prototype.createPath=function(e){du(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return Object(x.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;Object(x.each)(r,function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)});var o=i[n];if(Object(x.isNil)(o)||Object(x.isNil)(n))return null;var a=o.length,s=i[n+1];return jo.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",Pu.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(Object(x.each)(s,function(e,t){n=s[t+1],r=e.length,n&&(i+=jo.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)}),this.set("totalLength",i),0!==i?(Object(x.each)(s,function(u,c){n=s[c+1],r=u.length,n&&((e=[])[0]=o/i,t=jo.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t||0,e[1]=o/i,a.push(e))}),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,i=t[n-1].currentPoint,o=t[n-1].endTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([r[0],r[1]]),e.push([i[0],i[1]]))}return e},t}(vu);function Ru(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(wu(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],u=e[o-1];if(wu(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var Bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr().points,a=!1;return n&&(a=Ru(o,i,e,t,!0)),!a&&r&&(a=ju(o,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(vu),Fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,i=t.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],c=n[o-1][1];r&&iu(this,e,n[1][0],n[1][1],a,s),i&&ou(this,e,n[o-2][0],n[o-2][1],u,c)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!(!n||!i)&&Ru(this.attr().points,i,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,i=t.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[o-1][0],l=n[o-1][1];if(r&&r.d)s+=(a=ru(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)c-=(a=ru(n[o-2][0],n[o-2][1],c,l,i.d)).dx,l-=a.dy;e.beginPath(),e.moveTo(s,u);for(var f=0;f<o-1;f++){var d=n[f];e.lineTo(d[0],d[1])}e.lineTo(c,l)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return Object(x.isNil)(t)?(this.set("totalLength",Fo(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),Object(x.each)(i,function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}),mo.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];Object(x.each)(e,function(a,s){e[s+1]&&((n=[])[0]=i/t,r=mo.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))}),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(vu);var zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,c=o.height,l=o.radius;if(l){var f=!1;return n&&(f=function(e,t,n,r,i,o,a,s){return wu(e+i,t,e+n-i,t,o,a,s)||wu(e+n,t+i,e+n,t+r-i,o,a,s)||wu(e+n-i,t+r,e+i,t+r,o,a,s)||wu(e,t+r-i,e,t+i,o,a,s)||Iu(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||Iu(e+n-i,t+r-i,i,0,.5*Math.PI,o,a,s)||Iu(e+i,t+r-i,i,.5*Math.PI,Math.PI,o,a,s)||Iu(e+i,t+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,c,l,i,e,t)),!f&&r&&(f=ku(this,e,t)),f}var d=i/2;return r&&n?Bs(a-d,s-d,u+d,c+d,e,t):r?Bs(a,s,u,c,e,t):n?function(e,t,n,r,i,o,a){var s=i/2;return Bs(e-s,t-s,n,i,o,a)||Bs(e+n-s,t-s,i,r,o,a)||Bs(e+s,t+r-s,n,i,o,a)||Bs(e-s,t+s,i,r,o,a)}(a,s,u,c,i,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,i,o);else{var s=function(e){var t=0,n=0,r=0,i=0;return Object(x.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,[t,n,r,i]}(a),u=s[0],c=s[1],l=s[2],f=s[3];e.moveTo(n+u,r),e.lineTo(n+i-c,r),0!==c&&e.arc(n+i-c,r+c,c,-Math.PI/2,0),e.lineTo(n+i,r+o-l),0!==l&&e.arc(n+i-l,r+o-l,l,0,Math.PI/2),e.lineTo(n+f,r+o),0!==f&&e.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(vu),Gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=Yo(e)},t.prototype._setText=function(e){var t=null;Object(x.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,c=this._getSpaceingY(),l=Wo(i.text,i.fontSize,i.lineHeight);Object(x.each)(t,function(t,i){r=s+i*(c+u)-l+u,"middle"===o&&(r+=l-u-(l-u)/2),"top"===o&&(r+=l-u),Object(x.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))})},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(e,o,t);else{var a=n.text;Object(x.isNil)(a)||(t?e.fillText(a,r,i):e.strokeText(a,r,i))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isStroke()&&n>0&&(Object(x.isNil)(i)||1===i||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&(Object(x.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(vu);function Uu(e,t,n){var r,i,o=e.getTotalMatrix();if(o){var a=(r=[t,n,1],(i=o)?er(tr(i),r):r);return[a[0],a[1]]}return[t,n]}function Vu(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!Zn(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=Uu(e,t,n),i=r[0],o=r[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}var Wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return h},t.prototype.getGroupBase=function(){return gu},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&r.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?function e(t,n,r){if(!Vu(t,n,r))return null;for(var i=null,o=t.getChildren(),a=o.length-1;a>=0;a--){var s=o[a];if(s.isGroup())i=e(s,n,r);else if(Vu(s,n,r)){var u=s,c=Uu(s,n,r),l=c[0],f=c[1];u.isInShape(l,f)&&(i=s)}if(i)break}return i}(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],i=[];return Object(x.each)(e,function(e){var o=pu(e);o&&(t.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))}),{minX:Object(x.min)(t),minY:Object(x.min)(n),maxX:Object(x.max)(r),maxY:Object(x.max)(i)}}(t))&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&Fs(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n)));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&(Object(x.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),su(e,this),uu(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),su(e,this),cu(this,n,r),uu(e,n,r),e.restore()):t.length&&function e(t){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&e(r.cfg.children)}}(t),Object(x.each)(t,function(e){e.get("hasChanged")&&e.set("hasChanged",!1)}),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=Object(x.requestAnimationFrame)(function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)}),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(eo),Yu={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Xu={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Hu(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qu(e){var t=Yu[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=Hu(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var i=n.get("el");i?i.appendChild(r):(i=n.createDom(),n.set("el",i),i.appendChild(r))}return r}function Ku(e,t){var n=e.get("el"),r=Object(x.toArray)(n.children).sort(t),i=document.createDocumentFragment();r.forEach(function(e){i.appendChild(e)}),n.appendChild(i)}function Zu(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],i=0;i<9;i+=3)r.push(t[i]+","+t[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function Qu(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){qu(n),n.createPath(t);var i=t.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function $u(e,t){t.forEach(function(t){t.draw(e)})}function Ju(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=e.getParent(),o=i?i.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter(function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()}),i=r[t],o=r.indexOf(e);if(i){if(o>t)n.insertBefore(e,i);else if(o<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,o.indexOf(e));else if("sort"===t){var c=e.get("children");c&&c.length&&Ku(e,function(e,t){return c.indexOf(e)-c.indexOf(t)?1:0})}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?Zu(e):"clip"===t?Qu(e,r):"attr"===t||"add"===t&&e.draw(r)}}var ec=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=Hu("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n?n.appendChild(e):(n=t.createDom(),t.set("el",n),n.appendChild(e))}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){Ju(this,e)},t.prototype.getShapeBase=function(){return p},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Qu(this,e),this.createPath(e),t.length&&$u(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(e,t){Xu[t]&&r.setAttribute(Xu[t],e)}),Zu(this)},t}(to),tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return p},t.prototype.getGroupBase=function(){return ec},t.prototype.onCanvasChange=function(e){Ju(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=oo(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,c=r-u,l=i-u;return{x:c,y:l,minX:c,minY:l,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||qu(this),Qu(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineWidth,l=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",i):this._setColor(e,"fill",r||i),s&&l.setAttribute(Xu.fillOpacity,s)),this.canStroke&&c>0&&(t?"stroke"in n?this._setColor(e,"stroke",o):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",o||a),u&&l.setAttribute(Xu.strokeOpacity,u),c&&l.setAttribute(Xu.lineWidth,c))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=e.find("gradient",n))||(i=e.addGradient(n)),r.setAttribute(Xu[t],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=e.find("pattern",n))||(i=e.addPattern(n)),r.setAttribute(Xu[t],"url(#"+i+")")}else r.setAttribute(Xu[t],n);else r.setAttribute(Xu[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=t.find("filter",i);o||(o=t.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&Zu(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=e+r.left,o=t+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(no),nc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):Xu[t]&&r.setAttribute(Xu[t],e)})},t}(tc),rc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return Object(b.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if(Object(x.each)(t||n,function(e,t){Xu[t]&&r.setAttribute(Xu[t],e)}),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},t}(tc),ic=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):Xu[t]&&r.setAttribute(Xu[t],e)})},t}(tc),oc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");Object(x.each)(t||r,function(e,t){"img"===t?n._setImage(r.img):Xu[t]&&i.setAttribute(Xu[t],e)})},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if(Object(x.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&Object(x.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(tc),ac=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(t,i){if("startArrow"===i||"endArrow"===i)if(t){var o=Object(x.isObject)(t)?e.addArrow(n,Xu[i]):e.getDefaultArrow(n,Xu[i]);r.setAttribute(Xu[i],"url(#"+o+")")}else r.removeAttribute(Xu[i]);else Xu[i]&&r.setAttribute(Xu[i],t)})},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return mo.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return mo.pointAt(n,r,i,o,e)},t}(tc),sc={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},uc={get:function(e){return sc[e]},register:function(e,t){sc[e]=t},remove:function(e){delete sc[e]},getAll:function(){return sc}},cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return Object(x.isArray)(e)?e.map(function(e){return e.join(" ")}).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,i=t.r||t.radius,o=t.symbol||"circle";return(e=Object(x.isFunction)(o)?o:uc.get(o))?e(n,r,i):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=uc,t}(tc),lc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");Object(x.each)(t||r,function(t,o){if("path"===o&&Object(x.isArray)(t))i.setAttribute("d",n._formatPath(t));else if("startArrow"===o||"endArrow"===o)if(t){var a=Object(x.isObject)(t)?e.addArrow(r,Xu[o]):e.getDefaultArrow(r,Xu[o]);i.setAttribute(Xu[o],"url(#"+a+")")}else i.removeAttribute(Xu[o]);else Xu[o]&&i.setAttribute(Xu[o],t)})},t.prototype._formatPath=function(e){var t=e.map(function(e){return e.join(" ")}).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(tc),fc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(e,t){"points"===t&&Object(x.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map(function(e){return e[0]+","+e[1]}).join(" ")):Xu[t]&&r.setAttribute(Xu[t],e)})},t}(tc),dc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");Object(x.each)(t||n,function(e,t){"points"===t&&Object(x.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map(function(e){return e[0]+","+e[1]}).join(" ")):Xu[t]&&r.setAttribute(Xu[t],e)})},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return Object(x.isNil)(t)?(this.set("totalLength",Fo(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),Object(x.each)(i,function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}),mo.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];Object(x.each)(e,function(a,s){e[s+1]&&((n=[])[0]=i/t,r=mo.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))}),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(tc);var hc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(x.each)(t||r,function(e,t){-1===a.indexOf(t)||o?-1===a.indexOf(t)&&Xu[t]&&i.setAttribute(Xu[t],e):(i.setAttribute("d",n._assembleRect(r)),o=!0)})},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius;if(!o)return"M "+t+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,i=0;return Object(x.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}(o);return Object(x.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(tc),pc={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},gc={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},vc={left:"left",start:"left",center:"middle",right:"end",end:"end"},mc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return Object(b.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return Object(b.__assign)(Object(b.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");this._setFont(),Object(x.each)(t||r,function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?Zu(n):Xu[t]&&i.setAttribute(Xu[t],e)}),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,i=Object($n.a)();i&&"firefox"===i.name?e.setAttribute("dominant-baseline",gc[n]||"alphabetic"):e.setAttribute("alignment-baseline",pc[n]||"baseline"),e.setAttribute("text-anchor",vc[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";Object(x.each)(a,function(e,t){0===t?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"}),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(tc),yc=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,bc=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,xc=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function _c(e){var t=e.match(xc);if(!t)return"";var n="";return t.sort(function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])}),Object(x.each)(t,function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),n}var wc=function(){function e(e){this.cfg={};var t=null,n=Object(x.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,i=yc.exec(e),o=Object(x.mod)(Object(x.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,c=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,l=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",c),t.setAttribute("y2",l),t.innerHTML=_c(a)}(e,t=Hu("linearGradient")):function(e,t){var n=bc.exec(e),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",i),t.setAttribute("r",o),t.innerHTML=_c(a)}(e,t=Hu("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),Ec={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Sc={x:"-40%",y:"-40%",width:"200%",height:"200%"},Oc=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=Hu("filter");return Object(x.each)(Sc,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=Object(x.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return Object(x.each)(Object.keys(r),function(e){if(r[e]!==t[e])return n=!1,!1}),n},e.prototype.update=function(e,t){var n=this.cfg;return n[Ec[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),kc=function(){function e(e,t){this.cfg={};var n=Hu("marker"),r=Object(x.uniqueId)("marker_");n.setAttribute("id",r);var i=Hu("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===o?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;Object(x.isArray)(r)&&(r=r.map(function(e){return e.join(" ")}).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),Mc=function(){function e(e){this.type="clip",this.cfg={};var t=Hu("clipPath");this.el=t,this.id=Object(x.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),Cc=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ac=function(){function e(e){this.cfg={};var t=Hu("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Hu("image");t.appendChild(n);var r=Object(x.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var i=Cc.exec(e)[2];n.setAttribute("href",i);var o=new Image;function a(){t.setAttribute("width",""+o.width),t.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),jc=function(){function e(e){var t=Hu("defs"),n=Object(x.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(e,t)){r=n[i].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new kc(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new wc(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new kc(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new Oc(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new Ac(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new Mc(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),Tc=function(e){function t(t){return e.call(this,Object(b.__assign)(Object(b.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return Object(b.__extends)(t,e),t.prototype.getShapeBase=function(){return p},t.prototype.getGroupBase=function(){return ec},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!Yu[r.tagName]){for(var i=r.parentNode;i&&!Yu[i.tagName];)i=i.parentNode;r=i}return this.find(function(e){return e.get("el")===r})},t.prototype.createDom=function(){var e=Hu("svg"),t=new jc(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&Ku(this,function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0})}else if("clear"===e){if(n){n.innerHTML="";var i=t.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===e?Zu(this):"clip"===e?Qu(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();Qu(this,e),t.length&&$u(e,t)},t}(eo),Ic=n(84),Nc=n.n(Ic),Pc=n(88),Dc=n.n(Pc),Lc=2,Rc=.16,Bc=.05,Fc=.05,zc=.15,Gc=5,Uc=4,Vc=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Wc(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-Lc*t:Math.round(e.h)+Lc*t:n?Math.round(e.h)+Lc*t:Math.round(e.h)-Lc*t)<0?r+=360:r>=360&&(r-=360),r}function Yc(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-Rc*t:t===Uc?e.s+Rc:e.s+Bc*t)>1&&(r=1),n&&t===Gc&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Xc(e,t,n){var r;return(r=n?e.v+Fc*t:e.v-zc*t)>1&&(r=1),Number(r.toFixed(2))}function Hc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Dc()(e),i=Gc;i>0;i-=1){var o=r.toHsv(),a=Dc()({h:Wc(o,i,!0),s:Yc(o,i,!0),v:Xc(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=Uc;s+=1){var u=r.toHsv(),c=Dc()({h:Wc(u,s),s:Yc(u,s),v:Xc(u,s)}).toHexString();n.push(c)}return"dark"===t.theme?Vc.map(function(e){var r=e.index,i=e.opacity;return Dc.a.mix(t.backgroundColor||"#141414",n[r],100*i).toHexString()}):n}var qc={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kc={},Zc={};Object.keys(qc).forEach(function(e){Kc[e]=Hc(qc[e]),Kc[e].primary=Kc[e][5],Zc[e]=Hc(qc[e],{theme:"dark",backgroundColor:"#141414"}),Zc[e].primary=Zc[e][5]});Kc.red,Kc.volcano,Kc.gold,Kc.orange,Kc.yellow,Kc.lime,Kc.green,Kc.cyan,Kc.blue,Kc.geekblue,Kc.purple,Kc.magenta,Kc.grey;var Qc,$c,Jc,el,tl=function(e,t,n){var r=Nc()(e),i=Nc()(t);return Nc()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},nl=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=tl(t,e,.05).rgb().toString(),i=tl(t,e,.1).rgb().toString(),o=tl(t,e,.2).rgb().toString(),a=tl(t,e,.4).rgb().toString(),s=tl(t,n,.02).rgb().toString(),u=tl(t,n,.05).rgb().toString(),c=tl(t,n,.1).rgb().toString(),l=tl(t,n,.2).rgb().toString(),f=tl(t,n,.3).rgb().toString(),d=Hc(e,{theme:"default",backgroundColor:t}),h=Nc()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:e,mainFill:i,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:f,edgeActiveStroke:e,edgeInactiveStroke:l,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:f,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:l,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=tl(t,e,.2).rgb().toString(),i=tl(t,e,.3).rgb().toString(),o=tl(t,e,.6).rgb().toString(),a=tl(t,e,.8).rgb().toString(),s=tl(t,n,.2).rgb().toString(),u=tl(t,n,.25).rgb().toString(),c=tl(t,n,.3).rgb().toString(),l=tl(t,n,.4).rgb().toString(),f=tl(t,n,.5).rgb().toString(),d=Hc(e,{theme:"dark",backgroundColor:t}),h=Nc()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:l,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:l,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:l,comboDisableFill:s}}(e,t,"#777")},rl=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return e.forEach(function(e){i.push(nl(e,t,n,r))}),i},il=nl("rgb(95, 149, 255)","rgb(255, 255, 255)"),ol={version:"0.6.18",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:il.mainStroke,fill:il.mainFill},size:20,color:il.mainStroke,linkPoints:{size:8,lineWidth:1,fill:il.activeFill,stroke:il.activeStroke}},nodeStateStyles:{active:{fill:il.activeFill,stroke:il.activeStroke,lineWidth:2,shadowColor:il.mainStroke,shadowBlur:10},selected:{fill:il.selectedFill,stroke:il.selectedStroke,lineWidth:4,shadowColor:il.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:il.highlightFill,stroke:il.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:il.inactiveFill,stroke:il.inactiveStroke,lineWidth:1},disable:{fill:il.disableFill,stroke:il.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:il.edgeMainStroke,lineAppendWidth:2},color:il.edgeMainStroke},edgeStateStyles:{active:{stroke:il.edgeActiveStroke,lineWidth:1},selected:{stroke:il.edgeSelectedStroke,lineWidth:2,shadowColor:il.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:il.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:il.edgeInactiveStroke,lineWidth:1},disable:{stroke:il.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:il.comboMainFill,lineWidth:1,stroke:il.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:il.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:il.comboActiveStroke,lineWidth:1,fill:il.comboActiveFill},selected:{stroke:il.comboSelectedStroke,lineWidth:2,fill:il.comboSelectedFill,shadowColor:il.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:il.comboHighlightStroke,lineWidth:2,fill:il.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:il.comboInactiveStroke,fill:il.comboInactiveFill,lineWidth:1},disable:{stroke:il.comboDisableStroke,fill:il.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function al(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}function sl(e){Qc||(Qc=document.createElement("table"),$c=document.createElement("tr"),Jc=/^\s*<(\w+|!)[^>]*>/,el={tr:document.createElement("tbody"),tbody:Qc,thead:Qc,tfoot:Qc,td:$c,th:$c,"*":document.createElement("div")});var t=Jc.test(e)&&RegExp.$1;t&&t in el||(t="*");var n=el[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function ul(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var cl=Cs.cloneEvent,ll=Cs.isViewportChanged,fl=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return Object(b.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),i=r.get("el"),o=Object(x.wrapBehavior)(this,"onCanvasEvents"),a=Object(x.wrapBehavior)(this,"onExtendEvents"),s=Object(x.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(al(i,"DOMMouseScroll",s)),n.push(al(i,"mousewheel",s)),"undefined"!==typeof window&&(n.push(al(window,"keydown",a)),n.push(al(window,"keyup",a)),n.push(al(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),ll(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,i===r)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(o,e),void n.emit("canvas:".concat(o),e);var u=t.getItemRoot(i);if(u){var c=u.get("item");if(!c.destroyed){var l=c.getType();if(e.target=i,e.item=c,e.canvasX===e.x&&e.canvasY===e.y){var f=n.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(l,":").concat(o),e):n.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,l)}}else n.emit(o,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){Object(x.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=e.target===i?null:e.item;e=cl(e),r&&r!==o&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),o&&r!==o&&(e.item=o,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=o},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this.graph,t=this.canvasHandler,n=this.extendEvents;e.get("canvas").off("*",t),Object(x.each)(n,function(e){e.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(js),dl=n(27),hl=n(83),pl=n.n(hl),gl=Cs.traverseTree,vl=function(e,t){return e?Object(x.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},ml=function(e,t){var n=[],r=[],i={},o=0;for(o=0;o<e.length;o++){var a=e[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<t.length;o++){var s=t[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<e.length;o++){var c=n.length,l=r[o],f=l.length;n[4*o+2]=c,n[4*o+3]=l.length,u=Math.max(u,l.length);for(var d=0;d<f;++d){var h=l[d];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},yl=function(e,t,n){var r=[],i=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<t.length;a++){var u=t[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var c=0;for(a=0;a<e.length;a++){var l=r.length,f=i[a],d=f.length;r[4*a+2]=l,r[4*a+3]=d/2,c=Math.max(c,d/2);for(var h=0;h<d;++h){var p=f[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},bl=function(e,t,n,r){var i=[],o=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<t.length;s++){var c=t[s];o[a[c.source]].push(a[c.target]),o[a[c.source]].push(n(c)),o[a[c.source]].push(r(c)),o[a[c.source]].push(0),o[a[c.target]].push(a[c.source]),o[a[c.target]].push(n(c)),o[a[c.target]].push(r(c)),o[a[c.target]].push(0)}var l=0;for(s=0;s<e.length;s++){var f=i.length,d=o[s],h=d.length;i[4*s+2]=f+1048576*h/4,i[4*s+3]=0,l=Math.max(l,h/4);for(var p=0;p<h;++p){var g=d[p];i.push(+g)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:l}},xl=function(e,t){var n=[],r=e.length,i={};return t.forEach(function(t){e.forEach(function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}},_l=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach(function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)})},o=0;o<r;o++)i(o);return new Float32Array(t)},wl=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";t&&["V","TB","BT"].indexOf(t)>=0&&(o="x",i="y");var a=0;gl(e,function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0});var s=2*Math.PI/a,u=r[o]-n[o];return 0===u?e:(gl(e,function(t){var r=(t[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0}),e)},El=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",i=e().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},Sl=Object(b.__assign)(Object(b.__assign)(Object(b.__assign)(Object(b.__assign)({},Cs),g),v),m),Ol=Sl.radialLayout,kl=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=pl.a[t.type](e,t.config);return Ol(n),n}:this.layoutMethod=function(e){return pl.a[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}();Object(dl.registerLayout)("grid",dl.GridLayout),Object(dl.registerLayout)("random",dl.RandomLayout),Object(dl.registerLayout)("force",dl.ForceLayout),Object(dl.registerLayout)("circular",dl.CircularLayout),Object(dl.registerLayout)("dagre",dl.DagreLayout),Object(dl.registerLayout)("dagreCompound",dl.DagreCompoundLayout),Object(dl.registerLayout)("radial",dl.RadialLayout),Object(dl.registerLayout)("concentric",dl.ConcentricLayout),Object(dl.registerLayout)("mds",dl.MDSLayout),Object(dl.registerLayout)("fruchterman",dl.FruchtermanLayout),Object(dl.registerLayout)("fruchterman-gpu",dl.FruchtermanGPULayout),Object(dl.registerLayout)("gForce",dl.GForceLayout),Object(dl.registerLayout)("gForce-gpu",dl.GForceGPULayout),Object(dl.registerLayout)("comboForce",dl.ComboForceLayout),Object(dl.registerLayout)("comboCombined",dl.ComboCombinedLayout),Object(dl.registerLayout)("forceAtlas2",dl.ForceAtlas2Layout);var Ml=function(){return function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}}(),Cl=function(e){return void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js"),new Ml(function(){var e={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(t){(function(t){var n=t.data.type;return n===e.RUN||n===e.GPURUN})(t)&&function(t){var n=this;switch(t.data.type){case e.RUN:var r,i=t.data,o=i.nodes,a=i.edges,s=i.layoutCfg,u=(h=void 0===s?{}:s).type;if(!(c=layout.getLayoutByName(u))){this.postMessage({type:e.ERROR,message:"layout ".concat(u," not found")});break}h.onLayoutEnd=function(){n.postMessage({type:e.END,nodes:o}),null===r||void 0===r||r.destroy()},(r=new c(h)).init({nodes:o,edges:a}),r.execute();break;case e.GPURUN:var c,l=t.data,f=l.nodes,d=(a=l.edges,l.layoutCfg),h=void 0===d?{}:d,p=l.canvas;if(u=h.type,!(c=layout.getLayoutByName(u))){this.postMessage({type:e.ERROR,message:"layout ".concat(u," not found")});break}if("gpu"!==u.split("-")[1]){this.postMessage({type:e.ERROR,message:"layout ".concat(u," does not support GPU")});break}var g=new c(h);g.init({nodes:f,edges:a}),g.executeWithWorker(p,this)}}(t)}},e)},Al="LAYOUT_RUN",jl="LAYOUT_END",Tl="LAYOUT_ERROR",Il="LAYOUT_TICK",Nl="GPU_LAYOUT_RUN",Pl="GPU_LAYOUT_END";function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ll=function(e){return setTimeout(e,16)},Rl=function(e){return clearTimeout(e)},Bl=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||Ll)(e)},Fl=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Rl)(e)},zl=["fruchterman","gForce"],Gl=["force","grid","circular"],Ul=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return Object(b.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker?this.worker:("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=Cl(this.layoutCfg.workerScriptURL),this.worker)},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(Fl(e.requestId),e.requestId=null),e.requestId2&&(Fl(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise(function(r,i){return Object(b.__awaiter)(n,void 0,void 0,function(){var n,o,a,s,u,c,l;return Object(b.__generator)(this,function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=e.onTick,c=function(){a&&a(),n.refreshPositions()},e.tick=c):"comboForce"!==o&&"comboCombined"!==o||(e.comboTrees=n.get("comboTrees")),!1;try{s=new dl.Layouts[o](e)}catch(d){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return s.enableTick&&(u=e.onTick,c=function(){u&&u(),n.refreshPositions()},s.tick=c),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach(function(e){e.layoutOrder=t})}(l=this.filterLayoutData(this.data,e),t),s.init(l),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return f.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}})})})},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise(function(r,i){return Object(b.__awaiter)(n,void 0,void 0,function(){var n,i,o;return Object(b.__generator)(this,function(a){switch(a.label){case 0:return n=this.graph,i=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,t),e.init(o),e.updateCfg(t),n.emit("beforesublayout",{type:i}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var c=u.type;c&&"gpu"===c.split("-")[1]&&(c=c.split("-")[0],u.gpuEnabled=!0);var l=!1;u.gpuEnabled&&(l=!0,El().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),l=!1)),this.isGPU=l;var f=u.onLayoutEnd,d=u.layoutEndFormatted,h=u.adjust;if(d||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return Object(b.__awaiter)(t,void 0,void 0,function(){return Object(b.__generator)(this,function(e){switch(e.label){case 0:return f&&f(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}})})}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),g=!1;return u.type?(g=!0,p=p.then(function(){return Object(b.__awaiter)(t,void 0,void 0,function(){return Object(b.__generator)(this,function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}})})})):u.pipes&&(g=!0,u.pipes.forEach(function(e,n){p=p.then(function(){return Object(b.__awaiter)(t,void 0,void 0,function(){return Object(b.__generator)(this,function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}})})})})),g?p.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()}).catch(function(e){console.warn("graph layout failed,",e)}):(n.refreshPositions(),null===e||void 0===e||e()),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then(function(){return t.runWebworker(i,e,n)});else if(n.pipes){s=!0;for(var u=function(n){a=a.then(function(){return t.runWebworker(i,e,n)})},c=0,l=n.pipes;c<l.length;c++){u(l[c])}}return s&&a.then(function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()}).catch(function(e){console.error("layout failed",e)}),!0},t.prototype.runWebworker=function(e,t,n){var r=this,i=this.isGPU,o=this.filterLayoutData(t,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),c=i&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,l=function(e,t){var n={};if(e&&"object"===Dl(e))return Object.keys(e).forEach(function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])}),n;return e}(n,function(e){return"function"!==typeof e});if(c){var f=u.transferControlToOffscreen();l.type="".concat(l.type,"-gpu"),e.postMessage({type:Nl,nodes:a,edges:s,layoutCfg:l,canvas:f},[f])}else e.postMessage({type:Al,nodes:a,edges:s,layoutCfg:l});return new Promise(function(t,i){e.onmessage=function(e){r.handleWorkerMessage(t,i,e,o,n)}})},t.prototype.handleWorkerMessage=function(e,t,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=s.type,c=function(){i.onTick&&i.onTick()};switch(u){case Il:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=Bl(function(){Vl(r,s),o.refreshPositions(),c(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=Bl(function(){Vl(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,c(),e()})),a.requestId=null}));break;case jl:null==a.currentTick&&(Vl(r,s),e());break;case Pl:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),e());break;case Tl:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=Object(x.mix)({},this.layoutCfg,e);if(this.layoutCfg=i,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve(),a=!1;1===(null===r||void 0===r?void 0:r.length)?(a=!0,o=o.then(function(){return Object(b.__awaiter)(t,void 0,void 0,function(){return Object(b.__generator)(this,function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],i)];case 1:return[2,e.sent()]}})})})):(a=!0,null===r||void 0===r||r.forEach(function(e,n){var r=i.pipes[n];o=o.then(function(){return Object(b.__awaiter)(t,void 0,void 0,function(){return Object(b.__generator)(this,function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}})})})})),a&&o.then(function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()}).catch(function(e){console.warn("layout failed",e)})}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise(function(r){var i=e.nodes;(null===i||void 0===i?void 0:i.length)||r(),Gl.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,c=Object(x.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach(function(e,t){var n,r,i,o=e.x-(null===(n=c[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=c[t])||void 0===r?void 0:r.y);null===(i=s[t])||void 0===i||i.forEach(function(e){e.x+=o,e.y+=a})}),r()},new dl.Layouts[t](o).layout({nodes:u})})},t.prototype.hasGPUVersion=function(e){return zl.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(As);function Vl(e,t){for(var n=e.nodes,r=t.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}var Wl=r.transform,Yl=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return Object(b.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new Ul(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new fl(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new Tc({container:e,width:i,height:o});else{var a={container:e,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new Wu(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;Object(x.each)(e.get("plugins"),function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)})},t.prototype.downloadImageWatermark=function(e,t,n,r){return Object(b.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(b.__generator)(this,function(s){switch(s.label){case 0:return i=e.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise(function(e){a.onload=function(){var i=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=i,t.fill(),e("")}})];case 1:return s.sent(),[2]}})})},t.prototype.asyncToDataUrl=function(e,t,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),c=u.getRenderer(),l=o||u.get("el"),f="";e||(e="image/png"),setTimeout(function(){return Object(b.__awaiter)(a,void 0,void 0,function(){var o,a,u,d,h,p,g,v,m,y;return Object(b.__generator)(this,function(b){switch(b.label){case 0:return"svg"!==c?[3,1]:(o=l.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),d=(new XMLSerializer).serializeToString(u),f="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return h=void 0,p=l.getContext("2d"),g=r||this.get("width"),v=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,g,v)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,g*y,v*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,g,v)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}f=l.toDataURL(e),t&&(p.clearRect(0,0,g,v),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(f),[2]}})})},16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");e||(e="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(c))}else{var l=void 0,f=i.getContext("2d"),d=Math.max(this.get("width"),500),h=Math.max(this.get("height"),500),p=void 0;if(t){var g="undefined"!==typeof window&&window.devicePixelRatio||1;try{l=f.getImageData(0,0,d*g,h*g),p=f.globalCompositeOperation,f.globalCompositeOperation="destination-over",f.fillStyle=t,f.fillRect(0,0,d,h)}catch(v){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(e),t&&(f.clearRect(0,0,d,h),f.putImageData(l,0,0),f.globalCompositeOperation=p)}return o},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=sl('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?Object(x.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var l=i+c[0]+c[2],f=o+c[1]+c[3],d={container:s,height:l,width:f,quickHit:!0},h="svg"===a?new Tc(d):new Wu(d),p=this.get("group").clone(),g=Object(x.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;g=Wl(g,[["t",-v,-m],["t",o/2+c[3],i/2+c[0]]]),p.resetMatrix(),p.setMatrix(g),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout(function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,c=y.getContext("2d"),d=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=c.getImageData(0,0,f*h,l*h),d=c.globalCompositeOperation,c.globalCompositeOperation="destination-over",c.fillStyle=u,c.fillRect(0,0,f,l)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(c.clearRect(0,0,f,l),c.putImageData(s,0,0),c.globalCompositeOperation=d)}e&&e(b)},16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=sl('<div id="virtual-image"></div>'),c=document.querySelector(".g6-graph-watermarker"),l=n?n.backgroundColor:void 0,f=n?n.padding:void 0;f?Object(x.isNumber)(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=a+f[1]+f[3];if(c){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;d=Math.ceil(d/v)*v,h=Math.ceil(h/g)*g}var m={container:u,height:d,width:h},y="svg"===s?new Tc(m):new Wu(m),b=this.get("group").clone(),_=Object(x.clone)(b.getMatrix());_||(_=[1,0,0,0,1,0,0,0,1]);var w=(i.maxX+i.minX)/2,E=(i.maxY+i.minY)/2;_=Wl(_,[["t",-w,-E],["t",a/2+f[3],o/2+f[0]]]),b.resetMatrix(),b.setMatrix(_),y.add(b);var S=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,l,function(n){var i=document.createElement("a"),o=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)},h,d,S)},t.prototype.downloadImage=function(e,t,n){var r=this;this.stopAnimate();var i=this.get("canvas").getRenderer();t||(t="image/png");var o=(e||"graph")+("svg"===i?".svg":t.split("/")[1]),a=document.createElement("a");this.asyncToDataUrl(t,n,function(e){r.dataURLToImage(e,i,a,o);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),a.dispatchEvent(t)})},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var i=e.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(l,r):n.addEventListener("click",function(){n.download=r,n.href=window.URL.createObjectURL(l)})}else n.addEventListener("click",function(){n.download=r,n.href=e})}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=ol.waterMarkerImage);var n=this.get("container");Object(x.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(x.deepMix)({},ol.imageWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Wu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.x,p=u.y;f.rotate(-d*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=e,g.onload=function(){if(f.drawImage(g,h,p,u.width,u.height),f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");Object(x.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(x.deepMix)({},ol.textWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var c={container:n,width:o,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new Wu(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,m=u.x,y=u.y,b=u.lineHeight;f.rotate(-d*Math.PI/180),f.font="".concat(g,"px ").concat(p),f.fillStyle=h,f.textBaseline=v;for(var _=e.length-1;_>=0;_--)f.fillText(e[_],m,y+_*b);if(f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,i;Object(x.each)(this.get("plugins"),function(e){e.destroyPlugin()});var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),e.prototype.destroy.call(this)},t}(ls),Xl=Sl.radialLayout,Hl=Sl.traverseTree,ql=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return Object(b.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=pl.a[e.type](t,e);return Xl(n),n}:function(t){return pl.a[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return Object(x.each)(e,function(e,r){if(t===e.id)return n=r,!1}),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,i=e.data;i&&(i.x=e.x,i.y=e.y,i.depth=e.depth);var o=r.addItem("node",i,!1);if(t){if(o.set("parent",t),n){var a=t.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=t.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(o):t.set("children",[o]),r.addItem("edge",{source:t.get("id"),target:o.get("id"),id:"".concat(t.get("id"),":").concat(o.get("id"))},!1)}return Object(x.each)(e.children||[],function(e){r.innerAddChild(e,o,n)}),r.emit("afteraddchild",{item:o,parent:t}),o},t.prototype.innerUpdateChild=function(e,n,r){var i=this,o=i.findById(e.id);if(o){Object(x.each)(e.children||[],function(e){i.innerUpdateChild(e,o,r)});var a,s,u=o.get("children");if(u)if(u.length>0)for(var c=u.length-1;c>=0;c--){var l=u[c].getModel();-1===t.indexOfChild(e.children||[],l.id)&&(i.innerRemoveChild(l.id,{x:e.x,y:e.y},r),u.splice(c,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var f=o.getModel();r&&o.set("originAttrs",{x:f.x,y:f.y}),o.set("model",e.data),a===e.x&&s===e.y||o.updatePosition({x:e.x,y:e.y})}else i.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,i=r.findById(e);if(i)if(Object(x.each)(i.get("children"),function(e){r.innerRemoveChild(e.getModel().id,t,n)}),n){var o=i.getModel();i.set("to",t),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map(function(e){return t.clearItemStates(e)}),this.getEdges().map(function(e){return t.clearItemStates(e)}),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){e?(this.set("layout",e),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this.get("data"),n=this.get("layoutMethod"),r=n?n(t,this.get("layout")):t,i=this.get("animate");(this.emit("beforerefreshlayout",{data:t,layoutData:r}),this.emit("beforelayout"),this.innerUpdateChild(r,void 0,i),e)&&this.get("viewController").fitView();i?this.layoutAnimate(r):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:t,layoutData:r}),this.emit("afterlayout")},t.prototype.addChild=function(e,t){this.emit("beforeaddchild",{model:e,parent:t}),Object(x.isString)(t)||(t=t.get("id"));var n=this.findDataById(t);n&&(n.children||(n.children=[]),n.children.push(e),this.changeData())},t.prototype.updateChildren=function(e,t){t&&this.findById(t)?(this.findDataById(t).children=e,this.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){if(n&&this.findById(n)){var r=this.findDataById(n),i=this.findById(e.id);if(r.children||(r.children=[]),i){var o=t.indexOfChild(r.children,e.id);r.children[o]=e}else r.children.push(e);this.changeData()}else this.changeData(e)},t.prototype.removeChild=function(e){var n=this.findById(e);if(n){var r=n.get("parent");if(r&&!r.destroyed){var i=this.findDataById(r.get("id")),o=i&&i.children||[],a=n.getModel(),s=t.indexOfChild(o,a.id);o.splice(s,1)}this.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return Object(x.each)(t.children||[],function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0}),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach(function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(r){Hl(e,function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),t){var u=t(o,r,a,e);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0}),Object(x.each)(n.get("removeList"),function(e){var t=e.getModel(),n=e.get("originAttrs"),i=e.get("to");t.x=n.x+(i.x-n.x)*r,t.y=n.y+(i.y-n.y)*r}),n.refreshPositions()},{duration:r.duration,easing:r.ease,callback:function(){Object(x.each)(n.getNodes(),function(e){e.set("originAttrs",null)}),Object(x.each)(n.get("removeList"),function(e){n.removeItem(e)}),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this.get("data");if(!e||!Object(x.isObject)(e)||!Object.keys(e).length)throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(Yl),Kl=function(){function e(e){this._cfgs=Object(x.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};Object(x.each)(n,function(n,i){var o=Object(x.wrapBehavior)(t,n);r[i]=o,e.on(i,o)}),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;Object(x.each)(t,function(t,n){e.off(n,t)}),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),Zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",$l=function(e){function t(t){return e.call(this,t)||this}return Zl(t,e),t.prototype.getDefaultCfgs=function(){return{img:Ql,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||Ql;r.includes("url(")||(r='url("'.concat(r,'")'));var i=sl("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=sl("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),t.insertBefore(i,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");ul(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/t,o=80*r/t;ul(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");ul(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Kl),Jl=n(81),ef=n.n(Jl),tf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ef()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var nf=function(e){function t(t){return e.call(this,t)||this}return tf(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=sl("<div class=".concat(e||"g6-component-contextmenu","></div>"));ul(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),Object(x.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(e,o);Object(x.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var c=o.get("width"),l=o.get("height"),f=r.getBoundingClientRect(),d=this.get("offsetX")||0,h=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=e.canvasX+g+d,m=e.canvasY+p+h;v+f.width>c&&(v=e.canvasX-f.width-d+g),m+f.height>l&&(m=e.canvasY-f.height-h+p),ul(r,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&ul(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),Object(x.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Kl),rf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),of=function(){return(of=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},af=Math.max,sf=r.transform,uf=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=Object(x.debounce)(function(e){var t=n;t.destroyed||t.updateCanvas()},100,!1),n}return rf(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=sl("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff;\n          cursor:move'\n        draggable=true\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,c=!1,l=0,f=0,d=0,h=0,p=0,g=0;o.addEventListener("dragstart",function(i){var a,v;if(i.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=i.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(b){i.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,i.target===o){var y=o.style;l=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10),d>n[0]||h>n[1]||(g=r.getZoom(),p=e.get("ratio"),c=!0,s=i.clientX,u=i.clientY)}},!1),o.addEventListener(a?"dragover":"drag",function(e){if(c&&!Object(x.isNil)(e.clientX)&&!Object(x.isNil)(e.clientY)){var t=s-e.clientX,i=u-e.clientY;(l-t<0||l-t+d>=n[0])&&(t=0),(f-i<0||f-i+h>=n[1])&&(i=0),f-=i,ul(o,{left:"".concat(l-=t,"px"),top:"".concat(f,"px")}),r.translate(t*g/p,i*g/p),s=e.clientX,u=e.clientY}},!1),o.addEventListener("dragend",function(){c=!1,t.refresh=!0},!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),c=this.get("viewport");c||this.initViewport();var l=(u.x-s.x)*e,f=(u.y-s.y)*e,d=s.x*e+t,h=s.y*e+n,p=d+l,g=h+f;d<0&&(l+=d,d=0),p>i[0]&&(l-=p-i[0]),h<0&&(f+=h,h=0),g>i[1]&&(f-=g-i[1]),this.set("ratio",e),ul(c,{left:"".concat(d,"px"),top:"".concat(h,"px"),width:"".concat(l,"px"),height:"".concat(f,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach(function(e){e.get("visible")||e.hide(),t.updateVisible(e)})}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();Object(x.each)(t.getEdges(),function(t){e.updateOneEdgeKeyShape(t,r)}),Object(x.each)(t.getNodes(),function(t){e.updateOneNodeKeyShape(t,r)});var i=t.getCombos();if(i&&i.length){var o=r.find(function(e){return"comboGroup"===e.get("name")})||r.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||(Object(x.each)(i,function(t){e.updateOneComboKeyShape(t,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();Object(x.each)(t.getEdges(),function(t){e.updateOneEdgeKeyShape(t,r)}),Object(x.each)(t.getNodes(),function(t){e.updateOneNodeDelegateShape(t,r)});var i=t.getCombos();if(i&&i.length){var o=r.find(function(e){return"comboGroup"===e.get("name")})||r.addGroup({name:"comboGroup"});setTimeout(function(){e.destroyed||(Object(x.each)(i,function(t){e.updateOneComboKeyShape(t,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var i=e.get("keyShape").attr("path");r.attr("path",i)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[e.get("id")],o=e.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a)}else i=t.addShape("rect",{attrs:of({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});e.isVisible()?i.show():i.hide(),i.exist=!0,r[e.get("id")]=i,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this.get("graph"),t=this.get("size"),n=this.get("className"),r=this.get("container"),i=sl("<div class='".concat(n,"' style='width: ").concat(t[0],"px; height: ").concat(t[1],"px; overflow: hidden'></div>"));Object(x.isString)(r)&&(r=document.getElementById(r)),r?r.appendChild(i):e.get("container").appendChild(i),this.set("container",i);var o,a=sl('<div class="g6-minimap-container" style="position: relative;"></div>');i.appendChild(a),a.addEventListener("dragenter",function(e){e.preventDefault()}),a.addEventListener("dragover",function(e){e.preventDefault()}),o="svg"===e.get("renderer")?new Tc({container:a,width:t[0],height:t[1]}):new Wu({container:a,width:t[0],height:t[1]}),this.set("canvas",o),this.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,c=s.width/u,l=s.height/u;Number.isFinite(a.width)&&(c=af(a.width,c),l=af(a.height,l)),c+=2*i,l+=2*i;var f=Math.min(t[0]/c,t[1]/l),d=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(t[0]-(c-2*i)*f)/2,v=(t[1]-(l-2*i)*f)/2;d=sf(d,[["t",h,p],["s",f,f],["t",g,v]]),o.setMatrix(d),this.set("ratio",f),this.set("totaldx",g+h*f),this.set("totaldy",v+p*f),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(Kl),cf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function lf(e,t,n){var r=e.x-t.x,i=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function ff(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var df=function(e){function t(t){return e.call(this,t)||this}return cf(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",function(){t&&t(),e.refreshPositions()})},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],i={},o=!1;if(r.forEach(function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(o=!0),i[e.id]=e}),o)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",i);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var c=t.getEdgeBundles();t.set("edgeBundles",c);for(var l=t.get("cycles"),f=t.get("iterations"),d=t.get("iterRate"),h=t.get("lambda"),p=0;p<l;p++){for(var g=function(e){var r=[];n.forEach(function(e,n){if(e.source!==e.target){var o=i[e.source],s=i[e.target];r[n]=t.getEdgeForces({source:o,target:s},n,a,h);for(var c=0;c<a+1;c++)u[n][c].x+=r[n][c].x,u[n][c].y+=r[n][c].y}})},v=0;v<f;v++)g();h/=2,a*=s,f*=d,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach(function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))}),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach(function(n){t.set(n,e[n])}),e.onTick){var r=this.get("graph");t.set("tick",function(){e.onTick(),r.refresh()})}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),i=t.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach(function(n,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],s=r[n.target];if(1===e)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?t.getEdgeLength(i[o]):lf({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),c=u,l=[{x:a.x,y:a.y}];i[o].forEach(function(e,t){if(0!==t){for(var n=lf(e,i[o][t-1]);n>c;){var r=c/n,a={x:i[o][t-1].x,y:i[o][t-1].y};a.x+=r*(e.x-i[o][t-1].x),a.y+=r*(e.y-i[o][t-1].y),l.push(a),n-=c,c=u}c-=n}}),l.push({x:s.x,y:s.y}),i[o]=l}}),i},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach(function(n,r){0!==r&&(t+=lf(n,e[r-1]))}),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),i=e.get("edgeBundles");return i||(i=[]),t.forEach(function(e,t){i[t]&&void 0!==i[t]||(i[t]=[])}),t.forEach(function(o,a){var s=r[o.source],u=r[o.target];t.forEach(function(t,o){if(!(o<=a)){var c=r[t.source],l=r[t.target];e.getBundleScore({source:s,target:u},{source:c,target:l})>=n&&(i[a].push(o),i[o].push(a))}})}),i},t.prototype.getBundleScore=function(e,t){return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=lf({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=lf({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),this.getAngleScore(e,t)*this.getScaleScore(e,t)*this.getPositionScore(e,t)*this.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy})/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+lf({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=ff(t.source,e),r=ff(t.target,e),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*lf(i,o)/lf(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var i=this.get("edgePoints"),o=this.get("K")/(lf(e.source,e.target)*(n+1)),a=[{x:0,y:0}],s=1;s<n;s++){var u={x:0,y:0},c=this.getSpringForce({pre:i[t][s-1],cur:i[t][s],next:i[t][s+1]},o),l=this.getElectrostaticForce(s,t);u.x=r*(c.x+l.x),u.y=r*(c.y+l.y),a.push(u)}return a.push({x:0,y:0}),a},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this.get("eps"),r=this.get("edgeBundles"),i=this.get("edgePoints"),o=r[t],a={x:0,y:0};return o.forEach(function(r){var o={x:i[r][e].x-i[t][e].x,y:i[r][e].y-i[t][e].y};if(Math.abs(o.x)>n||Math.abs(o.y)>n){var s=1/lf(i[r][e],i[t][e]);a.x+=o.x*s,a.y+=o.y*s}}),a},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(Kl),hf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pf=function(){return(pf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},gf={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},vf=function(e){function t(t){return e.call(this,t)||this}return hf(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(x.clone)(gf),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",e*e);var t=this.get("d");this.set("molecularParam",(t+1)*e)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})}),r.on("drag",function(e){n.magnify(e)}),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",function(e){t.scaleDByWheel(e)}),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",function(e){n.scaleRByWheel(e)}))},t.prototype.scaleRByWheel=function(e){if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var t,n=this.get("graph"),r=this.get("delegate"),i=(r?{x:r.attr("x"),y:r.attr("y")}:void 0)||n.getPointByClient(e.clientX,e.clientY);t=e.originalEvent.wheelDelta<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||n.get("height"))&&t>1||s<(a||.05*n.get("height"))&&t<1)&&(t=1),s*=t,this.set("r",s),this.set("r2",s*s);var u=this.get("d");this.set("molecularParam",(u+1)*s),this.set("delegateCenterDiff",void 0),this.magnify(e,i)}},t.prototype.scaleRByDrag=function(e){if(e){var t,n=this.get("dragPrePos"),r=this.get("graph"),i=r.getPointByClient(e.clientX,e.clientY);t=e.x-n.x<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||r.get("height"))&&t>1||s<(a||.05*r.get("height"))&&t<1)&&(t=1),s*=t,this.set("r",s),this.set("r2",s*s);var u=this.get("d");this.set("molecularParam",(u+1)*s),this.magnify(e,i),this.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var t=0;t=e.originalEvent.wheelDelta<0?-.1:.1;var n=this.get("d")+t,r=this.get("maxD"),i=this.get("minD");if(n<r&&n>i){this.set("d",n);var o=this.get("r");this.set("molecularParam",(n+1)*o);var a=this.get("delegate"),s=a?{x:a.attr("x"),y:a.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(e,s)}}},t.prototype.scaleDByDrag=function(e){var t=this.get("dragPrePos"),n=e.x-t.x>0?.1:-.1,r=this.get("d")+n,i=this.get("maxD"),o=this.get("minD");if(r<i&&r>o){this.set("d",r);var a=this.get("r");this.set("molecularParam",(r+1)*a),this.magnify(e)}this.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){this.restoreCache();var n=this.get("graph"),r=this.get("cachedMagnifiedModels"),i=this.get("cachedOriginPositions"),o=this.get("showLabel"),a=this.get("r"),s=this.get("r2"),u=this.get("d"),c=this.get("molecularParam"),l=n.getNodes(),f=l.length,d=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!this.get("dragging")||"mousemove"!==this.get("trigger")&&"click"!==this.get("trigger")||(d=this.get("cacheCenter"));var h=this.get("delegateCenterDiff");h&&(d.x+=h.x,d.y+=h.y),this.updateDelegate(d,a);for(var p=0;p<f;p++){var g=l[p].getModel(),v=g.x,m=g.y;if(!isNaN(v)&&!isNaN(m)){var y=(v-d.x)*(v-d.x)+(m-d.y)*(m-d.y);if(!isNaN(y)&&y<s&&0!==y){var b=Math.sqrt(y),x=c*b/(u*b+a),_=(v-d.x)/b,w=(m-d.y)/b;if(g.x=_*x+d.x,g.y=w*x+d.y,i[g.id]||(i[g.id]={x:v,y:m,texts:[]}),r.push(g),o&&2*b<a)for(var E=l[p].getContainer().getChildren(),S=E.length,O=0;O<S;O++){var k=E[O];"text"===k.get("type")&&(i[g.id].texts.push({visible:k.get("visible"),shape:k}),k.set("visible",!0))}}}}n.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this.get("cachedMagnifiedModels"),t=this.get("cachedOriginPositions"),n=e.length,r=0;r<n;r++){var i=e[r],o=t[i.id];i.x=o.x,i.y=o.y;for(var a=o.texts.length,s=0;s<a;s++){var u=o.texts[s];u.shape.set("visible",u.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=e.r,n=e.d,r=e.trigger,i=e.minD,o=e.maxD,a=e.minR,s=e.maxR,u=e.scaleDBy,c=e.scaleRBy;isNaN(e.r)||(this.set("r",t),this.set("r2",t*t)),isNaN(n)||this.set("d",n),isNaN(o)||this.set("maxD",o),isNaN(i)||this.set("minD",i),isNaN(s)||this.set("maxR",s),isNaN(a)||this.set("minR",a);var l,f=this.get("d"),d=this.get("r");(this.set("molecularParam",(f+1)*d),"mousemove"!==r&&"click"!==r&&"drag"!==r||this.set("trigger",r),"drag"===u||"wheel"===u||"unset"===u)&&(this.set("scaleDBy",u),this.get("delegate").remove(),this.get("delegate").destroy(),(l=this.get("dPercentText"))&&(l.remove(),l.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(this.set("scaleRBy",c),this.get("delegate").remove(),this.get("delegate").destroy(),(l=this.get("dPercentText"))&&(l.remove(),l.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||gf;o=a.addShape("circle",{attrs:pf({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",function(e){r.scaleRByWheel(e)}):"drag"===this.get("scaleRBy")&&(o.on("dragstart",function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})}),o.on("drag",function(e){r.scaleRByDrag(e)}),o.on("dragend",function(e){r.set("dragging",!1)})),"wheel"===this.get("scaleDBy")?o.on("mousewheel",function(e){n.scaleDByWheel(e)}):"drag"===this.get("scaleDBy")&&(o.on("dragstart",function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})}),o.on("drag",function(e){n.scaleDByDrag(e)}),o.on("dragend",function(e){r.set("dragging",!1)})))}else o.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),c=r.get("dPercentText"),l=e.y+t/1.5+16;if(!c||c.destroyed)c=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:l,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",c);else c.attr({text:"".concat(u,"%"),x:e.x,y:l})}r.set("delegate",o)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Kl),mf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ef()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var yf=function(e){function t(t){return e.call(this,t)||this}return mf(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;Object(x.isString)(n)&&(r=sl(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),Object(x.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter(function(e){return"LI"===e.nodeName});if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,t):e.handleDefaultOperator(i))}});var s=this.get("position");s&&ul(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&i&&e.on("stackchange",function(e){var o=e.undoStack,a=e.redoStack,s=o.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))})},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,Object(x.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)})});break;case"render":case"update":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=e.findById(t.id);delete t.id,e.updateItem(n,t,!1),"combo"===n.getType()&&e.updateCombo(n)})});break;case"changedata":e.changeData(i,!1);break;case"delete":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)})});break;case"add":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){e.removeItem(t.id,!1)})});break;case"updateComboTree":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){e.updateComboTree(t.id,t.parentId,!1)})});break;case"layout":e.updateLayout(i,void 0,void 0,!1)}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,i=n.data.after;if(e.pushStack(r,Object(x.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)})});break;case"render":case"update":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=e.findById(t.id);delete t.id,e.updateItem(n,t,!1),"combo"===n.getType()&&e.updateCombo(n)})});break;case"changedata":e.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach(function(t){e.removeItem(t.id,!1)}),i.nodes&&i.nodes.forEach(function(t){e.removeItem(t.id,!1)}),i.combos&&i.combos.forEach(function(t){e.removeItem(t.id,!1)});break;case"add":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)})});break;case"updateComboTree":Object.keys(i).forEach(function(t){var n=i[t];n&&n.forEach(function(t){e.updateComboTree(t.id,t.parentId,!1)})});break;case"layout":e.updateLayout(i,void 0,void 0,!1)}}}},t.prototype.zoomOut=function(){var e=this.get("graph"),t=e.getZoom(),n=1/(1-.05*this.get("zoomSensitivity"));n*t>(this.get("maxZoom")||e.get("maxZoom"))||e.zoomTo(t*n)},t.prototype.zoomIn=function(){var e=this.get("graph"),t=e.getZoom(),n=1-.05*this.get("zoomSensitivity");n*t<(this.get("minZoom")||e.get("minZoom"))||e.zoomTo(t*n)},t.prototype.realZoom=function(){this.get("graph").zoomTo(1)},t.prototype.autoZoom=function(){this.get("graph").fitView([20,20])},t.prototype.handleDefaultOperator=function(e){switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom()}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),Object(x.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(Kl),bf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&ef()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var xf=function(e){function t(t){return e.call(this,t)||this}return bf(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=sl("<div class='".concat(t,"'></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),Object(x.isString)(r)&&(r=document.getElementById(r)),ul(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",function(e){ul(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(t){e.hideTooltip()})),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);Object(x.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&ul(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),c=this.get("fixToNode"),l=e.item;if(l.getType&&"node"===l.getType()&&c&&Object(x.isArray)(c)&&c.length>=2){var f=l.getBBox();u={x:f.minX+f.width*c[0],y:f.minY+f.height*c[1]}}var d=r.getCanvasByPoint(u.x,u.y),h=d.x,p=d.y,g=r.getContainer(),v={x:h+g.offsetLeft+a,y:p+g.offsetTop+s};ul(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>i&&(v.x-=m.width+a),p+m.height+s>o&&(v.y-=m.height+s),ul(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else ul(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),Object(x.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Kl),_f={};function wf(e,t){_f[e]=t}var Ef=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){Object(x.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return Object(x.map)(this.ticks,function(t,n){return Object(x.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}})},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return Object(x.isNil)(r)||!Object(x.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){Object(x.assign)(this,this.__cfg__),this.setDomain(),Object(x.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(Object(x.isString)(e)){var n=_f[e];if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else Object(x.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return Object(x.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),Sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return Object(b.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=Object(x.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return Object(x.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,Object(b.__spreadArrays)([i],n))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if(Object(x.isNil)(this.getConfig("min"))&&(this.min=0),Object(x.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(Ef),Of=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,kf="[^\\s]+",Mf=/\[([^]*?)\]/gm;function Cf(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var Af=function(e){return function(t,n){var r=n[e].map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase());return r>-1?r:null}};function jf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e}var Tf=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],If=["January","February","March","April","May","June","July","August","September","October","November","December"],Nf=Cf(If,3),Pf={dayNamesShort:Cf(Tf,3),dayNames:Tf,monthNamesShort:Nf,monthNames:If,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Df=jf({},Pf),Lf=function(e){return Df=jf(Df,e)},Rf=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Bf=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Ff={D:function(e){return String(e.getDate())},DD:function(e){return Bf(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Bf(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Bf(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Bf(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Bf(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Bf(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Bf(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Bf(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Bf(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Bf(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Bf(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Bf(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Bf(Math.floor(Math.abs(t)/60),2)+":"+Bf(Math.abs(t)%60,2)}},zf=function(e){return+e-1},Gf=[null,"\\d\\d?"],Uf=[null,kf],Vf=["isPm",kf,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],Wf=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],Yf={D:["day","\\d\\d?"],DD:["day","\\d\\d"],Do:["day","\\d\\d?"+kf,function(e){return parseInt(e,10)}],M:["month","\\d\\d?",zf],MM:["month","\\d\\d",zf],YY:["year","\\d\\d",function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour","\\d\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","\\d\\d?"],HH:["hour","\\d\\d"],m:["minute","\\d\\d?"],mm:["minute","\\d\\d"],s:["second","\\d\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond","\\d\\d",function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:Gf,dd:Gf,ddd:Uf,dddd:Uf,MMM:["month",kf,Af("monthNamesShort")],MMMM:["month",kf,Af("monthNames")],a:Vf,A:Vf,ZZ:Wf,Z:Wf},Xf={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Hf=function(e){return jf(Xf,e)},qf=function(e,t,n){if(void 0===t&&(t=Xf.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=Xf[t]||t;var r=[];t=t.replace(Mf,function(e,t){return r.push(t),"@@@"});var i=jf(jf({},Df),n);return(t=t.replace(Of,function(t){return Ff[t](e,i)})).replace(/@@@/g,function(){return r.shift()})};function Kf(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=Xf[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=t.replace(Mf,function(e,t){return o.push(Rf(t)),"@@@"}),s={},u={};a=Rf(a).replace(Of,function(e){var t=Yf[e],n=t[0],r=t[1],o=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(t),"("+r+")"}),Object.keys(u).forEach(function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")}),a=a.replace(/@@@/g,function(){return o.shift()});var c=e.match(new RegExp(a,"i"));if(!c)return null;for(var l,f=jf(jf({},Df),n),d=1;d<c.length;d++){var h=i[d-1],p=h[0],g=h[2],v=g?g(c[d],f):+c[d];if(null==v)return null;r[p]=v}if(1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0),null==r.timezoneOffset){l=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(d=0,m.length);d<y;d++)if(s[m[d][0]]&&r[m[d][0]]!==l[m[d][1]]())return null}else if(l=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return l}var Zf={format:qf,parse:Kf,defaultI18n:Pf,setGlobalDateI18n:Lf,setGlobalDateMasks:Hf},Qf=function(e){return function(t,n,r,i){for(var o=Object(x.isNil)(r)?0:r,a=Object(x.isNil)(i)?t.length:i;o<a;){var s=o+a>>>1;e(t[s])>n?a=s:o=s+1}return o}},$f="format";function Jf(e,t){return(y[$f]||Zf[$f])(e,t)}function ed(e){return Object(x.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),Object(x.isDate)(e)&&(e=e.getTime()),e}var td=1e3,nd=60*td,rd=60*nd,id=24*rd,od=31*id,ad=365*id,sd=[["HH:mm:ss",td],["HH:mm:ss",10*td],["HH:mm:ss",30*td],["HH:mm",nd],["HH:mm",10*nd],["HH:mm",30*nd],["HH",rd],["HH",6*rd],["HH",12*rd],["YYYY-MM-DD",id],["YYYY-MM-DD",4*id],["YYYY-WW",7*id],["YYYY-MM",od],["YYYY-MM",4*od],["YYYY-MM",6*od],["YYYY",380*id]];var ud=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return Object(b.__extends)(t,e),t.prototype.translate=function(e){e=ed(e);var t=this.values.indexOf(e);return-1===t&&(t=Object(x.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,t):Jf(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;Object(x.each)(t,function(e,n){t[n]=ed(e)}),t.sort(function(e,t){return e-t}),e.prototype.setDomain.call(this)},t}(Sf),cd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return Object(b.__extends)(t,e),t.prototype.scale=function(e){if(Object(x.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=Object(x.head)(t),r=Object(x.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Object(x.isNil)(this.minLimit)||(this.min=n),Object(x.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=Object(x.getRange)(this.values),t=e.min,n=e.max;Object(x.isNil)(this.min)&&(this.min=t),Object(x.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=Object(x.filter)(n,function(e){return e>=t.min&&e<=t.max})),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(Ef),ld=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return Object(b.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(cd);function fd(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function dd(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function hd(e,t,n){Object(x.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return Object(x.each)(e,function(e){e>0&&e<r&&(r=e)}),r===n&&(r=n/t),r>1&&(r=1),r}var pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return Object(b.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=dd(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=dd(n,a/n)))*o;if(e<s)return e/s*a}else t=dd(n,this.min);var u=(e-i)/o*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=hd(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),e<i?e/i/(dd(r,t)-dd(r,n)):(dd(r,e)-dd(r,n))/(dd(r,t)-dd(r,n))},t}(cd),gd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return Object(b.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=fd(n,this.max),i=fd(n,this.min),o=t*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(fd(r,e)-fd(r,n))/(fd(r,t)-fd(r,n))},t}(cd),vd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return Object(b.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):Jf(n,this.mask)},t.prototype.scale=function(t){var n=t;return(Object(x.isString)(n)||Object(x.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return ed(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if(Object(x.isNil)(t)&&Object(x.isNumber)(t)||(this.min=this.translate(this.min)),Object(x.isNil)(n)&&Object(x.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],i=1/0,o=i,a=0;Object(x.each)(e,function(e){var t=ed(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");i>t?(o=i,i=t):o>t&&(o=t),a<t&&(a=t),r.push(t)}),e.length>1&&(this.minTickInterval=o-i),Object(x.isNil)(t)&&(this.min=i),Object(x.isNil)(n)&&(this.max=a)}},t}(ld),md=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return Object(b.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),i=Math.floor(r*(n-1));if(i>=n-1)return Object(x.last)(t);if(i<0)return Object(x.head)(t);var o=t[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(t[i+1]-o)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||(Object(x.last)(t)!==this.max&&t.push(this.max),Object(x.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<Object(x.head)(t))return 0;if(e>Object(x.last)(t))return 1;var n=0;return Object(x.each)(t,function(t,r){if(!(e>=t))return!1;n=r}),n/(t.length-1)},t}(cd),yd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return Object(b.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(md),bd={};function xd(e,t){if(function(e){return bd[e]}(e))throw new Error("type '"+e+"' existed.");bd[e]=t}var _d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return Object(b.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&Object(x.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}(Ef);function wd(e){var t=e.values,n=e.tickInterval,r=e.tickCount,i=e.showLast;if(Object(x.isNumber)(n)){var o=Object(x.filter)(t,function(e,t){return t%n===0}),a=Object(x.last)(t);return i&&Object(x.last)(o)!==a&&o.push(a),o}var s=t.length,u=e.min,c=e.max;if(Object(x.isNil)(u)&&(u=0),Object(x.isNil)(c)&&(c=t.length-1),!Object(x.isNumber)(r)||r>=s)return t.slice(u,c+1);if(r<=0||c<=0)return[];for(var l=1===r?s:Math.floor(s/(r-1)),f=[],d=u,h=0;h<r&&!(d>=c);h++)d=Math.min(u+h*l,c),h===r-1&&i?f.push(t[c]):f.push(t[d]);return f}var Ed=Math.sqrt(50),Sd=Math.sqrt(10),Od=Math.sqrt(2),kd=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],o=(n=[a,o])[0],a=n[1]),(r=Md(s,u,e))>0?r=Md(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=Md(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(i=e,e=t,t=i);if(0===(a=Md(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function Md(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ed?10:o>=Sd?5:o>=Od?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ed?10:o>=Sd?5:o>=Od?2:1)}function Cd(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function Ad(e,t,n){var r=Cd(e,n,"floor"),i=Cd(t,n,"ceil");r=Object(x.fixedBase)(r,n),i=Object(x.fixedBase)(i,n);for(var o=[],a=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=a){var u=Object(x.fixedBase)(s,a);o.push(u)}return{min:r,max:i,ticks:o}}function jd(e,t,n){var r,i=e.minLimit,o=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,c=void 0===u?5:u,l=Object(x.isNil)(i)?Object(x.isNil)(t)?a:t:i,f=Object(x.isNil)(o)?Object(x.isNil)(n)?s:n:o;if(l>f&&(f=(r=[l,f])[0],l=r[1]),c<=2)return[l,f];for(var d=(f-l)/(c-1),h=[],p=0;p<c;p++)h.push(l+d*p);return h}function Td(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var Id=[1,5,2,2.5,4,3],Nd=100*Number.EPSILON;function Pd(e,t,n,r,i,o){var a=Object(x.size)(t),s=Object(x.indexOf)(t,e),u=0,c=function(e,t){return(e%t+t)%t}(r,o);return(c<Nd||o-c<Nd)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function Dd(e,t,n){var r=Object(x.size)(t);return 1-Object(x.indexOf)(t,e)/(r-1)-n+1}function Ld(e,t,n,r,i,o){var a=(e-1)/(o-i),s=(t-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function Rd(e,t){return e>=t?2-(e-1)/(t-1):1}function Bd(e,t,n,r){var i=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*i,2)}function Fd(e,t,n){var r=t-e;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function zd(e,t,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Id),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};if(t-e>1e148){var s=(t-e)/(w=n||5);return{min:e,max:t,ticks:Array(w).fill(null).map(function(t,n){return Td(e+s*n)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var l=0;l<i.length;l+=1){var f=i[l],d=Dd(f,i,c);if(o[0]*d+o[1]+o[2]+o[3]<u.score){c=1/0;break}for(var h=2;h<1/0;){var p=Rd(h,a);if(o[0]*d+o[1]+o[2]*p+o[3]<u.score)break;for(var g=(t-e)/(h+1)/c/f,v=Math.ceil(Math.log10(g));v<1/0;){var m=c*f*Math.pow(10,v),y=Fd(e,t,m*(h-1));if(o[0]*d+o[1]*y+o[2]*p+o[3]<u.score)break;var b=Math.floor(t/m)*c-(h-1)*c,_=Math.ceil(e/m)*c;if(b<=_)for(var w=_-b,E=0;E<=w;E+=1){var S=(b+E)*(m/c),O=S+m*(h-1),k=m,M=Pd(f,i,c,S,O,k),C=Bd(e,t,S,O),A=Ld(h,a,e,t,S,O),j=o[0]*M+o[1]*C+o[2]*A+1*o[3];j>u.score&&(!r||S<=e&&O>=t)&&(u.lmin=S,u.lmax=O,u.lstep=k,u.score=j)}v+=1}h+=1}}c+=1}var T=Td(u.lmax),I=Td(u.lmin),N=Td(u.lstep),P=Math.floor(function(e){return Math.round(1e12*e)/1e12}((T-I)/N))+1,D=new Array(P);D[0]=Td(I);for(l=1;l<P;l++)D[l]=Td(D[l-1]+N);return{min:Math.min(e,Object(x.head)(D)),max:Math.max(t,Object(x.last)(D)),ticks:D}}function Gd(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var i=(t-e)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(t/a),u=Math.floor(e/a),c=Math.max(s*a,t),l=Math.min(u*a,e),f=Math.floor((c-l)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=Td(l+h*a);return{min:l,max:c,ticks:d}}function Ud(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function Vd(e){return new Date(e).getFullYear()}function Wd(e){return new Date(e,0,1).getTime()}function Yd(e){return new Date(e).getMonth()}function Xd(e,t){return new Date(e,t,1).getTime()}wf("cat",wd),wf("time-cat",function(e){return wd(Object(b.__assign)({showLast:!0},e))}),wf("wilkinson-extended",function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.nice,o=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=zd(t,n,r,i).ticks;return Object(x.isNil)(a)&&Object(x.isNil)(s)?o?Ad(t,n,o).ticks:u:jd(e,Object(x.head)(u),Object(x.last)(u))}),wf("r-pretty",function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.tickInterval,o=e.minLimit,a=e.maxLimit,s=Gd(t,n,r).ticks;return Object(x.isNil)(o)&&Object(x.isNil)(a)?i?Ad(t,n,i).ticks:s:jd(e,Object(x.head)(s),Object(x.last)(s))}),wf("time",function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickInterval,o=e.tickCount;if(i)o=Math.ceil((n-t)/i);else{var a=(n-t)/(i=function(e,t,n){var r=(t-e)/n,i=Qf(function(e){return e[1]})(sd,r)-1,o=sd[i];return i<0?o=sd[0]:i>=sd.length&&(o=Object(x.last)(sd)),o}(t,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-t)/(Math.pow(2,12)-1)),i);for(var s=[],u=t;u<n+i;u+=i)s.push(u);return s}),wf("time-pretty",function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickCount,o=e.tickInterval,a=[];o||(o=(n-t)/i,r&&o<r&&(o=r)),o=Math.max(Math.floor((n-t)/(Math.pow(2,12)-1)),o);var s=Vd(t);if(o>ad)for(var u=Vd(n),c=Math.ceil(o/ad),l=s;l<=u+c;l+=c)a.push(Wd(l));else if(o>od){var f=Math.ceil(o/od),d=Yd(t),h=function(e,t){var n=Vd(e),r=Vd(t),i=Yd(e);return 12*(r-n)+(Yd(t)-i)%12}(t,n);for(l=0;l<=h+f;l+=f)a.push(Xd(s,l+d))}else if(o>id){var p=(b=new Date(t)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(o/id),y=function(e,t){return Math.ceil((t-e)/id)}(t,n);for(l=0;l<y+m;l+=m)a.push(new Date(p,g,v+l).getTime())}else if(o>rd){p=(b=new Date(t)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),_=Math.ceil(o/rd),w=function(e,t){return Math.ceil((t-e)/rd)}(t,n);for(l=0;l<=w+_;l+=_)a.push(new Date(p,g,m,x+l).getTime())}else if(o>nd){var E=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),S=Math.ceil(o/nd);for(l=0;l<=E+S;l+=S)a.push(t+l*nd)}else{var O=o;O<td&&(O=td);var k=Math.floor(t/td)*td,M=Math.ceil((n-t)/td),C=Math.ceil(O/td);for(l=0;l<M+C;l+=C)a.push(k+l*td)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a}),wf("log",function(e){var t,n=e.base,r=e.tickCount,i=e.min,o=e.max,a=e.values,s=dd(n,o);if(i>0)t=Math.floor(dd(n,i));else{var u=hd(a,n,o);t=Math.floor(dd(n,u))}for(var c=s-t,l=Math.ceil(c/r),f=[],d=t;d<s+l;d+=l)f.push(Math.pow(n,d));return i<=0&&f.unshift(0),f}),wf("pow",function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(fd(t,e.max));return Gd(Math.floor(fd(t,e.min)),r,n).ticks.map(function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n})}),wf("quantile",function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort(function(e,t){return e-t}),i=[],o=0;o<t;o++){var a=o/(t-1);i.push(Ud(r,a))}return i}),wf("d3-linear",function(e){var t=e.min,n=e.max,r=e.tickInterval,i=e.minLimit,o=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,i=e.tickCount,o=new kd;return o.domain([t,n]),r&&o.nice(i),o.ticks(i)}(e);return Object(x.isNil)(i)&&Object(x.isNil)(o)?r?Ad(t,n,r).ticks:a:jd(e,Object(x.head)(a),Object(x.last)(a))}),xd("cat",Sf),xd("category",Sf),xd("identity",_d),xd("linear",ld),xd("log",pd),xd("pow",gd),xd("time",vd),xd("timeCat",ud),xd("quantize",md),xd("quantile",yd);var Hd=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function qd(e){return function(e){return Object(x.map)(e,function(e,t){return[0===t?"M":"L",e[0],e[1]]})}(e)}function Kd(e,t,n,r){void 0===r&&(r=!0);var i=new ld({values:e}),o=new Sf({values:Object(x.map)(e,function(e,t){return t})}),a=Object(x.map)(e,function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]});return r?function(e){if(e.length<=2)return qd(e);var t=[];Object(x.each)(e,function(e){Object(x.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])});var n=Ko(t,!1),r=Object(x.head)(e),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):qd(a)}function Zd(e,t,n,r){void 0===r&&(r=5);for(var i=new ld({values:e}),o=new Sf({values:Object(x.map)(e,function(e,t){return t})}),a=Object(x.map)(e,function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]}),s=[],u=0;u<a.length;u++){var c=a[u],l=$d({x:c[0],y:c[1],y0:n,size:r});s.push.apply(s,l)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var i=1,o=e.length;i<o;i++)n.push(["L",e[i].x,e[i].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function Qd(e,t,n,r){var i=Hd([],e,!0),o=function(e,t){var n=new ld({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return i.push(["L",t,o]),i.push(["L",0,o]),i.push(["Z"]),i}function $d(e){var t,n,r,i,o=e.x,a=e.y,s=e.y0,u=e.size;Object(x.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),Object(x.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var c=[{x:r,y:t},{x:r,y:n}];return c.push({x:i,y:n},{x:i,y:t}),c}var Jd=function(){return(Jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eh={stroke:"#C5C5C5",strokeOpacity:.85},th={fill:"#CACED4",opacity:.85},nh=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?200:o,s=e.height,u=void 0===s?26:s,c=e.smooth,l=void 0===c||c,f=e.isArea,d=void 0!==f&&f,h=e.data,p=void 0===h?[]:h,g=e.lineStyle,v=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=l,this.isArea=d,this.lineStyle=Object.assign({},eh,g),this.areaStyle=Object.assign({},th,v),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height,o=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,c=e.areaStyle,l=this.group.addGroup({name:"trend-group"});if(o){var f=Kd(o,r,i,a);if(l.addShape("path",{attrs:Jd({path:f},u),name:"trend-line"}),s){var d=Qd(f,r,i,o);l.addShape("path",{attrs:Jd({path:d},c),name:"trend-area"})}}this.intervalConfig&&l.addShape("path",{attrs:Jd({path:Zd(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),l.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),rh=function(){return(rh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ih={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},oh={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},ah=function(){function e(e){var t=e.group,n=e.name,r=e.type,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.width,c=void 0===u?2:u,l=e.height,f=void 0===l?24:l,d=e.style,h=void 0===d?{}:d;this.group=t,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=c,this.height=f,"trend"===r?this.style=rh(rh({},ih),h):"simple"===r&&(this.style=rh(rh({},oh),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){Object(x.isNumber)(e)&&(this.x=e),Object(x.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this.width,t=this.height,n=this.style,r=this.name,i=n.fill,o=n.stroke,a=n.radius,s=n.opacity,u=n.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:t,fill:i,stroke:o,radius:a,opacity:s,cursor:u},name:"".concat(r,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:i,stroke:o,radius:a,opacity:s,cursor:u,lineAppendWidth:12},name:"".concat(r,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t,r:2*e,fill:i,stroke:o,radius:a,opacity:s,cursor:u},name:"".concat(r,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t/2,r:2*e,fill:i,stroke:o,radius:a,opacity:s,cursor:u,lineWidth:2},name:"".concat(r,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var t=e.style.fill;e.topCircle.attr("fill",t)})},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),sh=function(){return(sh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},uh=function(){function e(e){this.config=Object(x.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=Object(x.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,c=this.config.x+a,l=this.config.y+u,f=t.addGroup({name:"playPauseBtn"});this.startMarkerGroup=f.addGroup({name:"playPauseBtn"}),this.circle=t.addShape("circle",{attrs:sh({x:c,y:l,r:this.config.r*i},n),name:"playPauseBtn"}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,l,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=f.addGroup({name:"playPauseBtn"});var d=.25*this.config.r*i,h=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*i,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*i,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,i=void 0===r?0:r,o=e.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var c=.25*this.config.r*n,l=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-l/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",l),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-l/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",l)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),ch=function(){return(ch=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lh=r.transform,fh={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},dh={fill:"#fff"},hh={fill:"green"},ph={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},gh={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},vh={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:ph,timeTypeControllerStyle:gh},mh=function(){function e(e){this.controllerCfg=Object(x.deepMix)({},vh,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,i=e.y,o=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,c=void 0===u?"green":u,l=e.containerStyle,f=void 0===l?{}:l,d=ch(ch({},fh),e.playBtnStyle||{}),h=ch(ch({},dh),e.preBtnStyle||{}),p=ch(ch({},hh),e.nextBtnStyle||{}),g=n/2-5,v=i+10,m=this.controllerGroup.addShape("rect",{attrs:ch({x:r,y:v,width:t,height:n,stroke:c,fill:s},f),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:v,r:g}):this.playButton=new uh({group:this.controllerGroup,x:t/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*g;this.controllerGroup.addShape("path",{attrs:ch({path:this.getPreMarkerPath(t/2-5*g+y,v+g+5+b,.5*x)},h),name:"preStepBtn"});var _=p.offsetX||0,w=p.offsetY||0,E=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:ch({path:this.getNextMarkerPath(t/2+5*g+_,v+g+5+w,.5*E)},p),name:"nextStepBtn"}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var S=this.controllerCfg.scale,O=void 0===S?1:S,k=this.controllerGroup.getCanvasBBox(),M=(k.maxX+k.minX)/2,C=(k.maxY+k.minY)/2,A=lh([1,0,0,0,1,0,0,0,1],[["t",-M,-C],["s",O,O],["t",M,C]]);this.controllerGroup.setMatrix(A)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,i=ch(ch({},ph),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,c=i.pointer,l=void 0===c?{}:c,f=i.scale,d=void 0===f?1:f,h=i.offsetX,p=void 0===h?0:h,g=i.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var _=t+this.speedAxisY[x],w=n-(r?50:110);m.addShape("line",{attrs:ch({x1:w,x2:w+15,y1:_,y2:_},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=_,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:ch({x:n-(r?50:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:ch({path:this.getPointerPath(n-(r?50:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},l),name:"speed-pointer"});var E=this.speedGroup.getCanvasBBox(),S=(E.maxX+E.minX)/2,O=(E.maxY+E.minY)/2,k=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];k=lh(k,[["t",-S,-O],["s",d,d],["t",S+p*d,O+v*d]]),this.speedGroup.setMatrix(k)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=ch(ch({},gh),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,c=n.box,l=void 0===c?{}:c,f=n.check,d=void 0===f?{}:f,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:ch({x:t-50,y:this.speedAxisY[0]+3.5},l),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:ch({path:[["M",t-50+3,this.speedAxisY[1]+6],["L",t-50+7,this.speedAxisY[1]+10],["L",t-50+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:ch({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-50+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=lh(y,[["t",-v,-m],["s",i,i],["t",v+a*i,m+u*i]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),i=e.speedAxisY.indexOf(r[7]||0),o=e.speedAxisY.indexOf(n),a=e.speedAxisY[o]-e.speedAxisY[i];r=lh(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=e.speedAxisY.indexOf(r);if(-1===i){var o=1/0;e.speedAxisY.forEach(function(e,t){var n=Math.abs(e-r);o>n&&(o=n,i=t)})}i=t.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(e.speedAxisY.length-1,i+1);var a=e.speedAxisY[i]-r;n=lh(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var n,r,i=t.target.get("isChecked");i?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!i),e.group.emit("timebarConfigChanged",{type:e.currentType,speed:e.currentSpeed})})},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),yh=function(){return(yh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},bh=r.transform,xh={fill:"#416180",opacity:.05},_h={fill:"#416180",opacity:.15,radius:5},wh={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Eh={width:2,height:24},Sh={textBaseline:"middle",fill:"#000",opacity:.45},Oh={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},kh={lineWidth:1,stroke:"#ccc"},Mh=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=Object(x.get)(r,"touches.0.pageX",r.pageX);var i=t.canvas.get("container");i.addEventListener("mousemove",t.onMouseMove),i.addEventListener("mouseup",t.onMouseUp),i.addEventListener("mouseleave",t.onMouseUp),i.addEventListener("touchmove",t.onMouseMove),i.addEventListener("touchend",t.onMouseUp),i.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=Object(x.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,i=t.adjustOffsetRange(r/t.width);t.updateStartEnd(i),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?100:a,u=e.height,c=e.padding,l=void 0===c?10:c,f=e.trendCfg,d=e.controllerCfg,h=void 0===d?{speed:1}:d,p=e.backgroundStyle,g=void 0===p?{}:p,v=e.foregroundStyle,m=void 0===v?{}:v,y=e.handlerStyle,b=void 0===y?{}:y,_=e.textStyle,w=void 0===_?{}:_,E=e.start,S=void 0===E?0:E,O=e.end,k=void 0===O?1:O,M=e.minText,C=void 0===M?"":M,A=e.maxText,j=void 0===A?"":A,T=e.group,I=e.graph,N=e.canvas,P=e.tick,D=void 0===P?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:P,L=e.type;this.graph=I,this.canvas=N,this.group=T,this.timeBarType=L,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=l,this.ticks=D.ticks,this.trendCfg=f,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=D.tickLabelFormatter,"trend"===L?this.backgroundStyle=yh(yh({},xh),g):"simple"===L&&(this.backgroundStyle=yh(yh({},_h),g)),this.foregroundStyle=yh(yh({},wh),m),this.handlerStyle=yh(yh({},Eh),b),this.textStyle=yh(yh({},Sh),w),this.tickLabelStyle=yh(yh({},Oh),D.tickLabelStyle),this.tickLineStyle=yh(yh({},kh),D.tickLineStyle),this.currentMode="range",this.start=S,this.end=k,this.minText=C,this.maxText=j,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),Object(x.assign)(this,{x:t,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this.width,n=this.height,r=this.timeBarType;if("trend"===r&&Object(x.size)(Object(x.get)(this.trendCfg,"data"))){var i=new nh(yh(yh({x:this.x,y:this.y,width:t,height:n},this.trendCfg),{group:this.group}));this.trendComponent=i}var o=this.group.addGroup({name:"slider-group"});o.addShape("rect",{attrs:yh({x:0,y:0,width:t,height:n},this.backgroundStyle),name:"background"});var a=this.group.addGroup();"trend"===r?(this.minTextShape=a.addShape("text",{attrs:yh({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:yh({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=a.addShape("text",{attrs:yh({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:yh({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:yh({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(e){e.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var s=Object(x.get)(this.handlerStyle,"width",2),u=Object(x.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new ah({name:"minHandlerShape",group:c,type:r,x:this.x,y:this.y,width:s,height:u,style:this.handlerStyle});var l=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new ah({name:"maxHandlerShape",group:l,type:r,x:this.x,y:this.y,width:s,height:u,style:this.handlerStyle});var f=this.ticks,d=t/(f.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(e){e.destroy()});var h=-1/0,p=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=f.map(function(t,r){var i;e.tickPosList.push(e.x+r*d),e.tickLabelFormatter?(i=e.tickLabelFormatter(t),!Object(x.isString)(i)&&i&&(i=t.date)):i=t.date;var o=e.x+r*d,a=e.y+n+5,s=e.group.addShape("text",{attrs:yh({x:o,y:a,text:i,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if(Object(x.isNumber)(p)&&r!==f.length-1){var u=bh([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",p],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===r?s.attr({textAlign:"left"}):r!==f.length-1&&s.attr({textAlign:"right"});var c=e.group.addShape("line",{attrs:yh({x1:e.x+r*d,y1:e.y+n+2,x2:e.x+r*d,y2:e.y+n+6},e.tickLineStyle),name:"tick-line"});c.toBack();var l=s.getBBox();return l.minX>h?(s.show(),c.show(),h=l.minX+l.width+10):(s.hide(),c.hide()),s}),this.controllerBtnGroup=new mh(yh({group:this.group,x:this.x,y:this.y+n+25,width:t,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),o.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find(function(e){return"minHandlerShape"===e.get("name")});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(e){return"maxHandlerShape"===e.get("name")});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat("playPauseBtn",":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat("nextStepBtn",":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat("preStepBtn",":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on("timebarConfigChanged",function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=Object(x.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,n]),o=i[0],a=i[1];this.minHandlerShape.setX(t-r/2),Object(x.each)(o,function(t,n){return e.minTextShape.attr(n,t)}),this.maxHandlerShape.setX(n-r/2),Object(x.each)(a,function(t,n){return e.maxTextShape.attr(n,t)}),"range"===this.currentMode?this.graph.emit("valuechange",{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit("valuechange",{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=Object(x.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],i=(n=[o,i])[0],o=n[1],u=!0);var c=i.getBBox(),l=o.getBBox(),f=null,d=null;return"trend"===this.timeBarType?(f=a-c.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+l.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(f=i.attr("x")>c.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-l.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,f]:[f,d]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame(function(){var t=e,n=t.ticks,r=t.width,i=e.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=e.adjustOffsetRange(o/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timebarendplay",null))},e.prototype.destory=function(){this.graph.off("valuechange",function(){});var e=this.group,t=e.find(function(e){return"minHandlerShape"===e.get("name")});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find(function(e){return"maxHandlerShape"===e.get("name")});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat("playPauseBtn",":click")),e.off("".concat("nextStepBtn",":click")),e.off("".concat("preStepBtn",":click")),e.off("timebarConfigChanged"),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),Ch=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,c=e.className,l=void 0===c?"g6-component-timebar-tooltip":c,f=e.backgroundColor,d=void 0===f?"#000":f,h=e.textColor,p=void 0===h?"#fff":h,g=e.opacity,v=void 0===g?.8:g,m=e.fontSize,y=void 0===m?12:m;this.container=o,this.className=l,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this.className,t=(this.x,this.y,this.backgroundColor),n=this.textColor,r=this.text,i=this.padding,o=this.opacity,a=this.fontSize,s=this.container,u=sl("<div class='".concat(e,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(o,'"></div>'));Object(x.isString)(s)&&(s=document.getElementById(s)),s.appendChild(u),this.parentHeight=s.offsetHeight,this.parentWidth=s.offsetWidth,ul(u,{visibility:"hidden",top:0,left:0});var c=sl("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(t,"; font-size: ").concat(a,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(n,"; padding: ").concat(i[0],"px ").concat(i[1],"px ").concat(i[2],"px ").concat(i[3],"px'></div>"));c.innerHTML=r,u.appendChild(c),this.backgroundDOM=c;var l=sl("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(t,"'></div>"));u.appendChild(l),this.arrowDOM=l,this.container=u},e.prototype.show=function(e){var t=e.text,n=e.x;e.y,e.clientX,e.clientY;this.backgroundDOM.innerHTML=t;var r=this.backgroundDOM.offsetWidth,i=this.backgroundDOM.offsetHeight,o=this.arrowDOM.offsetWidth,a=this.arrowDOM.offsetHeight;ul(this.container,{top:"".concat(-i-a,"px"),left:"".concat(n,"px"),visibility:"visible"}),ul(this.backgroundDOM,{marginLeft:"".concat(-r/2,"px")}),ul(this.arrowDOM,{marginLeft:"".concat(-o/2,"px"),top:"".concat(i,"px")});var s=n-r/2,u=n+r/2;s<0?ul(this.backgroundDOM,{marginLeft:"".concat(-r/2-s,"px")}):u>this.parentWidth&&ul(this.backgroundDOM,{marginLeft:"".concat(-r/2-u+this.parentWidth+12,"px")})},e.prototype.hide=function(){ul(this.container,{top:0,left:0,visibility:"hidden"})},e}(),Ah=function(){return(Ah=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jh=r.transform,Th={fill:"#5B8FF9"},Ih={fill:"#e6e8e9"},Nh=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,i=e.width,o=e.height,a=e.padding,s=e.data,u=e.start,c=e.end,l=e.x,f=void 0===l?0:l,d=e.y,h=void 0===d?0:d,p=e.tickLabelFormatter,g=e.selectedTickStyle,v=void 0===g?Th:g,m=e.unselectedTickStyle,y=void 0===m?Ih:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,_=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=c,this.tickLabelFormatter=p,this.tickLabelStyle=_||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=f,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,i=t.padding,o=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,c=t.selectedTickStyle,l=t.unselectedTickStyle,f=t.tickLabelStyle,d=n-2*i,h=r-(3*i+4+10)-2*i,p=o.length,g=(d-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),_=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=_;var w=f.rotate;delete f.rotate,o.forEach(function(t,r){var o=r>=b&&r<=_?c:l,a=v.addShape("rect",{attrs:Ah({x:i+r*(g+2),y:i,width:g,height:h},o),draggable:!0,name:"tick-rect-".concat(r)}),s=v.addShape("rect",{attrs:{x:i+r*g+2*(2*r-1)/2,y:i,width:0===r||r===p-1?g+1:g+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,E=a.getBBox(),S=(E.minX+E.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:S,y:E.minY}),u?(d=u(t),!Object(x.isString)(d)&&d&&(d=t.date)):r%Math.round(p/10)===0&&(d=t.date),d){y.push(d);var O=E.maxY+2*i;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:S,y1:O,x2:S,y2:O+4},name:"tick-line"});var k=O+4+i,M=v.addShape("text",{attrs:Ah({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:S,y:k,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},f),capture:!1,name:"tick-label"}),C=M.getBBox();if(C.maxX>n?M.attr("textAlign","right"):C.minX<0&&M.attr("textAlign","left"),Object(x.isNumber)(w)&&10!==y.length){var A=jh([1,0,0,0,1,0,0,0,1],[["t",-S,-k],["r",w],["t",S-5,k+2]]);M.attr({textAlign:"left",matrix:A})}1===y.length?M.attr({textAlign:"left"}):10===y.length&&M.attr({textAlign:"right"})}}),this.tickRects=m;var E=this.group;this.currentSpeed=1,this.controllerBtnGroup=new mh({group:E,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=e.tickRects,o=e.unselectedTickStyle;i.forEach(function(e){e.rect.attr(o)});var a=e.selectedTickStyle;i[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/i.length;e.graph.emit("valuechange",{value:[s,s]})}}}),t.on("dragstart",function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach(function(e){e.rect.attr(r)});var i=t.target,o=parseInt(i.get("name").split("-")[2],10),a=e.selectedTickStyle;n[o].rect.attr(a),e.startTickRectId=o;var s=o/n.length;e.graph.emit("valuechange",{value:[s,s]}),e.dragging=!0}),t.on("dragover",function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,i=e.tickRects,o=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var c=i.length;e.endTickRectId=n;var l=r/c,f=n/c;e.graph.emit("valuechange",{value:[l,f]})}}),t.on("drop",function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var i=e.selectedTickStyle,o=e.tickRects;o[r].rect.attr(i),e.endTickRectId=r;var a=o.length,s=n/a,u=r/a;e.graph.emit("valuechange",{value:[s,u]})}}});var n=this.tooltipBackgroundColor,r=this.tooltipFomatter,i=this.canvas,o=new Ch({container:i.get("container"),backgroundColor:n}),a=this.tickRects;a.forEach(function(e){var t=e.pickRect;t.on("mouseenter",function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),s=i.getClientByPoint(a[n].x,a[n].y);o.show({x:a[n].x,y:a[n].y,clientX:s.x,clientY:s.y,text:r?r(a[n].value):a[n].value})}}),t.on("mouseleave",function(e){o.hide()})});var s=this.group;s.on("".concat("playPauseBtn",":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),s.on("".concat("nextStepBtn",":click"),function(){e.updateStartEnd(1)}),s.on("".concat("preStepBtn",":click"),function(){e.updateStartEnd(-1)}),s.on("timebarConfigChanged",function(t){t.type;var n=t.speed;e.currentSpeed=n})},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timebarendplay",null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},e.prototype.updateStartEnd=function(e){var t=this.tickRects,n=t.length,r=this.unselectedTickStyle,i=this.selectedTickStyle,o=this.endTickRectId;if(e>0?this.endTickRectId++:(t[this.endTickRectId].rect.attr(r),this.endTickRectId--),o!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var a=this.startTickRectId;a<=this.endTickRectId-1;a++)t[a].rect.attr(r);this.startTickRectId=this.endTickRectId}if(t[this.endTickRectId]){t[this.endTickRectId].rect.attr(i);var s=this.startTickRectId/n,u=this.endTickRectId/n;this.graph.emit("valuechange",{value:[s,u]})}},e.prototype.destory=function(){this.graph.off("valuechange",function(){});var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")}),this.tickRects.length=0,e.off("".concat("playPauseBtn",":click")),e.off("".concat("nextStepBtn",":click")),e.off("".concat("preStepBtn",":click")),e.off("timebarConfigChanged"),this.sliceGroup.destroy()},e}(),Ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dh=function(){return(Dh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Lh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Rh=function(e){function t(t){return e.call(this,t)||this}return Ph(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?(Object(x.isString)(s)&&(s=document.getElementById(s)),e=s):ul(e=sl("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new Tc({container:e,width:i,height:o}):new Wu({container:e,width:i,height:o}),this.get("containerCSS")&&ul(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,i=t.y,o=t.padding,a=t.type,s=t.trend,u=t.slider,c=t.controllerCfg,l=t.textStyle,f=t.tick,d=t.backgroundStyle,h=t.foregroundStyle,p=s.data,g=Lh(s,["data"]),v=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),_=null;if("trend"===a||"simple"===a){var w=this.get("getValue");_=new Mh(Dh(Dh({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:v,height:m,padding:o,backgroundStyle:d,foregroundStyle:h,trendCfg:Dh(Dh({},g),{data:p.map(function(e){return(null===w||void 0===w?void 0:w(e))||e.value})})},u),{tick:{ticks:p,tickLabelFormatter:f.tickLabelFormatter,tickLabelStyle:f.tickLabelStyle,tickLineStyle:f.tickLineStyle},handlerStyle:Dh(Dh({},u.handlerStyle),{height:u.height||m}),controllerCfg:c,textStyle:l}))}else"tick"===a&&(_=new Nh(Dh({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2},f)));var E=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==_.foregroundShape||document.addEventListener("mouseup",E)}),this.set("timebar",_)},t.prototype.filterData=function(e){var t,n=e.value,r=null,i=this._cfgs.type;if("trend"===i||"simple"===i?r=this._cfgs.trend.data:"tick"===i&&(r=this._cfgs.tick.data),r&&0!==r.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var c=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,l=c?c(r[s]):r[s].date,f=c?c(r[u]):r[u].date;if("tick"!==i)this.get("timebar").setText(l,f);if(o)o(a,l,f);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){var x=(y=y.filter(function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("node",e,{min:v,max:m}))})).map(function(e){return e.id});b&&(b=b.filter(function(e){return x.includes(e.source)&&x.includes(e.target)||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))}))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter(function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))})),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach(function(e){var t=e.getModel();if(null===g||void 0===g||!g("node",t,{min:v,max:m})){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<v||n>m?a.hideItem(e):a.showItem(e)}}),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach(function(e){var t=e.getModel();if(null===g||void 0===g||!g("edge",t,{min:r[s].date,max:r[u].date})){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}})}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",function(r){e.filterData({value:[t,n]})}),i.on("valuechange",Object(x.throttle)(function(t){e.filterData(t)},200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(x.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(Kl),Bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fh=Cs.applyMatrix;var zh=function(e){function t(t){return e.call(this,t)||this}return Bh(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");Object(x.isString)(r)&&(r=document.getElementById(r));var i=sl("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),o=0,a=0,s=!1,u=0,c=0,l=0,f=0,d=0,h=0;r.addEventListener("mousedown",function(r){if(t.refresh=!1,r.target===i){var u=i.style;l=parseInt(u.width,10),f=parseInt(u.height,10);var c=e.get("width"),p=e.get("height");l>c||f>p||(h=n.getZoom(),d=e.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}},!1),r.addEventListener("mousemove",function(t){if(s&&!Object(x.isNil)(t.clientX)&&!Object(x.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),g=i.style;u=parseInt(g.left,10),c=parseInt(g.top,10),l=parseInt(g.width,10),f=parseInt(g.height,10);var v=o-t.clientX,m=a-t.clientY;u-v<0?v=u:u-v+l>=r&&(v=0),c-m<0?m=c:c-m+f>=p&&(m=0),c-=m,ul(i,{left:"".concat(u-=v,"px"),top:"".concat(c,"px")}),n.translate(v*h/d,m*h/d),o=t.clientX,a=t.clientY}},!1),r.addEventListener("mouseleave",function(){s=!1,t.refresh=!0},!1),r.addEventListener("mouseup",function(){s=!1,t.refresh=!0},!1),this.set("viewport",i),r.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],c=[s.maxX-s.minX,s.maxY-s.minY],l={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(l.width=c[0],l.height=l.width/o):(l.height=c[1],l.width=l.height*o),l.minX=u[0]-l.width/2,l.minY=u[1]-l.height/2;var f=a.getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]);var d=O.mat3.invert([1,0,0,0,1,0,0,0,1],f),h=Fh({x:l.minX,y:l.minY},d),p=r.getCanvasByPoint(h.x,h.y),g=this.get("viewport");g||this.initViewport();var v=i/l.width,m=v*t,y=v*n,b=t*-p.x/l.width,x=n*-p.y/l.height,_=b+m,w=x+y;b<0&&(m+=b,b=0),_>t&&(m-=_-t),x<0&&(y+=x,x=0),w>n&&(y-=w-n),this.set("ratio",e),ul(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this.get("graph"),t=e.get("width"),n=e.get("height")/t,r=this.get("className"),i=this.get("container"),o=this.get("width"),a=this.get("height");o||a||(o=200),o?(a=n*o,this.set("height",a)):(o=1/n*a,this.set("width",o));var s=sl("<div class='".concat(r,"' style='width: ").concat(o,"px; height: ").concat(a,"px; overflow: hidden; position: relative;'></div>"));Object(x.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(s):e.get("container").appendChild(s),this.set("container",s);var u=sl('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');s.appendChild(u);var c=sl('<span style="display: table-cell; vertical-align: middle; "></span>');u.appendChild(c),this.set("containerDOM",u),this.set("containerSpan",c);var l=sl('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));this.set("imgDOM",l),this.updateImgSize(),c.appendChild(l),this.updateCanvas()},t.prototype.updateImgSize=function(){var e=this.get("imgDOM"),t=this.get("width"),n=this.get("height");e.onload=function(){var r=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t&&t(i.width,i.height)}}return[n,r]}(e);r[0]>r[1]?e.width=t:e.height=n}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){this.get("imgDOM").remove(),this.set("graphImg",e);var t=sl('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));this.set("imgDOM",t),t.src=e,this.updateImgSize(),this.get("containerSpan").appendChild(t),this.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Kl),Gh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uh=function(){return(Uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Vh=Cs.distance,Wh={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Yh=function(e){function t(t){return e.call(this,t)||this}return Gh(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(x.clone)(Wh),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this.get("showLabel"),t="node"===e||"both"===e,n="edge"===e||"both"===e;this.set("showNodeLabel",t),this.set("showEdgeLabel",n),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",function(e){}),n.on("drag",function(e){t.filter(e)}),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",function(e){t.scaleRByWheel(e)}))},t.prototype.scaleRByWheel=function(e){if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var t,n=this.get("graph"),r=this.get("delegate");(r?{x:r.attr("x"),y:r.attr("y")}:void 0)||n.getPointByClient(e.clientX,e.clientY);t=e.originalEvent.wheelDelta<0?.95:1/.95;var i=this.get("maxR"),o=this.get("minR"),a=this.get("r");(a>(i||n.get("height"))&&t>1||a<(o||.05*n.get("height"))&&t<1)&&(t=1),a*=t,this.set("r",a),this.filter(e)}},t.prototype.filter=function(e){var t=this.get("graph"),n=t.getNodes(),r={},i=this.get("r"),o=this.get("type"),a={x:e.x,y:e.y};this.updateDelegate(a,i);var s=this.get("shouldShow"),u=this.get("vShapes");u&&u.forEach(function(e){e.remove(),e.destroy()}),u=[],n.forEach(function(e){var t=e.getModel(),n=t.x,o=t.y;Vh({x:n,y:o},a)<i&&(r[t.id]=e)});var c=t.getEdges(),l=[];c.forEach(function(e){var t=e.getModel(),n=t.source,i=t.target;s(t)&&("only-source"===o||"one"===o?r[n]&&!r[i]&&l.push(e):"only-target"===o||"one"===o?r[i]&&!r[n]&&l.push(e):"both"===o&&r[n]&&r[i]&&l.push(e))});var f=this.get("showNodeLabel"),d=this.get("showEdgelabel"),h=t.get("group");l.forEach(function(e){e.get("group").get("children").forEach(function(e){var t=e.get("type"),n=h.addShape(t,{attrs:e.attr()});u.push(n),f&&"text"===t&&n.set("visible",!0)})}),Object.keys(r).forEach(function(e){var t=r[e].get("group").clone();if(h.add(t),u.push(t),d)for(var n=t.get("children"),i=0;i<n.length;i++){var o=n[i];"text"===o.get("type")&&o.set("visible",!0)}}),this.set("vShapes",u)},t.prototype.updateParams=function(e){var t=e.r,n=e.trigger,r=e.minR,i=e.maxR,o=e.scaleRBy,a=e.showLabel,s=e.shouldShow;if(isNaN(e.r)||this.set("r",t),isNaN(i)||this.set("maxR",i),isNaN(r)||this.set("minR",r),"mousemove"!==n&&"click"!==n||this.set("trigger",n),"wheel"===o||"unset"===o){this.set("scaleRBy",o),this.get("delegate").remove(),this.get("delegate").destroy();var u=this.get("dPercentText");u&&(u.remove(),u.destroy())}"node"!==a&&"both"!==a||this.set("showNodeLabel",!0),"edge"!==a&&"both"!==a||this.set("showEdgeLabel",!0),s&&this.set("shouldShow",s)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||Wh;i=o.addShape("circle",{attrs:Uh({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",function(e){n.scaleRByWheel(e)})}else i.attr({x:e.x,y:e.y,r:t});n.set("delegate",i)},t.prototype.clear=function(){var e=this.get("vShapes");e&&e.forEach(function(e){e.remove(),e.destroy()}),e=[],this.set("vShapes",e);var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy())},t.prototype.destroy=function(){this.clear()},t}(Kl),Xh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=Cs.pointLineDistance,qh={stroke:"#FA8C16",lineWidth:1},Kh=function(e){function t(t){return e.call(this,t)||this}return Xh(t,e),t.prototype.getDefaultCfgs=function(){return{line:qh,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach(function(e){var i=e.getBBox(),o=e.get("id");!0===r||"horizontal"===r?(t["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,e],t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e],t["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,e]):"center"===r&&(t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,e],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,e]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e])})},t.prototype.show=function(e,t){var n=Object(x.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+t.width/2,y:n.y},c={x:n.x+t.width/2,y:n.y+t.height/2},l={x:n.x+t.width/2,y:n.y+t.height},f={x:n.x,y:n.y+t.height/2},d={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],g=null;if(this.clearAlignLine(),Object(x.each)(o,function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,c)),h.push(r.getLineDisObject(e,l)))}),Object(x.each)(a,function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,f)),p.push(r.getLineDisObject(e,c)),p.push(r.getLineDisObject(e,d)))}),h.sort(function(e,t){return e.dis-t.dis}),p.sort(function(e,t){return e.dis-t.dis}),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,g={type:"item",horizontals:[h[0]]};for(var v=1;v<3;v++)h[0].dis===h[v].dis&&g.horizontals.push(h[v])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=t,this.addAlignLine(g))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,i=e.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&Object(x.each)(r,function(e){var n,r,i=e.line,o=e.point,c=(i[0]+i[2])/2;o.x<c?(n=o.x-t.width/2,r=Math.max(i[0],i[2])):(n=o.x+t.width/2,r=Math.min(i[0],i[2]));var l=Object(x.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)}),i&&Object(x.each)(i,function(e){var n,r,i=e.line,o=e.point,c=(i[1]+i[3])/2;o.y<c?(n=o.y-t.height/2,r=Math.max(i[1],i[3])):(n=o.y+t.height/2,r=Math.min(i[1],i[3]));var l=Object(x.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)}))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:Hh(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;Object(x.each)(e,function(e){e.remove()}),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach(function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]}),this.clearAlignLine()},t}(Kl),Zh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qh=function(){return(Qh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$h=["click","mouseenter"],Jh={PluginBase:Kl,Menu:nf,Grid:$l,Minimap:uf,Bundling:df,ToolBar:yf,Tooltip:xf,Fisheye:vf,TimeBar:Rh,ImageMinimap:zh,EdgeFilterLens:Yh,SnapLine:Kh,Legend:function(e){function t(t){return e.call(this,t)||this}return Zh(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),i=sl("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();ul(i,this.getContainerPos(o)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return o.forEach(function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,o="top";break;default:r=t.getWidth()-e[0]-r+0,o="left"}s[o]=r}),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach(function(e){s[e]="".concat(s[e],"px")}),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";$h.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",function(t){return e.filterData(t)}),r.on("node-container:mouseleave",function(t){e.clearFilter(),e.clearActiveLegend()})):(r.on("node-container:click",function(t){return e.filterData(t)}),r.on("click",function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())}))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();ul(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(e){e.set("inactive",!0)}):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.legendStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(Qh(Qh({},n.get("oriAttrs")),i)),r.attr(Qh(Qh({},r.get("oriAttrs")),o))});var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(Qh(Qh({},n.get("oriAttrs")),a)),r.attr(Qh(Qh({},r.get("oriAttrs")),s))})},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find(function(e){return"root"===e.get("name")}),i=r.find(function(e){return"node-group"===e.get("name")}),o=r.find(function(e){return"edge-group"===e.get("name")});return"node"===t?i.get("children").filter(function(t){return!!t.get(e)===n}):"edge"===t?o.get("children").filter(function(t){return!!t.get(e)===n}):i.get("children").filter(function(t){return!!t.get(e)===n}).concat(o.get("children").filter(function(t){return!!t.get(e)===n}))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find(function(e){return"root"===e.get("name")});[e.find(function(e){return"node-group"===e.get("name")}),e.find(function(e){return"edge-group"===e.get("name")})].forEach(function(e){e.get("children").forEach(function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))})})},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find(function(e){return"root"===e.get("name")}),c=u.find(function(e){return"node-group"===e.get("name")}),l=u.find(function(e){return"edge-group"===e.get("name")}),f=c.get("children").filter(function(e){return e.get("active")}),d=l.get("children").filter(function(e){return e.get("active")}),h=0,p=["getNodes","getEdges"];p.forEach(function(e){i[e]().forEach(function(t){var r=!1;("getNodes"===e?f:d).forEach(function(e){var i=n[e.get("id")];r=r||i(t.getModel())}),r?(i.setItemState(t,a,!1),i.setItemState(t,o,!0),h++):(i.setItemState(t,o,!1),i.setItemState(t,a,!0))})}),h||p.forEach(function(e){i[e]().forEach(function(e){i.clearItemStates(e,[a])})})}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach(function(t){e.clearItemStates(t,[n,r])}),e.getEdges().forEach(function(t){e.clearItemStates(t,[n,r])})}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");t?t.clear():t=new Wu({container:this.get("container"),width:200,height:200});var n=t.addGroup({name:"root"}),r=n.addGroup({name:"node-group"}),i=n.addGroup({name:"edge-group"});this.set("legendCanvas",t);var o=this.get("itemsData"),a=[r,i];["nodes","edges"].forEach(function(t,n){o[t].forEach(function(r){var i,o,s=a[n].addGroup({id:r.id,name:"node-container"}),u=r.type,c=e.getShapeSize(r),l=c.width,f=c.height,d=c.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":o={r:d,x:0,y:0};break;case"rect":o={width:l,height:f,x:-l/2,y:-f/2};break;case"ellipse":o={r1:l,r2:f,x:0,y:0};break;case"line":o={x1:-l/2,y1:0,x2:l/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-l/2,0],["Q",0,l/2,l/2,0]]},u="path";break;case"cubic":o={path:[["M",-l/2,0],["C",-l/6,l/2,l/6,-l/2,l/2,0]]},u="path";break;default:o={r:d,x:0,y:0}}var p=s.addShape(u,{attrs:Qh(Qh({},o),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:Qh({opacity:1},h)});if(r.label){var g=p.getBBox(),v=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},m=Qh({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);s.addShape("text",{attrs:Qh({x:g.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}})});var s,u=this.get("padding"),c=n.find(function(e){return"title-container"===e.get("name")}),l={height:0,maxY:0,width:0};if(this.get("title")){c||(c=n.addGroup({name:"title-container"}));var f={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:u[0]},d=this.get("titleConfig")||{},h=Object.assign(f,d.style||{});s=c.addShape("text",{attrs:Qh({text:this.get("title")},h)}),l=c.getCanvasBBox(),c.setMatrix([1,0,0,0,1,0,d.offsetX,d.offsetY,1])}this.layoutItems();var p=n.getCanvasBBox(),g=r.getCanvasBBox(),v=g.minX<0?Math.abs(g.minX)+u[3]:u[3],m=l.maxY<g.minY?Math.abs(l.maxY-g.minY)+u[0]:l.maxY+u[0],y=[1,0,0,0,1,0,v,m,1];r.setMatrix(y);var b=[(p=n.getCanvasBBox()).minX+p.width+u[1],p.minY+p.height+u[2]];if(s){d=Qh({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));l=c.getCanvasBBox();var x=c.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===d.position?x[6]=b[0]/2+d.offsetX:"right"===d.position?(x[6]=b[0]-u[3]+d.offsetX,s.attr({textAlign:"right"})):(x[6]=u[3]+d.offsetX,s.attr({textAlign:"left"})),c.setMatrix(x),l=c.getCanvasBBox(),y=[1,0,0,0,1,0,v=g.minX<0?Math.abs(g.minX)+u[3]:u[3],m=g.minY<l.maxY?Math.abs(l.maxY-g.minY)+u[0]:l.maxY+u[0],1],r.setMatrix(y);var _=[1,0,0,0,1,0,v,m,1];"vertical"===this.get("layout")?_[6]+=g.maxX+this.get("horiSep"):_[7]+=g.maxY+this.get("vertiSep"),i.setMatrix(_)}else{g=r.getCanvasBBox();var w=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?w[6]+=y[6]+g.maxX+this.get("horiSep"):w[7]+=y[7]+g.maxY+this.get("vertiSep"),i.setMatrix(w)}p=n.getCanvasBBox(),g=r.getCanvasBBox(),y=r.getMatrix()||[1,0,0,0,1,0,0,0,1];var E=i.getMatrix()||[1,0,0,0,1,0,0,0,1],S=i.getCanvasBBox();b=[Math.max(g.width+y[6],S.width+E[6])+u[1],Math.max(g.height+y[7],S.height+E[7])+u[2]],t.changeSize(b[0],b[1]);var O=this.get("containerStyle"),k=n.getMatrix()||[1,0,0,0,1,0,0,0,1],M=Cs.invertMatrix({x:0,y:0},k);return n.addShape("rect",{attrs:Qh({x:M.x+(O.lineWidth||1),y:M.y+(O.lineWidth||1),width:b[0]-2*(O.lineWidth||1),height:b[1]-2*(O.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},O),name:"legend-back-rect",capture:!1}).toBack(),b},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=e.find(function(e){return"root"===e.get("name")}),s=a.find(function(e){return"node-group"===e.get("name")}),u=a.find(function(e){return"edge-group"===e.get("name")}),c={min:0,max:-1/0},l=-1/0;s.get("children").forEach(function(e,i){0===i&&(c.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),f=u.width,d=u.height,h=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+f/2,o[0]=g+s.height+n,h=s.maxX+p+f/2):(p=o[0]+f/2,g=o[1],o[0]=p+s.width+t,h=s.maxY+g+d/2),o[0]>c.max&&(c.max=o[0]),h>l&&(l=h),e.setMatrix([1,0,0,0,1,0,p,g,1])});var f=c.max-c.min,d={min:0,max:-1/0},h=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach(function(e,i){0===i&&(d.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),c=u.width,l=u.height,f=0,h=0;"vertical"===r?(f=o[1],h=o[0],o[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+l/2,1])):(f=o[0],h=o[1],o[0]=f+s.width+t,e.setMatrix([1,0,0,0,1,0,f+c/2,0,1])),o[0]>d.max&&(d.max=o[0])});var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var g=f-p,v="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach(function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=v:t[6]+=v,e.setMatrix(t)})}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort(function(e,t){return e.order-t.order}),e.nodes.forEach(function(e){var n,r,i,o,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(i=e.style)||void 0===i?void 0:i.height)||(null===(o=e.style)||void 0===o?void 0:o.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||Object(x.uniqueId)(),type:e.type||"circle",style:Qh({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:Qh({fontFamily:"Arial"},u)}})})),e.edges&&(e.edges.sort(function(e,t){return e.order-t.order}),e.edges.forEach(function(e){var n,r,i=e.type||"line";"cubic-horizontal"===e.type&&(i="cubic");var o=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||Object(x.uniqueId)(),type:i,size:a,style:Qh({lineWidth:Object(x.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:Qh({fontFamily:"Arial"},o)}})})),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if(Object(x.isNumber)(t))this.set(e,[t,t,t,t]);else if(Object(x.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&(Object(x.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):Object(x.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return Qh(Qh({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Kl)};Ts("circle",{options:{size:Ds.defaultNode.size,style:{x:0,y:0,stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=Object(x.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=o.width,c=o.height,l=o.show,f=o.text;if(l){var d="".concat(this.type,"-icon");t.shapeMap[d]=f?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)({x:-u/2,y:-c/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=Object(b.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e)[0]/2;if(o){var d="link-point-left";t.shapeMap[d]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:-f,y:0,r:u/2||c||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:f,y:0,r:u/2||c||5}),className:h,name:h,isAnchorPoint:!0})}if(i){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:-f,r:u/2||c||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";t.shapeMap[g]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:f,r:u/2||c||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.deepMix)({},t,n),i=this.getSize(e)[0]/2;return Object(b.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getSize(e),o=Object(b.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(o.stroke=e.color),void 0!==e.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(e,t,o,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Ts("rect",{options:{size:[100,30],style:{radius:0,stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=Object(b.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return Object(b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a=t.get("keyShape");e.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=Object(x.mix)({},i,a.attr(),s);u=Object(x.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),Ts("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=Object(b.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0]/2,h=f[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:-d,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:d,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:-h,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:h,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getSize(e),o=i[0]/2,a=i[1]/2;return Object(b.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a={stroke:e.color,rx:o[0]/2,ry:o[1]/2},s=t.get("keyShape"),u=Object(x.mix)({},i,s.attr(),a);u=Object(x.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Ts("diamond",{options:{size:[80,80],style:{stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=Object(b.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getPath(e);return Object(b.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=Object(x.mix)({},i,s.attr(),a);u=Object(x.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Ts("triangle",{options:{size:40,direction:"up",style:{stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(e),s=e.direction||o,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=i.width,l=i.height,f=i.show,d=i.offset,h=i.text;if(f)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-c/2,g=-l/2;"up"!==s&&"down"!==s||(g+=d),"left"!==s&&"right"!==s||(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:Object(b.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=e.direction||o,s=i.top,u=i.left,c=i.right,l=i.bottom,f=i.size,d=i.r,h=Object(b.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?g=[-m,v]:"down"===a?g=[-m,-v]:"left"===a&&(g=[-m,m-v]),g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},h),{x:g[0],y:g[1],r:f/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var y=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,v]:"down"===a?y=[m,-v]:"right"===a&&(y=[m,m-v]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},h),{x:y[0],y:y[1],r:f/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var x=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?x=[m-v,-v]:"left"===a?x=[m,-v]:"right"===a&&(x=[-m,-v]),x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},h),{x:x[0],y:x[1],r:f/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(l){var _=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?_=[-m+v,v]:"left"===a?_=[m,v]:"right"===a&&(_=[-m,v]),_&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},h),{x:_[0],y:_[1],r:f/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getPath(e);return Object(b.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=Object(x.mix)({},i,s.attr(),a);u=Object(x.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=e.direction||i,a=t.shapeMap["link-point-left"]||t.find(function(e){return"link-point-left"===e.get("className")}),s=t.shapeMap["link-point-right"]||t.find(function(e){return"link-point-right"===e.get("className")}),u=t.shapeMap["link-point-top"]||t.find(function(e){return"link-point-top"===e.get("className")}),c=t.shapeMap["link-point-bottom"]||t.find(function(e){return"link-point-bottom"===e.get("className")}),l=r,f=a||s||u||c;f&&(l=f.attr());var d=Object(x.mix)({},l,e.linkPoints),h=d.fill,p=d.stroke,g=d.lineWidth,v=d.size/2;v||(v=d.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,_=m.right,w=m.top,E=m.bottom,S=this.getSize(e)[0],O={r:v,fill:h,stroke:p,lineWidth:g},k=null,M=S*Math.sin(1/3*Math.PI),C=S*Math.sin(1/3*Math.PI);"up"===o?k=[-C,M]:"down"===o?k=[-C,-M]:"left"===o&&(k=[-C,C-M]),k&&(a?y||void 0===y?a.attr(Object(b.__assign)(Object(b.__assign)({},O),{x:k[0],y:k[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},O),{x:k[0],y:k[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var A=null;"up"===o?A=[C,M]:"down"===o?A=[C,-M]:"right"===o&&(A=[C,C-M]),A&&(s?_||void 0===_?s.attr(Object(b.__assign)(Object(b.__assign)({},O),{x:A[0],y:A[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):_&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},O),{x:A[0],y:A[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var j=null;"up"===o?j=[C-M,-M]:"left"===o?j=[C,-M]:"right"===o&&(j=[-C,-M]),j&&(u?w||void 0===w?u.attr(Object(b.__assign)(Object(b.__assign)({},O),{x:j[0],y:j[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):w&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},O),{x:j[0],y:j[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var T=null;"down"===o?T=[-C+M,M]:"left"===o?T=[C,M]:"right"===o&&(T=[-C,M]),T&&(c?E||void 0===E?c.attr(Object(b.__assign)(Object(b.__assign)({},O),{x:T[0],y:T[1]})):(c.remove(),delete t.shapeMap["link-point-bottom"]):E&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},O),{x:T[0],y:T[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Ts("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ds.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Ds.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Ds.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=this.getSize(e),a=o[0],s=o[1],u=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=r.show,l=Object(b.__rest)(r,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:Object(b.__assign)({x:-a/2,y:-s/2,height:s},l),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=Object(b.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=l?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:s||-i/2+o+c,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=Object(b.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=l?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:s||i/2-o+c,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=Object(b.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e)[0],l=null,f=a.show,d=a.width,h=-c/2+i.offset;f&&(h=-c/2+d+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return Object(x.isString)(e.description)?(l=t.addShape("text",{attrs:Object(b.__assign)(Object(b.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l,t.shapeMap["rect-description"]=t.addShape("text",{attrs:Object(b.__assign)(Object(b.__assign)({},g),{x:h,y:17+(v||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(l=t.addShape("text",{attrs:Object(b.__assign)(Object(b.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l),l},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return Object(b.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e),l=c[0],f=c[1];t.get("keyShape").attr(Object(b.__assign)(Object(b.__assign)({},i),{x:-l/2,y:-f/2,width:l,height:f}));var d=t.getContainer(),h=d.shapeMap["rect-logo-icon"]||d.find(function(e){return"rect-logo-icon"===e.get("className")}),p=h?h.attr():{},g=Object(x.mix)({},p,e.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,_=-l/2+v+y;m||void 0===m||(_=-l/2+y);var w=d.shapeMap["node-label"]||d.find(function(e){return"node-label"===e.get("className")}),E=d.shapeMap["rect-description"]||d.find(function(e){return"rect-description"===e.get("className")});if(e.label)if(w){var S=e.labelCfg?e.labelCfg.style:{},O=Object(x.mix)({},w.attr(),S);e.label&&(O.text=e.label),O.x=_,Object(x.isString)(e.description)&&(O.y=-5),E&&(E.resetMatrix(),E.attr({x:_})),w.resetMatrix(),w.attr(O)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:Object(b.__assign)(Object(b.__assign)({},a.style),{x:_,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if(Object(x.isString)(e.description)){var k=u.paddingTop;if(E){S=e.descriptionCfg?e.descriptionCfg.style:{};var M=Object(x.mix)({},E.attr(),S);Object(x.isString)(e.description)&&(M.text=e.description),M.x=_,E.resetMatrix(),E.attr(Object(b.__assign)(Object(b.__assign)({},M),{y:17+(k||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:Object(b.__assign)(Object(b.__assign)({},u.style),{x:_,y:17+(k||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var C=d.shapeMap["pre-rect"]||d.find(function(e){return"pre-rect"===e.get("className")});if(C&&!C.destroyed){var A=Object(x.mix)({},C.attr(),e.preRect);C.attr(Object(b.__assign)(Object(b.__assign)({},A),{x:-l/2,y:-f/2,height:f}))}if(h&&!h.destroyed)if(m||void 0===m){var j=g.width,T=g.height,I=g.x,N=g.y,P=g.offset,D=Object(b.__rest)(g,["width","height","x","y","offset"]);h.attr(Object(b.__assign)(Object(b.__assign)({},D),{x:I||-l/2+j+P,y:N||-T/2,width:j,height:T}))}else h.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,d);var L=d.shapeMap["rect-state-icon"]||d.find(function(e){return"rect-state-icon"===e.get("className")}),R=L?L.attr():{},B=Object(x.mix)({},R,e.stateIcon);if(L){B.show||void 0===B.show||(L.remove(),delete d.shapeMap["rect-state-icon"]);var F=B.width,z=(T=B.height,I=B.x,N=B.y,B.offset),G=Object(b.__rest)(B,["width","height","x","y","offset"]);L.attr(Object(b.__assign)(Object(b.__assign)({},G),{x:I||l/2-F+z,y:N||-T/2,width:F,height:T}))}else B.show&&this.drawStateIcon(e,d);this.updateLinkPoints(e,d)}},"single-node"),Ts("star",{options:{size:60,style:{stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,c=r.size,l=r.r,f=Object(b.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right",name:"link-point-right"})}if(i){h=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-top",name:"link-point-top"})}if(o){h=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*t,s=Math.sin((18+72*o)/180*Math.PI)*t,u=Math.cos((54+72*o)/180*Math.PI)*r,c=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-c])}return i.push(["Z"]),i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=Object(x.mix)({},t,n),i=this.getPath(e);return Object(b.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=Object(x.mix)({},i,s.attr(),a);u=Object(x.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find(function(e){return"link-point-left"===e.get("className")}),i=t.shapeMap["link-point-right"]||t.find(function(e){return"link-point-right"===e.get("className")}),o=t.shapeMap["link-point-top"]||t.find(function(e){return"link-point-top"===e.get("className")}),a=t.shapeMap["link-point-left-bottom"]||t.find(function(e){return"link-point-left-bottom"===e.get("className")}),s=t.shapeMap["link-point-left-bottom"]||t.find(function(e){return"link-point-right-bottom"===e.get("className")}),u=n,c=r||i||o||a||s;c&&(u=c.attr());var l=Object(x.mix)({},u,e.linkPoints),f=l.fill,d=l.stroke,h=l.lineWidth,p=l.size/2;p||(p=l.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,m=g.right,y=g.top,_=g.leftBottom,w=g.rightBottom,E=this.getSize(e)[0],S={r:p,fill:f,stroke:d,lineWidth:h},O=Math.cos(.1*Math.PI)*E,k=Math.sin(.1*Math.PI)*E;i?m||void 0===m?i.attr(Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k})):(i.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),O=Math.cos(.5*Math.PI)*E,k=Math.sin(.5*Math.PI)*E,o?y||void 0===y?o.attr(Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k})):(o.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),O=Math.cos(.9*Math.PI)*E,k=Math.sin(.9*Math.PI)*E,r?v||void 0===v?r.attr(Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k})):(r.remove(),delete t.shapeMap["link-point-left"]):v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),O=Math.cos(1.3*Math.PI)*E,k=Math.sin(1.3*Math.PI)*E,a?_||void 0===_?a.attr(Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):_&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),O=Math.cos(1.7*Math.PI)*E,k=Math.sin(1.7*Math.PI)*E,s?w||void 0===w?s.attr(Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k})):(s.remove(),delete t.shapeMap["link-point-right-bottom"]):w&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:Object(b.__assign)(Object(b.__assign)({},S),{x:O,y:-k}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var ep=Cs.defaultSubjectColors;Ts("donut",{options:{size:Ds.defaultNode.size,style:{x:0,y:0,stroke:Ds.defaultNode.style.stroke,fill:Ds.defaultNode.style.fill,lineWidth:Ds.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ds.nodeLabel.style.fill,fontSize:Ds.nodeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ds.defaultNode.linkPoints.size,lineWidth:Ds.defaultNode.linkPoints.lineWidth,fill:Ds.defaultNode.linkPoints.fill,stroke:Ds.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(b.__assign)({},Ds.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=Object(x.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,c=o.show,l=o.text;c&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:Object(b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:Object(b.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var f=a.attr("r"),d=.6*f,h=(f+d)/2,p=e,g=p.donutAttrs,v=void 0===g?{}:g,m=p.donutColorMap,y=void 0===m?{}:m,_=Object.keys(v).length;if(v&&_>1){var w=[],E=0;if(Object.keys(v).forEach(function(e){var t=v[e]||0;Object(x.isNumber)(t)&&(w.push({key:e,value:t,color:y[e]}),E+=t)}),E){var S=f-d;if(1===_)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:w[0].color||ep[0],lineWidth:S},name:"fan-shape-0",draggable:!0}));var O=[h,0],k=0;w.forEach(function(e,n){var r=e.value/E;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=k,k+=e.angle,e.endAngle=k,e.arcBegin=O,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var i=e.angle>Math.PI?1:0,o=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,i,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:o,lineWidth:S,stroke:e.color||ep[n%ep.length]},name:"fan-shape-".concat(n),draggable:!0}),O=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||ep[n%ep.length],lineWidth:S},name:"fan-shape-".concat(n),draggable:!0})})}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var tp=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},np=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var i=e[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,t.push(i)}return t},rp=function(e){return np(e)},ip=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},op=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var i=e.centerX,o=e.centerY;return n.y<t.y?o=e.minY:n.x>t.x?i=e.maxX:n.x<t.x?i=e.minX:n.x===t.x&&(o=e.maxY),{x:i,y:o}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},ap=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},sp=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},up=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},cp=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},lp=function(e,t,n,r,i){return cp(e,t)+cp(e,n)+function(e,t){var n=0;return t.forEach(function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))}),n}(e,[t,n,r,i])},fp=function e(t,n,r,i,o){void 0===o&&(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},dp=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},hp=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,c=n.y-t.y,l=r.x-t.x,f=r.y-t.y;return(i*s-o*a)*(u*f-c*l)<=0&&(i*c-o*u)*(a*f-s*l)<=0},pp=function(e,t,n){if(n.width||n.height){var r=sp(n),i=r[0],o=r[1],a=r[2],s=r[3];return hp(e,t,i,o)||hp(e,t,i,s)||hp(e,t,o,a)||hp(e,t,a,s)}return!1},gp=function(e,t,n,r){var i=[];return e.forEach(function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if(pp(e,t,n)||pp(e,t,r))return;i.push(e)}}),np(i)},vp=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach(function(r,i){var o=e[i+1],a=e[i+2];if(o&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,o,a)){var s=function(e,t,n,r){var i=cp(e,t),o=cp(n,t);return i<r&&(r=i),o<r&&(r=o),[{x:t.x-r/i*(t.x-e.x),y:t.y-r/i*(t.y-e.y)},{x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)}]}(r,o,a,t),u=s[0],c=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(c.x," ").concat(c.y)),n.push("L".concat(c.x," ").concat(c.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))}),n.join("")},mp=function(e,t,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||tp(e)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=tp(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),c=u.x,l=u.y;(a={x:c,y:l,width:s.width,height:s.height,minX:s.minX+c,maxX:s.maxX+c,minY:s.minY+l,maxY:s.maxY+l}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=tp(t)}else a=r&&r.getBBox();else a=tp(t);var f=ip(o,i),d=ip(a,i),h=op(f,e,t),p=op(d,t,e),g=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach(function(e){t.push(e.x),n.push(e.y)});var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([h,p]),v=ap(f,g),m=ap(d,g),y=[];y=y.concat(sp(v)).concat(sp(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[g,v,m].forEach(function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter(function(e){return up(e,f)&&up(e,d)}))}),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach(function(e){up(e,f)&&up(e,d)&&y.push(e)}),y.unshift(h),y.push(p);var x=function(e,t,n,r,i,o,a){var s=[],u=[t],c={},l={},f={};l[t.id]=0,f[t.id]=lp(t,n,t);var d,h,p={};for(e.forEach(function(e){p[e.id]=e});u.length;){if(d=void 0,h=1/0,u.forEach(function(e){f[e.id]<=h&&(h=f[e.id],d=e)}),d===n){var g=[];return fp(g,p,c,n.id),g}dp(u,d),s.push(d),gp(e,d,r,i).forEach(function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+cp(d,e);l[e.id]&&r>=l[e.id]||(c[e.id]=d.id,l[e.id]=r,f[e.id]=l[e.id]+lp(e,n,t,o,a))}})}return[t,n]}(y=np(y),h,p,o,a,e,t);return x.unshift(e),x.push(t),rp(x)},yp={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,i){return rp(mp(e,t,n,r,i.offset))}},bp=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),xp=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},_p=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},wp=function(e,t,n){for(var r=1/0,i=0,o=t.length;i<o;i++){var a=n(e,t[i]);a<r&&(r=a)}return r},Ep=function(e,t,n,r,i){var o=[];if(!n)return[e];var a=i.directions,s=i.offset,u=n.getBBox(),c=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,l=ip(u,s);for(var f in l)l[f]=bp(l[f],i.gridSize);if(c){for(var d=0,h=a;d<h.length;d++){var p=h[d],g=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]];for(f=0;f<4;f++){var v=g[f],m=Cs.getLineIntersect(e,{x:e.x+p.stepX*l.width,y:e.y+p.stepY*l.height},v[0],v[1]);m&&!pp(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=op(l,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},Sp=function(e,t,n,r){var i=xp(e,t);if(!n[e.id]){var o=xp(r,e);return _p(o,i)}var a=xp({x:n[e.id].x,y:n[e.id].y},e);return _p(a,i)},Op=function(e,t,n,r,i,o,a){var s=[r],u=e.id,c=e.x,l=e.y,f={x:c,y:l,id:u};for(Sp(f,o,t,n)&&s.unshift({x:o.x===r.x?r.x:f.x*a,y:o.y===r.y?r.y:f.y*a});t[u]&&t[u].id!==u;){var d={x:c,y:l,id:u},h=t[u].id,p=t[u].x,g=t[u].y,v={x:p,y:g,id:h};Sp(v,d,t,n)&&s.unshift({x:v.x===d.x?s[0].x:v.x*a,y:v.y===d.y?s[0].y:v.y*a}),u=h,c=p,l=g}var m=c,y=l;return s[0].x=m===n.x?i.x:s[0].x,s[0].y=y===n.y?i.y:s[0].y,s.unshift(i),s},kp=function(e,t,n,r,i){if(isNaN(e.x)||isNaN(t.x))return[];var o=Object(x.deepMix)(yp,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(e,t,n){var r={};return e.forEach(function(e){if(e)for(var i=ip(e.getBBox(),n),o=bp(i.minX,t);o<=bp(i.maxX,t);o+=1)for(var a=bp(i.minY,t);a<=bp(i.maxY,t);a+=1)r["".concat(o,"|||").concat(a)]=!0}),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:bp(e.x,a),y:bp(e.y,a)},c={x:bp(t.x,a),y:bp(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(c.x,"|||").concat(c.y);var l=Ep(u,e,n,c,o),f=Ep(c,t,r,u,o);l.forEach(function(e){delete s[e.id]}),f.forEach(function(e){delete s[e.id]});for(var d={},h={},p={},g={},v={},m=0;m<l.length;m++){var y=l[m];d[y.id]=y,g[y.id]=0,v[y.id]=wp(y,f,o.distFunc)}for(var b,_,w,E,S,O,k,M=o.maximumLoops,C=o.penalties;Object.keys(d).length>0&&M>0&&(b=void 0,_=1/0,Object.keys(d).forEach(function(e){var t=d[e].id;v[t]<=_&&(_=v[t],b=d[t])}),b);){if(f.findIndex(function(e){return e.x===b.x&&e.y===b.y})>-1)return Op(b,p,u,t,e,c,a);delete d[b.id],h[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],h[(E={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(k=Sp(b,E,p,u))>o.maxAllowedDirectionChange||s[E.id]||(d[E.id]||(d[E.id]=E),S=o.distFunc(b,E)+(isNaN(C[k])?a:C[k]),O=g[b.id]+S,g[E.id]&&O>=g[E.id]||(p[E.id]=b,g[E.id]=O,v[E.id]=O+wp(E,f,o.distFunc)));M-=1}return o.fallbackRoute(e,t,n,r,o)};Is("polyline",{options:{color:Ds.defaultEdge.color,size:Ds.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ds.defaultEdge.style.stroke,lineAppendWidth:Ds.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ds.edgeLabel.style.fill,fontSize:Ds.edgeLabel.style.fontSize,fontFamily:Ds.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(b.__assign)({},Ds.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=Object(x.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var i=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),s=[i];a&&(s=s.concat(a)),s.push(o);var u=e.sourceNode,c=e.targetNode,l=r.radius,f=this.options.routeCfg,d=Object(x.mix)({},f,e.routeCfg);d.offset=r.offset;var h=this.getPath(s,u,c,l,d);return(Object(x.isArray)(h)&&h.length<=1||Object(x.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(h="M0 0, L0 0"),Object(x.mix)({},Ds.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},i=n.shapeMap["edge-shape"]||n.find(function(e){return"edge-shape"===e.get("className")})||t.getKeyShape(),o=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),c=[a];u&&(c=c.concat(u)),c.push(s);var l=i.attr(),f=Object(x.mix)({},r,l,e.style),d=e.sourceNode,h=e.targetNode,p=f.radius,g=this.options.routeCfg,v=Object(x.mix)({},g,e.routeCfg);v.offset=f.offset;var m=this.getPath(c,d,h,p,v);(Object(x.isArray)(m)&&m.length<=1||Object(x.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),l.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),l.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""});var y=Object(x.mix)(r,i.attr(),{lineWidth:o,path:m},e.style);i&&i.attr(y)}},getPath:function(e,t,n,r,i){var o=i.offset,a=i.simple;if(!o||e.length>2){if(r)return vp(e,r);var s=[];return Object(x.each)(e,function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])}),s}var u=a?mp(e[e.length-1],e[0],n,t,o):kp(e[0],e[e.length-1],t,n,i);return u&&u.length?r?vp(u,r):Cs.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var Mp=Sl.cloneEvent,Cp=Sl.isNaN,Ap=Math.abs,jp=["shift","ctrl","alt","control"],Tp={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!Cp(n)&&!Cp(r)){var i=n-t.x,o=r-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,l=this.scalableRange;c<1&&c>-1&&(c*=a,l*=s),(u.minX<=a+c&&u.minX+i>a+c||u.maxX+c>=0&&u.maxX+c+i<0)&&(i=0),(u.minY<=s+l&&u.minY+o>s+l||u.maxY+l>=0&&u.maxY+l+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=e.originalEvent;if((!t||"touchstart"===e.name||0===t.button)&&("touchstart"===e.name||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(this.origin={x:e.clientX,y:e.clientY},this.dragging=!1,this.enableOptimize)){for(var i=this.graph,o=i.getEdges(),a=0,s=o.length;a<s;a++){var u=o[a].get("group").get("children");u&&u.forEach(function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()})}for(var c=i.getNodes(),l=0,f=c.length;l<f;l++)for(var d=0,h=c[l].getContainer().get("children");d<h.length;d++){var p=h[d];p.get("isKeyShape")||(p.set("ori-visibility",p.get("ori-visibility")||p.get("visible")),p.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=Mp(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(Ap(this.origin.x-e.clientX)+Ap(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(t=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===t?void 0:t.filter(function(e){return"zoom-canvas"===e.type}))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),c=0,l=u.length;c<l;c++){var f=u[c].get("group").get("children");f&&f.forEach(function(e){var t=e.get("ori-visibility");e.set("ori-visibility",void 0),t&&e.show()})}if(i>s)for(var d=r.getNodes(),h=0,p=d.length;h<p;h++)for(var g=0,v=d[h].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape")){var y=m.get("ori-visibility");m.set("ori-visibility",void 0),y&&m.show()}}}this.dragging?(e=Mp(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(jp.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},Ip={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=n.get("id");0===o.filter(function(e){var t=e.get("id");return a===t}).length?this.targets.push(n):o.length>1?o.forEach(function(e){e.hasLocked()||t.targets.push(e)}):this.targets.push(n);var s=[];this.targets.forEach(function(e){var t=e.getModel(),n=t.x,r=t.y,i=t.id;s.push({x:n,y:r,id:i})}),this.set("beforeDragNodes",s),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(e){e.getEdges().forEach(function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())})}),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map(function(n){t.update(n,e)}))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach(function(e){e.getContainer().set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(e){e.getEdges().forEach(function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()})}),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(e){i.before.nodes.push(e)}),this.targets.forEach(function(e){var t=e.getModel(),n=t.x,r=t.y,o=t.id;i.after.nodes.push({x:n,y:r,id:o})}),r.pushStack("update",Object(x.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map(function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)}),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){e.getModel().comboId&&t.updateComboTree(e)}))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=e.item,n=this.graph,r=t.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)n.updateCombos();else if(r){var o=n.findById(r);this.comboActiveState&&n.setItemState(o,this.comboActiveState,!1),this.targets.map(function(e){var t=e.getModel();r!==t.comboId&&n.updateComboTree(e,r)}),n.updateCombo(o)}else this.targets.map(function(e){e.getModel().comboId&&n.updateComboTree(e)});n.emit("dragnodeend",{items:this.targets,targetItem:t})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map(function(t){return n.update(t,e)}):this.targets.map(function(r){return n.update(r,e,t)}))},update:function(e,t,n){var r=this.origin,i=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=t.x-r.x+this.point[o].x,s=t.y-r.y+this.point[o].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:Object(x.debounce)(function(e){var t=e.targets,n=e.graph,r=e.point,i=e.origin,o=e.evt,a=e.updateEdge;e.updateFunc;t.map(function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)})},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=t.get("group"),o=Object(x.deepMix)({},ol.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,c=a.width,l=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:c,height:l,minX:f,minY:d},this.delegateRect=i.addShape("rect",{attrs:Object(b.__assign)({width:c,height:l,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,c=s.minY,l=s.maxX,f=s.maxY;u<n&&(n=u),c<i&&(i=c),l>r&&(r=l),f>o&&(o=f)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},Np={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),c=o.length,l=a.length,f=s.length,d=u.length,h=0;h<c;h++){var p=o[h],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),i&&n.setItemState(p,i,!0)}for(h=0;h<l;h++){var v=a[h];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,r,!1),i&&n.setItemState(v,i,!0)}for(h=0;h<f;h++){var m=s[h];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}for(h=0;h<d;h++){var y=u[h];n.setItemState(y,r,!1),i&&n.setItemState(y,i,!0)}i&&n.setItemState(t,i,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var _=void 0;_=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),i&&n.setItemState(_,i,!1),n.setItemState(_,r,!0),n.setItemState(m,i,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this.get("graph");if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){var n=this.activeState,r=this.inactiveState,i=t.get("autoPaint");t.setAutoPaint(!1);for(var o=t.getNodes()||[],a=t.getCombos()||[],s=t.getEdges()||[],u=t.get("vedges")||[],c=o.length,l=a.length,f=s.length,d=u.length,h=0;h<c;h++){var p=o[h];t.clearItemStates(p,[n,r])}for(h=0;h<l;h++){var g=a[h];t.clearItemStates(g,[n,r])}for(h=0;h<f;h++){var v=s[h];t.clearItemStates(v,[n,r,"deactivate"])}for(h=0;h<d;h++){var m=u[h];t.clearItemStates(m,[n,r,"deactivate"])}t.paint(),t.setAutoPaint(i),t.emit("afteractivaterelations",{item:e.item||this.get("item"),action:"deactivate"})}}},Pp=Math.min,Dp=Math.max,Lp=Math.abs,Rp=["drag","shift","ctrl","alt","control"],Bp={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Rp.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach(function(n){return e.setItemState(n,t,!1)}),r.forEach(function(n){return e.setItemState(n,t,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this.graph,r=this.originPoint,i=this.shouldUpdate,o=this.selectedState,a={x:e.x,y:e.y},s=n.getPointByCanvas(r.x,r.y),u=Pp(a.x,s.x),c=Dp(a.x,s.x),l=Pp(a.y,s.y),f=Dp(a.y,s.y),d=[],h=[];n.getNodes().forEach(function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=u&&t.centerX<=c&&t.centerY>=l&&t.centerY<=f&&i(e,"select")){d.push(e);var r=e.getModel();h.push(r.id),n.setItemState(e,o,!0)}}});var p=[];this.includeEdges&&d.forEach(function(e){e.getOutEdges().forEach(function(e){if(e.isVisible()){var r=e.getModel(),o=r.source,a=r.target;h.includes(o)&&h.includes(a)&&i(e,"select")&&(p.push(e),n.setItemState(e,t.selectedState,!0))}})}),this.selectedEdges=p,this.selectedNodes=d,this.onSelect&&this.onSelect(d,p),n.emit("nodeselectchange",{selectedItems:{nodes:d,edges:p},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:Lp(e.canvasX-t.x),height:Lp(e.canvasY-t.y),x:Pp(e.canvasX,t.x),y:Pp(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Fp=["shift","ctrl","alt","control"],zp={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){return Fp.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior click-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){var r=n.getType(),i=t.graph,o=t.keydown,a=t.multiple,s=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!o||!a){var u=i.findAllByState("node",t.selectedState).concat(i.findAllByState("edge",t.selectedState)).concat(i.findAllByState("combo",t.selectedState));Object(x.each)(u,function(e){e!==n&&i.setItemState(e,t.selectedState,!1)})}if(function(){switch(r){case"node":return t.selectNode;case"edge":return t.selectEdge;case"combo":return t.selectCombo;default:return!1}}())if(n.hasState(t.selectedState)){s.call(t,e)&&i.setItemState(n,t.selectedState,!1);c=i.findAllByState("node",t.selectedState),l=i.findAllByState("edge",t.selectedState),f=i.findAllByState("combo",t.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,edges:l,combos:f},select:!1})}else{s.call(t,e)&&i.setItemState(n,t.selectedState,!0);c=i.findAllByState("node",t.selectedState),l=i.findAllByState("edge",t.selectedState),f=i.findAllByState("combo",t.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:c,edges:l,combos:f},select:!0})}else{var c=i.findAllByState("node",t.selectedState),l=i.findAllByState("edge",t.selectedState),f=i.findAllByState("combo",t.selectedState);i.emit("nodeselectchange",{selectedItems:{nodes:c,edges:l,combos:f},select:!1})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);Object(x.each)(r,function(e){n.setItemState(e,t.selectedState,!1)});var i=n.findAllByState("edge",this.selectedState);Object(x.each)(i,function(e){n.setItemState(e,t.selectedState,!1)});var o=n.findAllByState("combo",this.selectedState);Object(x.each)(o,function(e){n.setItemState(e,t.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Gp=r.transform,Up={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),c=this.get("animateCfg"),l=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:l.x,y:l.y},u,c),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=this.get("sensitivity"),a=n.getZoom(),s=a;s=a*(e.wheelDelta<0?1-.05*o:1/(1-.05*o));var u=this.get("minZoom")||n.get("minZoom"),c=this.get("maxZoom")||n.get("maxZoom");if(s>c?s=c:s<u&&(s=u),this.get("enableOptimize")){var l=this.get("optimizeZoom"),f=this.get("optimized"),d=n.getNodes(),h=n.getEdges(),p=d.length,g=h.length;if(!f){for(var v=0;v<p;v++){if(!(M=d[v]).destroyed)for(var m=(K=M.get("group").get("children")).length,y=0;y<m;y++){(R=K[y]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var b=0;b<g;b++)for(m=(K=(q=h[b]).get("group").get("children")).length,y=0;y<m;y++){(R=K[y]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var _=setTimeout(function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<p;r++){var i=d[r],o=(c=i.get("group").get("children")).length;if(e<l){var a=(v=i.getKeyShape()).get("ori-visibility");v.set("ori-visibility",void 0),a&&v.show()}else for(var s=0;s<o;s++){a=(m=c[s]).get("ori-visibility");m.set("ori-visibility",void 0),!m.get("visible")&&a&&a&&m.show()}}for(var u=0;u<g;u++){var c,f=h[u];o=(c=f.get("group").get("children")).length;if(e<l){var v;a=(v=f.getKeyShape()).get("ori-visibility");v.set("ori-visibility",void 0),a&&v.show()}else for(s=0;s<o;s++){var m;if(!(m=c[s]).get("visible")){a=m.get("ori-visibility");m.set("ori-visibility",void 0),a&&m.show()}}}}},100);this.set("timeout",_)}if(a<=1){var w=void 0,E=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){w=n.findAllByState("node",r.fixState),E=n.findAllByState("edge",r.fixState);for(var S=a/s,O=w.length,k=0;k<O;k++){var M,C=(M=w[k]).getContainer(),A=M.getModel(),j=M.getOriginStyle(),T=M.getStateStyle(r.fixState),I=M.get("shapeFactory").getShape(A.type).getStateStyle(r.fixState,M)[r.fixState];if(r.fixAll){if(s<=1){var N=Object(x.clone)(C.getMatrix());N||(N=[1,0,0,0,1,0,0,0,1]);var P=M.getModel(),D=P.x,L=P.y;N=Gp(N,[["t",-D,-L],["s",S,S],["t",D,L]]),C.setMatrix(N)}}else for(m=(K=C.get("children")).length,y=0;y<m;y++){var R=K[y],B=void 0,F=void 0;if(r.fixLabel)if("text"===R.get("type")){B=R.attr("fontSize")||12;var z=T[R.get("name")],G=I[R.get("name")],U=z?z.fontSize:12,V=G?G.fontSize:12,W=U||V||12;if(s<=1&&R.attr("fontSize",W/s),F)break}if(r.fixLineWidth&&R.get("isKeyShape")){F=R.attr("lineWidth")||0;var Y=T.lineWidth||I.lineWidth||j.lineWidth||0;if(s<=1&&R.attr("lineWidth",Y/s),B)break}}}for(var X=E.length,H=0;H<X;H++){var q,K=(C=(q=E[H]).getContainer()).get("children");for(A=q.getModel(),T=q.getStateStyle(r.fixState),I=q.get("shapeFactory").getShape(A.type).getStateStyle(r.fixState,q)[r.fixState],m=K.length,y=0;y<m;y++){R=K[y],B=void 0,F=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){B=R.attr("fontSize")||12;z=T[R.get("name")],G=I[R.get("name")],U=z?z.fontSize:12,V=G?G.fontSize:12,W=U||V||12;if(s<=1&&R.attr("fontSize",W/s),F)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){F=R.attr("lineWidth")||0;Y=T.lineWidth||I.lineWidth||1;if(s<=1&&R.attr("lineWidth",Y/s),B)break}}}}}var Z=this.get("animate"),Q=this.get("animateCfg");n.zoomTo(s,{x:i.x,y:i.y},Z,Q),n.emit("wheelzoom",e)}}},Vp={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,ul(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){ul(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this.width,r=this.height,i=this.container,o=this.graph;if(t(e)){var a=o.getPointByClient(e.clientX,e.clientY),s=o.getCanvasByPoint(a.x,a.y),u=s.x,c=s.y,l=i.getBoundingClientRect();u>n/2?u-=l.width:u+=this.offset,c>r/2?c-=l.height:c+=this.offset;var f="".concat(u,"px"),d="".concat(c,"px");ul(this.container,{left:f,top:d,visibility:"visible"})}else ul(i,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=sl('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),ul(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},Wp=Object(b.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Vp),Yp=Object(b.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Vp),Xp=["click","dblclick"],Hp={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var e,t;return Xp.includes(this.trigger)?t=this.trigger:(t="click",console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(e,i)&&(n.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:e.item,collapsed:i}),this.shouldUpdate(e,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},qp=Sl.calculationItemsBBox,Kp={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id");0===i.filter(function(e){var t=e.get("id");return o===t}).length?this.targets.push(r):this.targets=i;var a=[];this.targets.forEach(function(e){var t=e.getModel(),n=t.x,r=t.y,i=t.id;a.push({x:n,y:r,id:i})}),this.set("beforeDragItems",a),this.activeState&&this.targets.map(function(e){var r=e.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;Object(x.each)(r,function(t){e(t,n)})}}(r,function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,c=a.width;o.filter(function(e){var n=e.getModel();return i.parentId,n.id!==i.id&&!t.currentItemChildCombos.includes(n.id)}).map(function(e){var r=e.getBBox(),i=r.centerX,o=r.centerY,a=r.width,l=s-i,f=u-o,d=2*Math.sqrt(l*l+f*f);c+a-d>.8*c?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)})}Object(x.each)(this.targets,function(n){t.updateCombo(n,e)})}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(console.log("updatePositions",this.targets),Object(x.each)(this.targets,function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map(function(e){e.getModel().parentId!==i.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,i.id,!1)):r.updateCombo(n)}),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map(function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(o=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r,!1))})}else this.targets.map(function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e,void 0,!1)});this.endComparison=!0,this.end(o,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;if(e&&this.activeState&&r.setItemState(e,this.activeState,!1),!e){var i=r.get("enabledStack")&&this.enableStack,o={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(e){if(n.onlyChangeComboSize){r.updateCombo(e);var t=e.getModel(),a=t.x,s=t.y,u=t.id;o.after.combos.push({x:a,y:s,id:u}),r.pushStack("update",o)}else r.updateComboTree(e,void 0,i)})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t,n){var r=this;if(void 0===n&&(n={}),!1!==t(e,n)&&e){var i=e.get("combos");Object(x.each)(i,function(e){r.traverse(e,t,n)});var o=e.get("nodes");Object(x.each)(o,function(e){r.traverse(e,t,n)})}},updateCombo:function(e,t,n){this.updateSingleItem(e,t,n);var r={};this.traverse(e,function(e,t){return!e.destroyed&&(e.getEdges().forEach(function(e){return t[e.getID()]=e}),!0)},r),Object.values(r).forEach(function(e){return e.refresh()})},updateSingleItem:function(e,t,n){var r=this.origin,i=this.graph,o=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;console.log("restore",n),n&&(s+=r.x-t.x,u+=r.y-t.y),i.updateItem(e,{x:s,y:u},!1)},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=t.get("delegateGroup"),o=null,a=(o=this.targets.length>1?qp(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,c=o.height,l=o.minX,f=o.minY;this.originPoint={x:a,y:s,width:u,height:c,minX:l,minY:f};var d=Object(b.__assign)(Object(b.__assign)({},ol.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:Object(b.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},Zp=["click","dblclick"],Qp={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var e,t;return Zp.includes(this.trigger)?t=this.trigger:(t="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var i=t.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},$p=Sl.isPolygonsIntersect,Jp=Sl.pathToPoints,eg=["drag","shift","ctrl","alt","control"],tg=["click","drag"],ng=["shift","ctrl","control","alt","meta",void 0],rg=["shift","ctrl","alt","control"],ig=["shift","ctrl","alt","control","meta"],og={"drag-canvas":Tp,"zoom-canvas":Up,"drag-node":Ip,"activate-relations":Np,"brush-select":Bp,"click-select":zp,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return eg.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){void 0===e&&(e="canvas:click");var t=this.graph,n=this.selectedState,r=this.shouldDeselect,i=t.findAllByState("node",n),o=t.findAllByState("edge",n);r&&!r({action:e,nodes:i,edges:o})||(i.forEach(function(e){return t.setItemState(e,n,!1)}),o.forEach(function(e){return t.setItemState(e,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map(function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]}),i=this.selectedState,o=[],a=[];t.getNodes().forEach(function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=Jp(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return $p(t,n)}(e,r)&&n(e,"select")){o.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,i,!0)}});var s=[];this.includeEdges&&o.forEach(function(r){r.getOutEdges().forEach(function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}})}),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),t.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:Object(b.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:Wp,"edge-tooltip":Yp,"collapse-expand":Hp,"drag-combo":Kp,"collapse-expand-combo":Qp,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e;return tg.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),this.key&&-1===ng.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===this.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){if(!this.key||this.keydown){var t=e.item;t&&t.getID()!==this.source&&"node"===t.getType()||this.cancelCreating({item:this.edge,x:e.x,y:e.y})}},onClick:function(e){if(!this.key||this.keydown){var t=e.item,n=this.graph,r=t.getModel(),i=this.getEdgeConfig;if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,e))return;var o=void 0;o=i&&Object(x.isFunction)(i)?i({source:this.source,target:r.id}):this.edgeConfig;var a=Object(b.__assign)({target:r.id},o);if(this.source===r.id&&(a.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(this.edge,a,!1),n.get("enabledStack")){var s=Object(b.__assign)(Object(b.__assign)({},this.edge.getModel()),{itemType:"edge"}),u={};u.edges=[s],n.pushStack("add",{before:{},after:u})}n.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,e))return;o=void 0;o=i&&Object(x.isFunction)(i)?i({source:r.id,target:r.id}):this.edgeConfig,this.edge=n.addItem("edge",Object(b.__assign)({source:r.id,target:r.id},o),!1),this.source=r.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){if(!this.key||this.keydown){this.edge&&this.edge.destroyed&&this.cancelCreating({item:this.edge});var t={x:e.x,y:e.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:t},!1):this.addingEdge=!1}},cancelCreating:function(e){var t,n;if(!this.key||this.keydown){var r=this.graph,i=e.item;return this.addingEdge&&(this.edge===i||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(this.edge&&!this.edge.destroyed&&r.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return rg.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},"scroll-canvas":{getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==ig.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];if(r.includes("control")&&r.push("ctrl"),r.some(function(t){return e["".concat(t,"Key")]})){var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=n.getZoom();e.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),c=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,d=this.scalableRange;f<1&&f>-1&&(f*=u,d*=c);var h=l.minX,p=l.maxX,g=l.minY,v=l.maxY;a>0?p<-f?a=0:p-a<-f&&(a=p+f):a<0&&(h>u+f?a=0:h-a>u+f&&(a=h-(u+f))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>c+d?s=0:g-s>c+d&&(s=g-(c+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),_=b.length,w=x.length;if(!y){for(var E=0;E<_;E++){var S=b[E];if(!S.destroyed)for(var O=(C=S.get("group").get("children")).length,k=0;k<O;k++){(A=C[k]).destoryed||A.get("isKeyShape")||(A.set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide())}}for(var M=0;M<w;M++){var C;for(O=(C=x[M].get("group").get("children")).length,k=0;k<O;k++){var A;(A=C[k]).set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var j=setTimeout(function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<_;r++){var i=b[r],o=(c=i.get("group").get("children")).length;if(e<m)(s=(l=i.getKeyShape()).get("ori-visibility"))&&l.show();else for(var a=0;a<o;a++){var s=(d=c[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<w;u++){var c,l,f=x[u];o=(c=f.get("group").get("children")).length;if(e<m)(s=(l=f.getKeyShape()).get("ori-visibility"))&&l.show();else for(a=0;a<o;a++){var d;if(!(d=c[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}},100);this.set("timeout",j)}}}};Object(x.each)(og,function(e,t){Ps(t,e)});var ag=Object(b.__assign)(Object(b.__assign)({},i),Ls),sg=Jh.Fisheye,ug=Jh.TimeBar,cg=Jh.ImageMinimap,lg=Jh.EdgeFilterLens,fg=Jh.SnapLine,dg={version:ol.version,Graph:Yl,TreeGraph:ql,Util:Sl,Layout:dl.Layouts,TreeLayout:kl,registerLayout:function(e,t){t.isCustomLayout=!0,dl.Layouts[e]=Object(dl.registerLayout)(e,t)},Global:ol,registerBehavior:Ps,registerCombo:Ns,registerEdge:Is,registerNode:Ts,Minimap:Jh.Minimap,Grid:Jh.Grid,Bundling:Jh.Bundling,Menu:Jh.Menu,ToolBar:Jh.ToolBar,Tooltip:Jh.Tooltip,Legend:Jh.Legend,TimeBar:ug,SnapLine:fg,Fisheye:sg,ImageMinimap:cg,EdgeFilterLens:lg,Algorithm:ag,Arrow:Es,Marker:Ss,Shape:Os};dg.version="4.6.18";t.a=dg},function(e,t,n){"use strict";n.r(t),n.d(t,"create",function(){return i}),n.d(t,"clone",function(){return o}),n.d(t,"length",function(){return a}),n.d(t,"fromValues",function(){return s}),n.d(t,"copy",function(){return u}),n.d(t,"set",function(){return c}),n.d(t,"add",function(){return l}),n.d(t,"subtract",function(){return f}),n.d(t,"multiply",function(){return d}),n.d(t,"divide",function(){return h}),n.d(t,"ceil",function(){return p}),n.d(t,"floor",function(){return g}),n.d(t,"min",function(){return v}),n.d(t,"max",function(){return m}),n.d(t,"round",function(){return y}),n.d(t,"scale",function(){return b}),n.d(t,"scaleAndAdd",function(){return x}),n.d(t,"distance",function(){return _}),n.d(t,"squaredDistance",function(){return w}),n.d(t,"squaredLength",function(){return E}),n.d(t,"negate",function(){return S}),n.d(t,"inverse",function(){return O}),n.d(t,"normalize",function(){return k}),n.d(t,"dot",function(){return M}),n.d(t,"cross",function(){return C}),n.d(t,"lerp",function(){return A}),n.d(t,"hermite",function(){return j}),n.d(t,"bezier",function(){return T}),n.d(t,"random",function(){return I}),n.d(t,"transformMat4",function(){return N}),n.d(t,"transformMat3",function(){return P}),n.d(t,"transformQuat",function(){return D}),n.d(t,"rotateX",function(){return L}),n.d(t,"rotateY",function(){return R}),n.d(t,"rotateZ",function(){return B}),n.d(t,"angle",function(){return F}),n.d(t,"zero",function(){return z}),n.d(t,"str",function(){return G}),n.d(t,"exactEquals",function(){return U}),n.d(t,"equals",function(){return V}),n.d(t,"sub",function(){return W}),n.d(t,"mul",function(){return Y}),n.d(t,"div",function(){return X}),n.d(t,"dist",function(){return H}),n.d(t,"sqrDist",function(){return q}),n.d(t,"len",function(){return K}),n.d(t,"sqrLen",function(){return Z}),n.d(t,"forEach",function(){return Q});var r=n(8);function i(){var e=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.ARRAY_TYPE(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function p(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function g(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function v(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function m(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function y(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function b(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function w(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function E(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function O(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function k(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function M(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function C(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function A(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function j(e,t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return e[0]=t[0]*s+n[0]*u+r[0]*c+i[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+i[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+i[2]*l,e}function T(e,t,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,d=u*o;return e[0]=t[0]*c+n[0]*l+r[0]*f+i[0]*d,e[1]=t[1]*c+n[1]*l+r[1]*f+i[1]*d,e[2]=t[2]*c+n[2]*l+r[2]*f+i[2]*d,e}function I(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=i*t,e}function N(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function P(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function D(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-r*c,d=r*u-i*s,h=i*d-o*f,p=o*l-r*d,g=r*f-i*l,v=2*a;return l*=v,f*=v,d*=v,h*=2,p*=2,g*=2,e[0]=s+l+h,e[1]=u+f+p,e[2]=c+d+g,e}function L(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function R(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function B(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function F(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&M(e,t)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function z(e){return e[0]=0,e[1]=0,e[2]=0,e}function G(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function V(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var W=f,Y=d,X=h,H=_,q=w,K=a,Z=E,Q=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,a),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},function(e,t,n){"use strict";n(169);var r,i,o,a,s,u=n(6),c=n(222),l=n.n(c),f=n(34),d=n(13),h=n.n(d),p=n(7),g=n.n(p),v=n(9),m=n.n(v),y=n(14),b=n.n(y),x=(n(37),n(15)),_=n(43),w=(r=Object(u.injectable)(),i=Object(u.inject)(x.a.RenderEngine),r((a=function(){function e(){g()(this,e),h()(this,"engine",s,this),this.resourcePool={}}return m()(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:_.a.CLAMP_TO_EDGE,wrapT:_.a.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),s=b()(a.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=a))||o),E=n(110),S=n(112),O=n(97),k=n(98),M=n(99),C=n(100),A=n(101),j=n(102),T=n(82),I=n(73),N=n(63),P=n(104),D=n(105),L=n(29),R=n.n(L),B=n(30),F=n.n(B),z=n(22),G=n.n(z);function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var i=G()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F()(this,n)}}var V=function(e){R()(n,e);var t=U(n);function n(e){var r;return g()(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(f.a),W=n(106),Y=n(107),X=n(108),H=n(109),q=n(111);n.d(t,"a",function(){return Z});var K=new u.Container;l()(K,!1);function Z(){var e=new u.Container;return e.parent=K,e.bind(x.a.Systems).to(W.a).inSingletonScope().whenTargetNamed(x.a.SceneGraphSystem),e.bind(x.a.Systems).to(E.a).inSingletonScope().whenTargetNamed(x.a.FrameGraphSystem),e.bind(x.a.Systems).to(j.a).inSingletonScope().whenTargetNamed(x.a.MeshSystem),e.bind(x.a.Systems).to(O.a).inSingletonScope().whenTargetNamed(x.a.GeometrySystem),e.bind(x.a.Systems).to(M.a).inSingletonScope().whenTargetNamed(x.a.MaterialSystem),e.bind(x.a.Systems).to(P.a).inSingletonScope().whenTargetNamed(x.a.RendererSystem),e.bind(x.a.ResourcePool).to(w).inSingletonScope(),e.bind(x.a.ConfigService).to(X.a).inSingletonScope(),e.bind(x.a.InteractorService).to(H.a).inSingletonScope(),e.bind(x.a.RenderPass).to(N.a).inSingletonScope().whenTargetNamed(N.a.IDENTIFIER),e.bind(x.a.RenderPass).to(T.a).inSingletonScope().whenTargetNamed(T.a.IDENTIFIER),e.bind(x.a.RenderPass).to(I.a).inSingletonScope().whenTargetNamed(I.a.IDENTIFIER),e.bind(x.a.RenderPassFactory).toFactory(function(e){return function(t){return e.container.getNamed(x.a.RenderPass,t)}}),e}K.bind(x.a.ShaderModuleService).to(q.a).inSingletonScope(),K.bind(x.a.NameComponentManager).toConstantValue(new f.b(V)),K.bind(x.a.HierarchyComponentManager).toConstantValue(new f.b(D.a)),K.bind(x.a.TransformComponentManager).toConstantValue(new f.b(Y.a)),K.bind(x.a.MeshComponentManager).toConstantValue(new f.b(A.a)),K.bind(x.a.CullableComponentManager).toConstantValue(new f.b(C.a)),K.bind(x.a.GeometryComponentManager).toConstantValue(new f.b(S.a)),K.bind(x.a.MaterialComponentManager).toConstantValue(new f.b(k.a))},function(e,t,n){"use strict";var r=n(0),i=n(86),o=n(115),a=n(114),s=n(113),u=n(117),c=n(116),l=function(e){return Math.floor(Math.random()*e)},f={},d=function(e){f[e]||(f[e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=l(255),n=l(255),r=l(255);return"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(e,")")}());f[e];return function(){}},h=function(e){return"#"===e.charAt(0)?e.slice(1):e},p=function(e){var t=3===e.length||4===e.length;return{r:t?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:t?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:t?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(t?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"}},g=function(e){return parseInt(e,16)},v=function(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:g(t),g:g(n),b:g(r),a:+(g(i)/255).toFixed(2)}},m=function(e,t){var n,r=e.r,i=e.g,o=e.b,a=e.a,s=(n=t,!isNaN(parseFloat(String(n)))&&isFinite(Number(n))?t:a);return"rgba(".concat(r,", ").concat(i,", ").concat(o,", ").concat(s,")")},y=function(e,t){var n=h(e),r=p(n),i=v(r);return m(i,t)};function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var E=w(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeIds=[],this.bfs=function(e){var t;if(n.root){var r=[];for(r.push(n.root);r.length;){var i=r.shift();if(e(i))return i;(null===(t=null===i||void 0===i?void 0:i.children)||void 0===t?void 0:t.length)&&r.push.apply(r,b(i.children))}}},this.getRoot=function(){return n.root},this.getNode=function(e){return n.bfs(function(t){return t.id===e})},this.addRoot=function(e,t){n.root={id:e,children:[]},n.nodeIds.push(e)},this.addNode=function(e){var t=e.parentId,r=e.id,i=e.data;if(n.root){var o;if(t)o=n.getNode(t);else{var a=Math.floor(Math.random()*n.nodeIds.length);o=n.getNode(n.nodeIds[a])}o?(n.nodeIds.push(r),o.children.push({id:r,parent:o,children:[]})):console.error("Parent node doesn't exist!")}else n.addRoot(r,i)},t&&(this.root=t)}),S=function e(t,n){n(t),t.children&&t.children.length>0&&t.children.forEach(function(t){e(t,n)})};function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A={nodeCount:10,nodeType:"company"},j=C(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initNodes=function(){var e=n.options,t=e.nodeCount,r=e.nodeType,i=Array.from({length:t});n.nodes=i.map(function(e,t){return{id:"node-".concat(t),label:"node-".concat(t),type:r}});for(var o=0;o<t;o+=1)for(var a=0;a<t-1;a+=1)n.edges.push({source:"node-".concat(o),target:"node-".concat(a)});n.nodeIds=n.nodes.map(function(e){return e.id})},this.expand=function(e){return n.edges=[],n.nodes=[],e.forEach(function(e){for(var t=0;t<n.options.nodeCount;t+=1)n.nodes.push({id:"".concat(e.id,"-").concat(t),type:e.type}),n.edges.push({source:"".concat(e.id,"-").concat(t),target:e.id})}),n},this.type=function(e){return n.nodes=n.nodes.map(function(t){return Object.assign(Object.assign({},t),{type:e})}),n},this.circle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1===n.nodeIds.indexOf(e)&&(e="node-0"),n.edges=n.edges.filter(function(t){return t.source===e||t.target===e}),n},this.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=n.options.nodeCount,r=parseInt(String(t*e)),i=n.nodeIds.sort(function(){return Math.random()-.5}).slice(0,r);return n.edges=n.edges.filter(function(e){return-1!==i.indexOf(e.target)}),n.edges=n.edges.sort(function(){return Math.random()-.5}).slice(0,r),n},this.tree=function(){n.edges=[],n.treeData=new E;var e=n.nodeIds[0];return n.nodeIds.forEach(function(e){n.treeData.addNode({id:e,style:{label:{value:e}}})}),n.treeData.bfs(function(t){var r;return t.id!==e&&n.edges.push({source:null===(r=null===t||void 0===t?void 0:t.parent)||void 0===r?void 0:r.id,target:t.id,properties:[]}),!1}),n},this.value=function(){return{nodes:n.nodes,edges:n.edges}},this.combos=function(e){var t=new Set;return n.nodes=n.nodes.map(function(n,r){var i=Math.ceil((r+1)/e),o="combo-".concat(i);return t.add(o),Object.assign(Object.assign({},n),{comboId:o})}),n.combosData=O(t).map(function(e){return{id:e,label:e}}),n},this.graphin=function(){return{nodes:n.nodes.map(function(e){return Object.assign(Object.assign({},e),{id:e.id,type:"graphin-circle",comboId:e.comboId,style:{label:{value:"".concat(e.id)}}})}),edges:n.edges.map(function(e){return{source:e.source,target:e.target}}),combos:n.combosData}},this.graphinTree=function(){var e=n.treeData.getRoot();return S(e,function(e){delete e.parent}),e},this.options=A,this.options.nodeCount=t,this.nodes=[],this.edges=[],this.nodeIds=[],this.treeData=new E,this.initNodes()}),T=function(e){return new j(e)};function I(e){return e%2===0}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{poly:30,loop:10,loopLabelPosition:1},n=t.poly,i=void 0===n?30:n,o=t.loop,a=void 0===o?10:o,s=t.loopLabelPosition,u=void 0===s?1:s,c={};e.forEach(function(e,t){var n=Object.assign({},e),r=n.source,i=n.target,o="".concat(r,"-").concat(i);n.id=n.id||"".concat(r,"-").concat(i,"-").concat(t);var a="".concat(i,"-").concat(r);c[o]?c[o].push(n):c[a]?(n.revert=!0,c[a].push(n)):c[o]=[n]});var l=Object.values(c),f=[];return l.forEach(function(e){if(e.length>1){var t=I(e.length);e.forEach(function(e,n){var o,s,c=e.source===e.target,l=n;if(t){var d=Math.ceil((l+1)/2);s=i*d}else{var h=I(l)?l:l+1,p=Math.ceil(h/2);s=i*p}var g,v=I(l)?s:-s;if(e.revert&&(v=-v,delete e.revert),c){var m=l*a;if(g={type:"loop",loop:{distance:m}},null===(o=e.style)||void 0===o?void 0:o.label){var y=-(30*u+2*m);e.style.label.offset=[0,y]}}else g={type:"poly",poly:{distance:v}};Object(r.deepMix)(e,{style:{keyshape:g}}),e.isMultiple=!0,f.push(e)})}else f.push(e[0])}),f};function P(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e,t){return t.split(".").reduce(function(e,t,n,r){var i=e[t];return i||n===r.length-1?i:{}},e)},R=function(e,t){var n=!0,r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){var a=r[o];if(e[a]!==t[a]){n=!1;break}}return n},B=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};t.a={hexToRgba:y,debug:d,mock:T,shallowEqual:R,hexToRgbaToHex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=h(e),r=p(n),i=v(r),o=i.r,a=i.g,s=i.b,u=o.toString(16),c=a.toString(16),l=s.toString(16),f=Math.round(255*Number(t)).toString(16);return 1===u.length&&(u="0".concat(u)),1===c.length&&(c="0".concat(c)),1===l.length&&(l="0".concat(l)),1===f.length&&(f="0".concat(f)),"#".concat(u).concat(c).concat(l).concat(f)},getNodeStyleByTheme:s.a,getEdgeStyleByTheme:a.a,getComboStyleByTheme:o.a,deepMix:r.deepMix,cloneDeep:c.a,uuid:B,walk:S,processEdges:N,calcByteLength:u.a,layouts:i.b,uniqBy:function(e,t){return e.reduce(function(e,n){return e.some(function(e){return t(n,e)})||e.push(n),e},[])},getEnumDataMap:function(e,t){var n=new Map;return e.forEach(function(e){var r=L(e,t),i=n.get(r);i?n.set(r,[].concat(P(i),[e])):n.set(r,[e])}),n},getEnumValue:L}},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(20),a=n.n(o),s=/-(.)/g;var u=n(1),c=n(23),l=n(11);n.d(t,"a",function(){return d});var f=function(e){return e[0].toUpperCase()+(t=e,t.replace(s,function(e,t){return t.toUpperCase()})).slice(1);var t};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,o=void 0===n?f(e):n,s=t.Component,d=t.defaultProps,h=u.forwardRef(function(t,n){var o=t.className,u=t.bsPrefix,f=t.as,d=void 0===f?s||"div":f,h=Object(i.a)(t,["className","bsPrefix","as"]),p=Object(c.c)(u,e);return Object(l.jsx)(d,Object(r.a)({ref:n,className:a()(o,p)},h))});return h.defaultProps=d,h.displayName=o,h}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(47),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=function(e){var t=e.type,n=e.defaultConfig,r=e.userProps,s=e.mode,u=void 0===s?"default":s,c=i.a.useContext(o.a).graph,l=r.disabled,f=a(r,["disabled"]);i.a.useEffect(function(){if(c.removeBehaviors(t,u),!l)return c.addBehaviors(Object.assign(Object.assign({type:t},n),f),u),function(){c.destroyed||c.removeBehaviors(t,u)}},[])},u={disabled:!1,trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1},c=function(e){return s({type:"activate-relations",userProps:e,defaultConfig:u}),null},l={disabled:!1,brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},f=function(e){return s({type:"brush-select",userProps:e,defaultConfig:l}),null},d={disabled:!1,multiple:!0,trigger:"shift",selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0},h=function(e){return s({type:"click-select",userProps:e,defaultConfig:d}),null},p={direction:"both",enableOptimize:!1,scalableRange:0,shouldBegin:function(){return!0},disabled:!1},g=function(e){return s({type:"drag-canvas",userProps:e,defaultConfig:p}),null},v={disabled:!1,enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"},m=function(e){return s({type:"drag-combo",userProps:e,defaultConfig:v}),null},y={disabled:!1,updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"},b=function(e){return s({type:"drag-node",userProps:e,defaultConfig:y}),null},x=function(e){var t=i.a.useContext(o.a),n=t.graph,a=t.layout,s=t.dragNodes,u=t.updateContext,c=e.autoPin,l=e.dragNodeMass,f=void 0===l?1e10:l,d=a.instance;return Object(r.useEffect)(function(){var e=d.simulation,t=d.type,r=function(){console.log("drag-start",d),e&&e.stop()},i=function(e){if("graphin-force"===t&&e.item){var r=e.item.get("model");r.x=e.x,r.y=e.y,r.layout=Object.assign(Object.assign({},r.layout),{force:{mass:c?f:null}});var i=[];n.getNodes().forEach(function(e){if(e.hasState("selected")){var t=e.get("model");t.layout.force={mass:c?f:null},i.push(t)}});var o=s.concat([r]);i.length>1&&(o=o.concat(i)),u({dragNodes:o})}};return n.on("node:dragstart",r),n.on("node:dragend",i),function(){n.off("node:dragstart",r),n.off("node:dragend",i)}},[n,c,d,s,u]),null},_=function(e){var t=e.padding,n=e.isBindLayoutChange,a=i.a.useContext(o.a).graph;return Object(r.useEffect)(function(){var e=function(){a.fitView(t)};return e(),n&&a.on("afterlayout",e),function(){n&&a.off("afterlayout",e)}},[]),null},w=function(){var e=i.a.useContext(o.a).graph;return i.a.useEffect(function(){var t=setTimeout(function(){e.getNodes().forEach(function(t){e.setItemState(t,"normal",!0)}),e.paint()},1600);return function(){clearTimeout(t)}},[]),null},E=function(e){var t=r.useContext(o.a),n=e.bindType,i=void 0===n?"node":n,a=e.disabled,s=t.graph;return r.useEffect(function(){if(!a){var e=function(e){s.setItemState(e.item,"hover",!0)},t=function(e){s.setItemState(e.item,"hover",!1)},n=function(e){s.setItemState(e.item,"hover",!0)},r=function(e){s.setItemState(e.item,"hover",!1)};return"node"===i&&(s.on("node:mouseenter",e),s.on("node:mouseleave",t)),"edge"===i&&(s.on("edge:mouseenter",n),s.on("edge:mouseleave",r)),function(){"node"===i&&(s.off("node:mouseenter",e),s.off("node:mouseleave",t)),"edge"===i&&(s.off("edge:mouseenter",n),s.off("edge:mouseleave",r))}}},[s,a]),null},S={disabled:!1,delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},O=function(e){return s({type:"lasso-select",userProps:e,defaultConfig:S}),null},k=n(0),M=function(e){var t=e.graphDOM,n=r.useContext(o.a);return r.useEffect(function(){var e=n.graph,r=Object(k.debounce)(function(){var n=t.clientWidth,r=t.clientHeight;e.set("width",n),e.set("height",r);var i=e.get("canvas");i&&(i.changeSize(n,r),e.autoPaint())},200);return window.addEventListener("resize",r,!1),function(){window.removeEventListener("resize",r,!1)}},[]),null},C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},A={trigger:"click"},j=function(e){var t=e.onChange,n=C(e,["onChange"]),i=r.useContext(o.a).graph;return s({defaultConfig:A,userProps:n,type:"collapse-expand"}),r.useEffect(function(){var e=function(e){var n=e.item,r=e.collapsed;n.get("model").collapsed=r,t&&t(n,r)};return i.on("itemcollapsed",e),function(){i.off("itemcollapsed",e)}},[]),null},T={sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},disabled:!1,animate:!1,animateCfg:{duration:500}},I=function(e){return s({type:"zoom-canvas",userProps:e,defaultConfig:T}),null};t.a={DragCanvas:g,ZoomCanvas:I,ClickSelect:h,BrushSelect:f,DragNode:b,ResizeCanvas:M,LassoSelect:O,DragCombo:m,ActivateRelations:c,TreeCollapse:j,FitView:_,FontPaint:w,DragNodeWithForce:x,Hoverable:E}},function(e,t,n){"use strict";var r=n(16),i=n(26),o=n(19),a=n(20),s=n.n(a),u=n(1),c=n(23),l=n(120),f=n(11),d=u.forwardRef(function(e,t){var n=e.bsPrefix,a=e.placement,u=e.className,d=e.style,h=e.children,p=e.arrowProps,g=(e.popper,e.show,Object(o.a)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));n=Object(c.c)(n,"tooltip");var v=Object(c.d)(),m=(null==a?void 0:a.split("-"))||[],y=Object(i.a)(m,1)[0],b=Object(l.a)(y,v);return Object(f.jsxs)("div",Object(r.a)({ref:t,style:d,role:"tooltip","x-placement":y,className:s()(u,n,"bs-tooltip-".concat(b))},g,{children:[Object(f.jsx)("div",Object(r.a)({className:"tooltip-arrow"},p)),Object(f.jsx)("div",{className:"".concat(n,"-inner"),children:h})]}))});d.defaultProps={placement:"right"},d.displayName="Tooltip",t.a=d},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(60),a=n(26);function s(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var u=n(1),c=n.n(u),l=n(119);function f(e){var t=function(e){var t=Object(u.useRef)(e);return t.current=e,t}(e);Object(u.useEffect)(function(){return function(){return t.current()}},[])}var d=Math.pow(2,31)-1;function h(){var e=Object(l.a)(),t=Object(u.useRef)();return f(function(){return clearTimeout(t.current)}),Object(u.useMemo)(function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=d?t.current=setTimeout(r,i):function e(t,n,r){var i=r-Date.now();t.current=i<=d?setTimeout(n,i):setTimeout(function(){return e(t,n,r)},d)}(t,r,Date.now()+i))},clear:n}},[])}var p=n(76),g=n.n(p),v=n(123),m=n(61),y=n(20),b=n.n(y),x=n(62),_=n.n(x),w=n(87);function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=Object.prototype.hasOwnProperty;function k(e,t,n){var r,i=E(e.keys());try{for(i.s();!(r=i.n()).done;)if(M(n=r.value,t))return n}catch(o){i.e(o)}finally{i.f()}}function M(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&M(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var o,a=E(e);try{for(a.s();!(o=a.n()).done;){if((i=r=o.value)&&"object"===typeof i&&!(i=k(t,i)))return!1;if(!t.has(i))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=E(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=k(t,i)))return!1;if(!M(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(O.call(e,n)&&++r&&!O.call(t,n))return!1;if(!(n in t)||!M(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var C=function(e){var t=Object(l.a)();return[e[0],Object(u.useCallback)(function(n){if(t())return e[1](n)},[t,e[1]])]};function A(e){return e.split("-")[0]}function j(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function T(e){return e instanceof j(e).Element||e instanceof Element}function I(e){return e instanceof j(e).HTMLElement||e instanceof HTMLElement}function N(e){return"undefined"!==typeof ShadowRoot&&(e instanceof j(e).ShadowRoot||e instanceof ShadowRoot)}var P=Math.max,D=Math.min,L=Math.round;function R(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function B(){return!/^((?!chrome|android).)*safari/i.test(R())}function F(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&I(e)&&(i=e.offsetWidth>0&&L(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&L(r.height)/e.offsetHeight||1);var a=(T(e)?j(e):window).visualViewport,s=!B()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,l=r.width/i,f=r.height/o;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function z(e){var t=F(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function G(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&N(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(e){return e?(e.nodeName||"").toLowerCase():null}function V(e){return j(e).getComputedStyle(e)}function W(e){return["table","td","th"].indexOf(U(e))>=0}function Y(e){return((T(e)?e.ownerDocument:e.document)||window.document).documentElement}function X(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||(N(e)?e.host:null)||Y(e)}function H(e){return I(e)&&"fixed"!==V(e).position?e.offsetParent:null}function q(e){for(var t=j(e),n=H(e);n&&W(n)&&"static"===V(n).position;)n=H(n);return n&&("html"===U(n)||"body"===U(n)&&"static"===V(n).position)?t:n||function(e){var t=/firefox/i.test(R());if(/Trident/i.test(R())&&I(e)&&"fixed"===V(e).position)return null;var n=X(e);for(N(n)&&(n=n.host);I(n)&&["html","body"].indexOf(U(n))<0;){var r=V(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Z(e,t,n){return P(e,D(t,n))}function Q(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function $(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var J="top",ee="bottom",te="right",ne="left",re="auto",ie=[J,ee,te,ne],oe="start",ae="end",se="clippingParents",ue="viewport",ce="popper",le="reference",fe=ie.reduce(function(e,t){return e.concat([t+"-"+oe,t+"-"+ae])},[]),de=[].concat(ie,[re]).reduce(function(e,t){return e.concat([t,t+"-"+oe,t+"-"+ae])},[]),he=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],pe=function(e,t){return Q("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:$(e,ie))};var ge={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=A(n.placement),u=K(s),c=[ne,te].indexOf(s)>=0?"height":"width";if(o&&a){var l=pe(i.padding,n),f=z(o),d="y"===u?J:ne,h="y"===u?ee:te,p=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],g=a[u]-n.rects.reference[u],v=q(o),m=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,y=p/2-g/2,b=l[d],x=m-f[c]-l[h],_=m/2-f[c]/2+y,w=Z(b,_,x),E=u;n.modifiersData[r]=((t={})[E]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&G(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(e){return e.split("-")[1]}var me={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ye(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=a.x,h=void 0===d?0:d,p=a.y,g=void 0===p?0:p,v="function"===typeof l?l({x:h,y:g}):{x:h,y:g};h=v.x,g=v.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=ne,x=J,_=window;if(c){var w=q(n),E="clientHeight",S="clientWidth";if(w===j(n)&&"static"!==V(w=Y(n)).position&&"absolute"===s&&(E="scrollHeight",S="scrollWidth"),w=w,i===J||(i===ne||i===te)&&o===ae)x=ee,g-=(f&&w===_&&_.visualViewport?_.visualViewport.height:w[E])-r.height,g*=u?1:-1;if(i===ne||(i===J||i===ee)&&o===ae)b=te,h-=(f&&w===_&&_.visualViewport?_.visualViewport.width:w[S])-r.width,h*=u?1:-1}var O,k=Object.assign({position:s},c&&me),M=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:L(t*r)/r||0,y:L(n*r)/r||0}}({x:h,y:g}):{x:h,y:g};return h=M.x,g=M.y,u?Object.assign({},k,((O={})[x]=y?"0":"",O[b]=m?"0":"",O.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",O)):Object.assign({},k,((t={})[x]=y?g+"px":"",t[b]=m?h+"px":"",t.transform="",t))}var be={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,c={placement:A(t.placement),variation:ve(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ye(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ye(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},xe={passive:!0};var _e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=j(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,xe)}),s&&u.addEventListener("resize",n.update,xe),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,xe)}),s&&u.removeEventListener("resize",n.update,xe)}},data:{}},we={left:"right",right:"left",bottom:"top",top:"bottom"};function Ee(e){return e.replace(/left|right|bottom|top/g,function(e){return we[e]})}var Se={start:"end",end:"start"};function Oe(e){return e.replace(/start|end/g,function(e){return Se[e]})}function ke(e){var t=j(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Me(e){return F(Y(e)).left+ke(e).scrollLeft}function Ce(e){var t=V(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ae(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:I(t)&&Ce(t)?t:e(X(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=j(r),a=i?[o].concat(o.visualViewport||[],Ce(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Ae(X(a)))}function je(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Te(e,t,n){return t===ue?je(function(e,t){var n=j(e),r=Y(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var c=B();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+Me(e),y:u}}(e,n)):T(t)?function(e,t){var n=F(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):je(function(e){var t,n=Y(e),r=ke(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=P(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=P(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Me(e),u=-r.scrollTop;return"rtl"===V(i||n).direction&&(s+=P(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(Y(e)))}function Ie(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ae(X(e)),n=["absolute","fixed"].indexOf(V(e).position)>=0&&I(e)?q(e):e;return T(n)?t.filter(function(e){return T(e)&&G(e,n)&&"body"!==U(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(t,n){var i=Te(e,n,r);return t.top=P(i.top,t.top),t.right=D(i.right,t.right),t.bottom=D(i.bottom,t.bottom),t.left=P(i.left,t.left),t},Te(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ne(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?A(i):null,a=i?ve(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case J:t={x:s,y:n.y-r.height};break;case ee:t={x:s,y:n.y+n.height};break;case te:t={x:n.x+n.width,y:u};break;case ne:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?K(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case oe:t[c]=t[c]-(n[l]/2-r[l]/2);break;case ae:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Pe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,u=void 0===s?se:s,c=n.rootBoundary,l=void 0===c?ue:c,f=n.elementContext,d=void 0===f?ce:f,h=n.altBoundary,p=void 0!==h&&h,g=n.padding,v=void 0===g?0:g,m=Q("number"!==typeof v?v:$(v,ie)),y=d===ce?le:ce,b=e.rects.popper,x=e.elements[p?y:d],_=Ie(T(x)?x:x.contextElement||Y(e.elements.popper),u,l,a),w=F(e.elements.reference),E=Ne({reference:w,element:b,strategy:"absolute",placement:i}),S=je(Object.assign({},b,E)),O=d===ce?S:w,k={top:_.top-O.top+m.top,bottom:O.bottom-_.bottom+m.bottom,left:_.left-O.left+m.left,right:O.right-_.right+m.right},M=e.modifiersData.offset;if(d===ce&&M){var C=M[i];Object.keys(k).forEach(function(e){var t=[te,ee].indexOf(e)>=0?1:-1,n=[J,ee].indexOf(e)>=0?"y":"x";k[e]+=C[n]*t})}return k}var De={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,g=n.allowedAutoPlacements,v=t.options.placement,m=A(v),y=u||(m!==v&&p?function(e){if(A(e)===re)return[];var t=Ee(e);return[Oe(e),t,Oe(t)]}(v):[Ee(v)]),b=[v].concat(y).reduce(function(e,n){return e.concat(A(n)===re?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?de:u,l=ve(r),f=l?s?fe:fe.filter(function(e){return ve(e)===l}):ie,d=f.filter(function(e){return c.indexOf(e)>=0});0===d.length&&(d=f);var h=d.reduce(function(t,n){return t[n]=Pe(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[A(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)},[]),x=t.rects.reference,_=t.rects.popper,w=new Map,E=!0,S=b[0],O=0;O<b.length;O++){var k=b[O],M=A(k),C=ve(k)===oe,j=[J,ee].indexOf(M)>=0,T=j?"width":"height",I=Pe(t,{placement:k,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),N=j?C?te:ne:C?ee:J;x[T]>_[T]&&(N=Ee(N));var P=Ee(N),D=[];if(o&&D.push(I[M]<=0),s&&D.push(I[N]<=0,I[P]<=0),D.every(function(e){return e})){S=k,E=!1;break}w.set(k,D)}if(E)for(var L=function(e){var t=b.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},R=p?3:1;R>0&&"break"!==L(R);R--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Le(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Re(e){return[J,te,ee,ne].some(function(t){return e[t]>=0})}var Be={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Pe(t,{elementContext:"reference"}),s=Pe(t,{altBoundary:!0}),u=Le(a,r),c=Le(s,i,o),l=Re(u),f=Re(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}};var Fe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=de.reduce(function(e,n){return e[n]=function(e,t,n){var r=A(e),i=[ne,J].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[ne,te].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e},{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var ze={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ne({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,v=Pe(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),m=A(t.placement),y=ve(t.placement),b=!y,x=K(m),_="x"===x?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,O="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"===typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(o){var j,T="y"===x?J:ne,I="y"===x?ee:te,N="y"===x?"height":"width",L=w[x],R=L+v[T],B=L-v[I],F=h?-S[N]/2:0,G=y===oe?E[N]:S[N],U=y===oe?-S[N]:-E[N],V=t.elements.arrow,W=h&&V?z(V):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=Y[T],H=Y[I],Q=Z(0,E[N],W[N]),$=b?E[N]/2-F-Q-X-k.mainAxis:G-Q-X-k.mainAxis,re=b?-E[N]/2+F+Q+H+k.mainAxis:U+Q+H+k.mainAxis,ie=t.elements.arrow&&q(t.elements.arrow),ae=ie?"y"===x?ie.clientTop||0:ie.clientLeft||0:0,se=null!=(j=null==M?void 0:M[x])?j:0,ue=L+re-se,ce=Z(h?D(R,L+$-se-ae):R,L,h?P(B,ue):B);w[x]=ce,C[x]=ce-L}if(s){var le,fe="x"===x?J:ne,de="x"===x?ee:te,he=w[_],pe="y"===_?"height":"width",ge=he+v[fe],me=he-v[de],ye=-1!==[J,ne].indexOf(m),be=null!=(le=null==M?void 0:M[_])?le:0,xe=ye?ge:he-E[pe]-S[pe]-be+k.altAxis,_e=ye?he+E[pe]+S[pe]-be-k.altAxis:me,we=h&&ye?function(e,t,n){var r=Z(e,t,n);return r>n?n:r}(xe,he,_e):Z(h?xe:ge,he,h?_e:me);w[_]=we,C[_]=we-he}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Ue(e,t,n){void 0===n&&(n=!1);var r=I(t),i=I(t)&&function(e){var t=e.getBoundingClientRect(),n=L(t.width)/e.offsetWidth||1,r=L(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Y(t),a=F(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==U(t)||Ce(o))&&(s=function(e){return e!==j(e)&&I(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ke(e);var t}(t)),I(t)?((u=F(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=Me(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Ve(e){var t=new Map,n=new Set,r=[];return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}}),r.push(i)}(e)}),r}function We(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Ye={placement:"bottom",modifiers:[],strategy:"absolute"};function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function He(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Ye:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ye,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:T(e)?Ae(e):e.contextElement?Ae(e.contextElement):[],popper:Ae(t)};var l=function(e){var t=Ve(e);return he.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter(function(e){return e.enabled}),i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r});a.push(s||function(){})}}),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Xe(t,n)){i.rects={reference:Ue(t,q(n),"fixed"===i.options.strategy),popper:z(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,f=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:We(function(){return new Promise(function(e){u.forceUpdate(),e(i)})}),destroy:function(){c(),s=!0}};if(!Xe(e,t))return u;function c(){a.forEach(function(e){return e()}),a=[]}return u.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var qe=He({defaultModifiers:[Be,ze,be,_e,Fe,De,Ge,ge]}),Ke=["enabled","placement","strategy","modifiers"];var Ze={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},Qe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==r.id});i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var a=i.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",a?"".concat(a,",").concat(r.id):r.id)}}},$e=[];var Je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enabled,i=void 0===r||r,s=n.placement,c=void 0===s?"bottom":s,l=n.strategy,f=void 0===l?"absolute":l,d=n.modifiers,h=void 0===d?$e:d,p=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,Ke),g=Object(u.useRef)(h),v=Object(u.useRef)(),m=Object(u.useCallback)(function(){var e;null==(e=v.current)||e.update()},[]),y=Object(u.useCallback)(function(){var e;null==(e=v.current)||e.forceUpdate()},[]),b=C(Object(u.useState)({placement:c,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),x=Object(a.a)(b,2),_=x[0],w=x[1],E=Object(u.useMemo)(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach(function(e){n[e]=t.styles[e],r[e]=t.attributes[e]}),w({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}},[m,y,w]),S=Object(u.useMemo)(function(){return M(g.current,h)||(g.current=h),g.current},[h]);return Object(u.useEffect)(function(){v.current&&i&&v.current.setOptions({placement:c,strategy:f,modifiers:[].concat(Object(o.a)(S),[E,Ze])})},[f,c,E,i,S]),Object(u.useEffect)(function(){if(i&&null!=e&&null!=t)return v.current=qe(e,t,Object.assign({},p,{placement:c,strategy:f,modifiers:[].concat(Object(o.a)(S),[Qe,E])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w(function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})}))}},[i,e,t]),_},et=n(79),tt=!1,nt=!1;try{var rt={get passive(){return tt=!0},get once(){return nt=tt=!0}};et.a&&(window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,!0))}catch(hn){}var it=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!nt){var i=r.once,o=r.capture,a=n;!nt&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,tt?r:o)}e.addEventListener(t,n,r)};var ot=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var at=function(e,t,n,r){return it(e,t,n,r),function(){ot(e,t,n,r)}},st=n(69),ut=n(59),ct=function(){};var lt=function(e){return e&&("current"in e?e.current:e)},ft={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.disabled,i=n.clickTrigger,o=void 0===i?"click":i,a=Object(u.useRef)(!1),c=Object(u.useRef)(!1),l=Object(u.useCallback)(function(t){var n,r=lt(e);g()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!r||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!s(r,t.target)||c.current,c.current=!1},[e]),f=Object(ut.a)(function(t){var n=lt(e);n&&s(n,t.target)&&(c.current=!0)}),d=Object(ut.a)(function(e){a.current||t(e)});Object(u.useEffect)(function(){if(!r&&null!=e){var t=Object(st.a)(lt(e)),n=(t.defaultView||window).event,i=null;ft[o]&&(i=at(t,ft[o],f,!0));var a=at(t,o,l,!0),s=at(t,o,function(e){e!==n?d(e):n=void 0}),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map(function(e){return at(e,"mousemove",ct)})),function(){null==i||i(),a(),s(),u.forEach(function(e){return e()})}}},[e,r,o,l,f,d])},ht=27,pt=function(){};var gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.disabled,i=n.clickTrigger,o=t||pt;dt(e,o,{disabled:r,clickTrigger:i});var a=Object(ut.a)(function(e){e.keyCode===ht&&o(e)});Object(u.useEffect)(function(){if(!r&&null!=e){var t=Object(st.a)(lt(e)),n=(t.defaultView||window).event,i=at(t,"keyup",function(e){e!==n?a(e):n=void 0});return function(){i()}}},[e,r,a])},vt=Object(u.createContext)(et.a?window:void 0);vt.Provider;var mt=function(e,t){var n;return et.a?null==e?(t||Object(st.a)()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};function yt(e,t){var n=Object(u.useContext)(vt),r=Object(u.useState)(function(){return mt(e,null==n?void 0:n.document)}),i=Object(a.a)(r,2),o=i[0],s=i[1];if(!o){var c=mt(e);c&&s(c)}return Object(u.useEffect)(function(){t&&o&&t(o)},[t,o]),Object(u.useEffect)(function(){var t=mt(e);t!==o&&s(t)},[e,o]),o}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function xt(e){var t,n,r,i,o=e.enabled,a=e.enableEvents,s=e.placement,u=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,d=e.arrowElement,h=e.popperConfig,p=void 0===h?{}:h,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return Object.assign({},p,{placement:s,enabled:o,strategy:l?"fixed":p.strategy,modifiers:bt(Object.assign({},g,{eventListeners:{enabled:a},preventOverflow:Object.assign({},g.preventOverflow,{options:f?Object.assign({padding:f},null==(t=g.preventOverflow)?void 0:t.options):null==(n=g.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=g.offset)?void 0:r.options)},arrow:Object.assign({},g.arrow,{enabled:!!d,options:Object.assign({},null==(i=g.arrow)?void 0:i.options,{element:d})}),flip:Object.assign({enabled:!!u},g.flip)}))})}var _t=n(11),wt=u.forwardRef(function(e,t){var n=e.flip,r=e.offset,i=e.placement,o=e.containerPadding,s=e.popperConfig,c=void 0===s?{}:s,l=e.transition,f=Object(w.a)(),d=Object(a.a)(f,2),h=d[0],p=d[1],g=Object(w.a)(),v=Object(a.a)(g,2),y=v[0],b=v[1],x=Object(m.a)(p,t),E=yt(e.container),S=yt(e.target),O=Object(u.useState)(!e.show),k=Object(a.a)(O,2),M=k[0],C=k[1],A=Je(S,h,xt({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:y,popperConfig:c}));e.show?M&&C(!1):e.transition||M||C(!0);var j=e.show||l&&!M;if(gt(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!j)return null;var T=e.children(Object.assign({},A.attributes.popper,{style:A.styles.popper,ref:x}),{popper:A,placement:i,show:!!e.show,arrowProps:Object.assign({},A.attributes.arrow,{style:A.styles.arrow,ref:b})});if(l){var I=e.onExit,N=e.onExiting,P=e.onEnter,D=e.onEntering,L=e.onEntered;T=Object(_t.jsx)(l,{in:e.show,appear:!0,onExit:I,onExiting:N,onExited:function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:P,onEntering:D,onEntered:L,children:T})}return E?_.a.createPortal(T,E):null});wt.displayName="Overlay";var Et=wt,St=n(220),Ot=n(221),kt=n(23),Mt=n(53),Ct=Object(Mt.a)("popover-header"),At=Object(Mt.a)("popover-body"),jt=n(120),Tt=u.forwardRef(function(e,t){var n=e.bsPrefix,o=e.placement,s=e.className,u=e.style,c=e.children,l=e.body,f=e.arrowProps,d=(e.popper,e.show,Object(i.a)(e,["bsPrefix","placement","className","style","children","body","arrowProps","popper","show"])),h=Object(kt.c)(n,"popover"),p=Object(kt.d)(),g=(null==o?void 0:o.split("-"))||[],v=Object(a.a)(g,1)[0],m=Object(jt.a)(v,p);return Object(_t.jsxs)("div",Object(r.a)({ref:t,role:"tooltip",style:u,"x-placement":v,className:b()(s,h,v&&"bs-popover-".concat(m))},d,{children:[Object(_t.jsx)("div",Object(r.a)({className:"popover-arrow"},f)),l?Object(_t.jsx)(At,{children:c}):c]}))});Tt.defaultProps={placement:"right"};var It=Object.assign(Tt,{Header:Ct,Body:At,POPPER_OFFSET:[0,8]});var Nt=n(65),Pt=n(78),Dt=n(124),Lt=!1,Rt=c.a.createContext(null),Bt="unmounted",Ft="exited",zt="entering",Gt="entered",Ut=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Ft,r.appearStatus=zt):i=Gt:i=t.unmountOnExit||t.mountOnEnter?Bt:Ft,r.state={status:i},r.nextCallback=null,r}Object(Dt.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Bt?{status:Ft}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==zt&&n!==Gt&&(t=zt):n!==zt&&n!==Gt||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:_.a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ft&&this.setState({status:Bt})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[_.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Lt?this.safeSetState({status:Gt},function(){t.props.onEntered(o)}):(this.props.onEnter(o,a),this.safeSetState({status:zt},function(){t.props.onEntering(o,a),t.onTransitionEnd(u,function(){t.safeSetState({status:Gt},function(){t.props.onEntered(o,a)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:_.a.findDOMNode(this);t&&!Lt?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Ft},function(){e.props.onExited(r)})})})):this.safeSetState({status:Ft},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:_.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Bt)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(Pt.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.a.createElement(Rt.Provider,{value:null},"function"===typeof n?n(e,r):c.a.cloneElement(c.a.Children.only(n),r))},t}(c.a.Component);function Vt(){}Ut.contextType=Rt,Ut.propTypes={},Ut.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vt,onEntering:Vt,onEntered:Vt,onExit:Vt,onExiting:Vt,onExited:Vt},Ut.UNMOUNTED=Bt,Ut.EXITED=Ft,Ut.ENTERING=zt,Ut.ENTERED=Gt,Ut.EXITING="exiting";var Wt=Ut;function Yt(e,t){return function(e){var t=Object(st.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Xt=/([A-Z])/g;var Ht=/^ms-/;function qt(e){return function(e){return e.replace(Xt,"-$1").toLowerCase()}(e).replace(Ht,"-ms-")}var Kt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Zt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(qt(t))||Yt(e).getPropertyValue(qt(t));Object.keys(t).forEach(function(i){var o=t[i];o||0===o?function(e){return!(!e||!Kt.test(e))}(i)?r+=i+"("+o+") ":n+=qt(i)+": "+o+";":e.style.removeProperty(qt(i))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Qt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)},t+n),o=at(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function $t(e,t,n,r){null==n&&(n=function(e){var t=Zt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Qt(e,n,r),o=at(e,"transitionend",t);return function(){i(),o()}}function Jt(e,t){var n=Zt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function en(e,t){var n=Jt(e,"transitionDuration"),r=Jt(e,"transitionDelay"),i=$t(e,function(n){n.target===e&&(i(),t(n))},n+r)}function tn(e){return e&&"setState"in e?_.a.findDOMNode(e):null!=e?e:null}var nn,rn=c.a.forwardRef(function(e,t){var n=e.onEnter,o=e.onEntering,a=e.onEntered,s=e.onExit,l=e.onExiting,f=e.onExited,d=e.addEndListener,h=e.children,p=e.childRef,g=Object(i.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"]),v=Object(u.useRef)(null),y=Object(m.a)(v,p),b=function(e){y(tn(e))},x=function(e){return function(t){e&&v.current&&e(v.current,t)}},_=Object(u.useCallback)(x(n),[n]),w=Object(u.useCallback)(x(o),[o]),E=Object(u.useCallback)(x(a),[a]),S=Object(u.useCallback)(x(s),[s]),O=Object(u.useCallback)(x(l),[l]),k=Object(u.useCallback)(x(f),[f]),M=Object(u.useCallback)(x(d),[d]);return Object(_t.jsx)(Wt,Object(r.a)({ref:t},g,{onEnter:_,onEntered:E,onEntering:w,onExit:S,onExited:k,onExiting:O,addEndListener:M,nodeRef:v,children:"function"===typeof h?function(e,t){return h(e,Object(r.a)({},t,{ref:b}))}:c.a.cloneElement(h,{ref:b})}))}),on=(nn={},Object(Nt.a)(nn,zt,"show"),Object(Nt.a)(nn,Gt,"show"),nn),an=u.forwardRef(function(e,t){var n=e.className,o=e.children,a=e.transitionClasses,s=void 0===a?{}:a,c=Object(i.a)(e,["className","children","transitionClasses"]),l=Object(u.useCallback)(function(e,t){!function(e){e.offsetHeight}(e),null==c.onEnter||c.onEnter(e,t)},[c]);return Object(_t.jsx)(rn,Object(r.a)({ref:t,addEndListener:en},c,{onEnter:l,childRef:o.ref,children:function(e,t){return u.cloneElement(o,Object(r.a)({},t,{className:b()("fade",n,o.props.className,on[e],s[e])}))}}))});an.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},an.displayName="Fade";var sn=an,un={transition:sn,rootClose:!1,show:!1,placement:"top"};var cn=u.forwardRef(function(e,t){var n=e.children,o=e.transition,s=e.popperConfig,c=void 0===s?{}:s,l=Object(i.a)(e,["children","transition","popperConfig"]),f=Object(u.useRef)({}),d=Object(w.a)(),h=Object(a.a)(d,2),p=h[0],g=h[1],v=function(e){var t=Object(u.useRef)(null),n=Object(kt.c)(void 0,"popover"),r=Object(u.useMemo)(function(){return{name:"offset",options:{offset:function(){return t.current&&Object(Ot.a)(t.current,n)?e||It.POPPER_OFFSET:e||[0,0]}}}},[e,n]);return[t,[r]]}(l.offset),y=Object(a.a)(v,2),x=y[0],_=y[1],E=Object(m.a)(t,x),S=!0===o?sn:o||void 0,O=Object(ut.a)(function(e){g(e),null==c||null==c.onFirstUpdate||c.onFirstUpdate(e)});return Object(St.a)(function(){p&&(null==f.current.scheduleUpdate||f.current.scheduleUpdate())},[p]),Object(_t.jsx)(Et,Object(r.a)({},l,{ref:E,popperConfig:Object(r.a)({},c,{modifiers:_.concat(c.modifiers||[]),onFirstUpdate:O}),transition:S,children:function(e,t){var i,a,s=t.arrowProps,c=t.popper,l=t.show;!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(tn(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(tn(e))})}(e,s);var d=null==c?void 0:c.placement,h=Object.assign(f.current,{state:null==c?void 0:c.state,scheduleUpdate:null==c?void 0:c.update,placement:d,outOfBoundaries:(null==c?void 0:null==(i=c.state)?void 0:null==(a=i.modifiersData.hide)?void 0:a.isReferenceHidden)||!1});return"function"===typeof n?n(Object(r.a)({},e,{placement:d,show:l},!o&&l&&{className:"show"},{popper:h,arrowProps:s})):u.cloneElement(n,Object(r.a)({},e,{placement:d,arrowProps:s,popper:h,className:b()(n.props.className,!o&&l&&"show"),style:Object(r.a)({},n.props.style,e.style)}))}}))});cn.displayName="Overlay",cn.defaultProps=un;var ln=cn;function fn(e,t,n){var r=Object(a.a)(t,1)[0],i=r.currentTarget,u=r.relatedTarget||r.nativeEvent[n];u&&u===i||s(i,u)||e.apply(void 0,Object(o.a)(t))}function dn(e){var t=e.trigger,n=e.overlay,o=e.children,s=e.popperConfig,c=void 0===s?{}:s,l=e.show,f=e.defaultShow,d=void 0!==f&&f,p=e.onToggle,g=e.delay,y=e.placement,b=e.flip,x=void 0===b?y&&-1!==y.indexOf("auto"):b,_=Object(i.a)(e,["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]),w=Object(u.useRef)(null),E=Object(m.a)(w,o.ref),S=h(),O=Object(u.useRef)(""),k=Object(v.b)(l,d,p),M=Object(a.a)(k,2),C=M[0],A=M[1],j=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(g),T="function"!==typeof o?u.Children.only(o).props:{},I=T.onFocus,N=T.onBlur,P=T.onClick,D=Object(u.useCallback)(function(){S.clear(),O.current="show",j.show?S.set(function(){"show"===O.current&&A(!0)},j.show):A(!0)},[j.show,A,S]),L=Object(u.useCallback)(function(){S.clear(),O.current="hide",j.hide?S.set(function(){"hide"===O.current&&A(!1)},j.hide):A(!1)},[j.hide,A,S]),R=Object(u.useCallback)(function(){D(),null==I||I.apply(void 0,arguments)},[D,I]),B=Object(u.useCallback)(function(){L(),null==N||N.apply(void 0,arguments)},[L,N]),F=Object(u.useCallback)(function(){A(!C),null==P||P.apply(void 0,arguments)},[P,A,C]),z=Object(u.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fn(D,t,"fromElement")},[D]),G=Object(u.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];fn(L,t,"toElement")},[L]),U=null==t?[]:[].concat(t),V={ref:function(e){E(tn(e))}};return-1!==U.indexOf("click")&&(V.onClick=F),-1!==U.indexOf("focus")&&(V.onFocus=R,V.onBlur=B),-1!==U.indexOf("hover")&&(V.onMouseOver=z,V.onMouseOut=G),Object(_t.jsxs)(_t.Fragment,{children:["function"===typeof o?o(V):Object(u.cloneElement)(o,V),Object(_t.jsx)(ln,Object(r.a)({},_,{show:C,onHide:L,flip:x,placement:y,popperConfig:c,target:w.current,children:n}))]})}dn.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=dn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter(function(t){return t.source===e||t.target===e});if("target"===n)return r.filter(function(t){return t.source===e}).map(function(e){return e.target});if("source"===n)return r.filter(function(t){return t.target===e}).map(function(e){return e.source});return r.map(function(t){return t.source===e?t.target:t.source})};t.getOutEdgesNodeId=function(e,t){return t.filter(function(t){return t.source===e})};t.getEdgesByNodeId=function(e,t){return t.filter(function(t){return t.source===e||t.target===e})};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(42),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=n(219);function o(e){var t=Object(i.a)(e);return Object(r.useCallback)(function(){return t.current&&t.current.apply(t,arguments)},[t])}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(1),i=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(r.useMemo)(function(){return function(e,t){var n=i(e),r=i(t);return function(e){n&&n(e),r&&r(e)}}(e,t)},[e,t])}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(233)},function(e,t,n){"use strict";n.d(t,"a",function(){return Y});var r,i,o,a,s,u,c,l,f,d,h,p,g,v,m,y,b,x,_,w,E,S,O,k,M=n(12),C=n.n(M),A=n(18),j=n.n(A),T=n(13),I=n.n(T),N=n(7),P=n.n(N),D=n(9),L=n.n(D),R=n(14),B=n.n(R),F=(n(37),n(3)),z=n(6),G=n(15),U=n(43);function V(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=(r=Object(z.injectable)(),i=Object(z.inject)(G.a.MeshComponentManager),o=Object(z.inject)(G.a.GeometryComponentManager),a=Object(z.inject)(G.a.MaterialComponentManager),s=Object(z.inject)(G.a.CullableComponentManager),u=Object(z.inject)(G.a.TransformComponentManager),c=Object(z.inject)(G.a.HierarchyComponentManager),l=Object(z.inject)(G.a.Systems),f=Object(z.named)(G.a.FrameGraphSystem),d=Object(z.inject)(G.a.RenderEngine),h=Object(z.inject)(G.a.ResourcePool),r((k=O=function(){function e(){var t=this;P()(this,e),I()(this,"mesh",v,this),I()(this,"geometry",m,this),I()(this,"material",y,this),I()(this,"cullable",b,this),I()(this,"transform",x,this),I()(this,"hierarchy",_,this),I()(this,"frameGraphSystem",w,this),I()(this,"engine",E,this),I()(this,"resourcePool",S,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:U.a.RENDER_ATTACHMENT|U.a.SAMPLED|U.a.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=j()(C.a.mark(function e(n,r,i){var o,a,s,u,c,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=V(i),e.prev=3,s.s();case 5:if((u=s.n()).done){e.next=11;break}return c=u.value,e.next=9,t.initView(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:l=t.engine.getCanvas(),a.resize({width:l.width,height:l.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,function(){var e,n=V(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}});case 24:case"end":return e.stop()}},e,null,[[3,13,16,19]])}));return function(t,n,r){return e.apply(this,arguments)}}()}return L()(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=F.mat4.multiply(F.mat4.create(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,c=o.height;this.engine.viewport({x:a,y:s,width:u,height:c});var l,f=V(t.getEntities());try{for(f.s();!(l=f.n()).done;){var d=l.value;this.renderMesh(d,{camera:n,view:e,viewMatrix:r})}}catch(h){f.e(h)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),c=F.mat4.multiply(F.mat4.create(),i,u.worldTransform),l=r.getViewport(),f=l.width,d=l.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:c,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[f,d]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce(function(e,t){return e[t.name]=t.data,e},{})}),a.uniforms.forEach(function(e){e.dirty=!1}),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=j()(C.a.mark(function e(t,n){var r,i,o,a,s,u,c,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,u=s.createModel,c=s.createAttribute,l={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce(function(e,t){return t.data&&t.buffer&&(e[t.name]=c({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e},{}),uniforms:i.uniforms.reduce(function(e,t){return e[t.name]=t.data,e},{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(l.cull=i.cull),i.depth&&(l.depth=i.depth),i.blend&&(l.blend=i.blend),o.indicesBuffer&&(l.elements=o.indicesBuffer),o.maxInstancedCount&&(l.instances=o.maxInstancedCount,l.count=o.vertexCount||3),e.next=22,u(l);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=j()(C.a.mark(function e(t){var n,r,i,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=V(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,12,15,18]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),O.IDENTIFIER="Render Pass",g=k,v=B()(g.prototype,"mesh",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=B()(g.prototype,"geometry",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=B()(g.prototype,"material",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=B()(g.prototype,"cullable",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B()(g.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=B()(g.prototype,"hierarchy",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B()(g.prototype,"frameGraphSystem",[l,f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=B()(g.prototype,"engine",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B()(g.prototype,"resourcePool",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(250)()},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return d});var r,i=n(70),o=n.n(i),a=n(7),s=n.n(a),u=n(9),c=n.n(u),l=n(3),f=n(103);!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(r||(r={}));var d=function(){function e(t){if(s()(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new f.a)}return c()(e,[{key:"extractFromVPMatrix",value:function(e){var t=o()(e,16),n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],d=t[8],h=t[9],p=t[10],g=t[11],v=t[12],m=t[13],y=t[14],b=t[15];l.vec3.set(this.planes[0].normal,a-n,f-s,g-d),this.planes[0].distance=-(b-v),l.vec3.set(this.planes[1].normal,a+n,f+s,g+d),this.planes[1].distance=-(b+v),l.vec3.set(this.planes[2].normal,a+r,f+u,g+h),this.planes[2].distance=-(b+m),l.vec3.set(this.planes[3].normal,a-r,f-u,g-h),this.planes[3].distance=-(b-m),l.vec3.set(this.planes[4].normal,a-i,f-c,g-p),this.planes[4].distance=-(b-y),l.vec3.set(this.planes[5].normal,a+i,f+c,g+p),this.planes[5].distance=-(b+y),this.planes.forEach(function(e){e.normalize(),e.updatePNVertexFlag()})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(44),i=n(42);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var d=f[l];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(315),i=n(316),o=n(170),a=n(317);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(201),i=n(200),o=n(208),a=n(199),s=n(209),u=[0,0];e.exports.computeMiter=function(e,t,n,a,c){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),c/s(t,u)},e.exports.normal=function(e,t){return i(e,-t[1],t[0]),e},e.exports.direction=function(e,t,n){return a(e,t,n),o(e,e),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;t.id=function(){return r++}},function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r,i,o,a,s,u,c,l,f,d,h,p,g,v=n(12),m=n.n(v),y=n(18),b=n.n(y),x=n(13),_=n.n(x),w=n(7),E=n.n(w),S=n(9),O=n.n(S),k=n(14),M=n.n(k),C=(n(37),n(6)),A=n(15),j=n(198),T=n(63);function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={NONE:0,ENCODE:1,HIGHLIGHT:2},D=(r=Object(C.injectable)(),i=Object(C.inject)(A.a.RenderEngine),o=Object(C.inject)(A.a.ResourcePool),a=Object(C.inject)(A.a.RenderPassFactory),s=Object(C.inject)(A.a.MeshComponentManager),r((g=p=function(){function e(){var t=this;E()(this,e),_()(this,"engine",l,this),_()(this,"resourcePool",f,this),_()(this,"renderPassFactory",d,this),_()(this,"mesh",h,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=b()(m.a.mark(function e(n,r,i){var o,a,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=I(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(T.a.IDENTIFIER),i=[],o=I(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",P.ENCODE),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach(function(e){e.material.setUniform("u_PickingStage",P.HIGHLIGHT)}),t.alreadyInRendering=!1})},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,c=s.useFramebuffer,l=n.getViewport(),f=l.width,d=l.height,h=o*window.devicePixelRatio,p=a*window.devicePixelRatio;if(!(h>f||h<0||p>d||p<0))return c(t.pickingFBO,function(){0===(r=u({x:Math.round(h),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=Object(j.a)(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))}),i}}return O()(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=I(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",P.HIGHLIGHT),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),p.IDENTIFIER="PixelPicking Pass",c=g,l=M()(c.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=M()(c.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M()(c.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=M()(c.prototype,"mesh",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(93).Graph);t.Graph=i},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(7),i=n.n(r),o=n(9),a=n.n(o),s=n(3),u=function(){function e(t,n){i()(this,e),this.center=void 0,this.halfExtents=void 0,this.min=s.vec3.create(),this.max=s.vec3.create(),this.update(t,n)}return a()(e,[{key:"update",value:function(e,t){this.center=e||s.vec3.create(),this.halfExtents=t||s.vec3.fromValues(.5,.5,.5),this.min=s.vec3.sub(this.min,this.center,this.halfExtents),this.max=s.vec3.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){s.vec3.add(this.center,t,e),s.vec3.scale(this.center,this.center,.5),s.vec3.sub(this.halfExtents,t,e),s.vec3.scale(this.halfExtents,this.halfExtents,.5),s.vec3.copy(this.min,e),s.vec3.copy(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],c=n-a,l=n+a,f=r-s,d=r+s,h=i-u,p=i+u,g=e.center,v=g[0],m=g[1],y=g[2],b=e.halfExtents,x=b[0],_=b[1],w=b[2],E=v-x,S=v+x,O=m-_,k=m+_,M=y-w,C=y+w;E<c&&(c=E),S>l&&(l=S),O<f&&(f=O),k>d&&(d=k),M<h&&(h=M),C>p&&(p=C),t[0]=.5*(c+l),t[1]=.5*(f+d),t[2]=.5*(h+p),o[0]=.5*(l-c),o[1]=.5*(d-f),o[2]=.5*(p-h),this.min[0]=c,this.min[1]=f,this.min[2]=h,this.max[0]=l,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?s.vec3.copy(s.vec3.create(),this.min):272===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.max[1],this.min[2]):s.vec3.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?s.vec3.copy(s.vec3.create(),this.max):272===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?s.vec3.fromValues(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?s.vec3.fromValues(this.min[0],this.min[1],this.max[2]):s.vec3.fromValues(this.min[0],this.min[1],this.min[2])}}]),e}()},function(e,t,n){"use strict";var r=n(95);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";n.r(t),n.d(t,"create",function(){return i}),n.d(t,"clone",function(){return o}),n.d(t,"fromValues",function(){return a}),n.d(t,"copy",function(){return s}),n.d(t,"set",function(){return u}),n.d(t,"add",function(){return c}),n.d(t,"subtract",function(){return l}),n.d(t,"multiply",function(){return f}),n.d(t,"divide",function(){return d}),n.d(t,"ceil",function(){return h}),n.d(t,"floor",function(){return p}),n.d(t,"min",function(){return g}),n.d(t,"max",function(){return v}),n.d(t,"round",function(){return m}),n.d(t,"scale",function(){return y}),n.d(t,"scaleAndAdd",function(){return b}),n.d(t,"distance",function(){return x}),n.d(t,"squaredDistance",function(){return _}),n.d(t,"length",function(){return w}),n.d(t,"squaredLength",function(){return E}),n.d(t,"negate",function(){return S}),n.d(t,"inverse",function(){return O}),n.d(t,"normalize",function(){return k}),n.d(t,"dot",function(){return M}),n.d(t,"cross",function(){return C}),n.d(t,"lerp",function(){return A}),n.d(t,"random",function(){return j}),n.d(t,"transformMat2",function(){return T}),n.d(t,"transformMat2d",function(){return I}),n.d(t,"transformMat3",function(){return N}),n.d(t,"transformMat4",function(){return P}),n.d(t,"rotate",function(){return D}),n.d(t,"angle",function(){return L}),n.d(t,"zero",function(){return R}),n.d(t,"str",function(){return B}),n.d(t,"exactEquals",function(){return F}),n.d(t,"equals",function(){return z}),n.d(t,"len",function(){return G}),n.d(t,"sub",function(){return U}),n.d(t,"mul",function(){return V}),n.d(t,"div",function(){return W}),n.d(t,"dist",function(){return Y}),n.d(t,"sqrDist",function(){return X}),n.d(t,"sqrLen",function(){return H}),n.d(t,"forEach",function(){return q});var r=n(8);function i(){var e=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function o(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function a(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,n){return e[0]=t,e[1]=n,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function p(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function g(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function v(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function m(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function y(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function w(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function E(e){var t=e[0],n=e[1];return t*t+n*n}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e}function O(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function k(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function M(e,t){return e[0]*t[0]+e[1]*t[1]}function C(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function A(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function j(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function T(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function I(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function N(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function P(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function D(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),s=Math.cos(r);return e[0]=i*s-o*a+n[0],e[1]=i*a+o*s+n[1],e}function L(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function R(e){return e[0]=0,e[1]=0,e}function B(e){return"vec2("+e[0]+", "+e[1]+")"}function F(e,t){return e[0]===t[0]&&e[1]===t[1]}function z(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}var G=w,U=l,V=f,W=d,Y=x,X=_,H=E,q=function(){var e=i();return function(t,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,a),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t){var n=[],r=[],i="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function o(e,t){if(t=t||{},void 0===e)throw new Error(i);var o,a=!0===t.prepend?"prepend":"append",s=void 0!==t.container?t.container:document.querySelector("head"),u=n.indexOf(s);return-1===u&&(u=n.push(s)-1,r[u]={}),void 0!==r[u]&&void 0!==r[u][a]?o=r[u][a]:(o=r[u][a]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===a?s.insertBefore(o,s.childNodes[0]):s.appendChild(o)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}e.exports=o,e.exports.insertCss=o},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i,o,a,s,u,c,l,f,d=n(12),h=n.n(d),p=n(18),g=n.n(p),v=n(13),m=n.n(v),y=n(7),b=n.n(y),x=n(14),_=n.n(x),w=(n(37),n(6)),E=n(15),S=n(43),O=n(63),k=(r=Object(w.injectable)(),i=Object(w.inject)(E.a.RenderEngine),o=Object(w.inject)(E.a.ResourcePool),r((f=l=function e(){var t=this;b()(this,e),m()(this,"engine",u,this),m()(this,"resourcePool",c,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(O.a.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=g()(h.a.mark(function e(n,r){var i,o,a,s,u,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:S.a.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:u=e.sent,t.model=u;case 6:c=n.getResourceNode(r.data.input),l=t.resourcePool.getOrCreateResource(c.resource),t.engine.useFramebuffer(null,function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:l}})});case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},l.IDENTIFIER="Copy Pass",s=f,u=_()(s.prototype,"engine",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=_()(s.prototype,"resourcePool",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n++);else if(Object(i.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),i=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(i.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),i=function(){function e(e,t){void 0===t&&(t={});this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=i},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,function(e,r){t(e,r)&&n.push(e)}),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,i){t&&r(e,t);n&&r(e,n);i&&r(e,i);return e}},function(e,t,n){var r=n(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return o.indexOf(e)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(e,t);else if(s===i[1])n(e,t),e.right2left();else if(s===i[2])n(e,t);else if(s===i[3])n(e,t),e.bottom2top();else if(s===i[4]||s===i[5]){var u=r(e,t),c=u.left,l=u.right;n(c,t),n(l,t),t.isHorizontal?c.right2left():c.bottom2top(),l.translate(c.x-l.x,c.y-l.y),e.x=c.x,e.y=l.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}var d=t.fixedRoot;return void 0===d&&(d=!0),d&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),i={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function o(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof o)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){this.hgap+=e,this.vgap+=t,this.width+=2*e,this.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode(function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new o(e,t=r.assign({},i,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var c=t.getChildren(a.data),l=c?c.length:0;if(a.children=new Array(l),c&&l)for(var f=0;f<l;f++){var d=new o(c[f],t);a.children[f]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),i=n(20);t.a=function(e,t){var n=Object(i.a)(t),o=n.length;if(Object(r.a)(e))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(r)}),t};t.a=o},function(e,t,n){"use strict";var r=n(1),i=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var a=void 0,s=t[n];n!==o&&s===a||(a=s,i.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),i=n(2);t.a=function(e){var t=[];return Object(i.a)(e,function(e){Object(r.a)(t,e)||t.push(e)}),t}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(i.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(i.a)(e))return{};var n,s={},u=Object(o.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]}),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(n)}),t};t.a=o},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),i=n(1),o=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(o.a)(t)||Object(o.a)(n))return!1;if(Object(i.a)(t)||Object(i.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),i=r(e.data,t,!0),o=e.children.length,a=Math.round(o/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<o;u++){var c=e.children[u];"right"===s(c,u)?i.children.push(c):n.children.push(c)}return n.eachNode(function(e){e.isRoot()||(e.side="left")}),i.eachNode(function(e){e.isRoot()||(e.side="right")}),{left:n,right:i}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),i=n(113),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",function(){return r.a}),n.d(t,"includes",function(){return r.a});var i=n(34);n.d(t,"difference",function(){return i.a});var o=n(35);n.d(t,"find",function(){return o.a});var a=n(36);n.d(t,"findIndex",function(){return a.a});var s=n(37);n.d(t,"firstValue",function(){return s.a});var u=n(38);n.d(t,"flatten",function(){return u.a});var c=n(39);n.d(t,"flattenDeep",function(){return c.a});var l=n(40);n.d(t,"getRange",function(){return l.a});var f=n(41);n.d(t,"pull",function(){return f.a});var d=n(21);n.d(t,"pullAt",function(){return d.a});var h=n(42);n.d(t,"reduce",function(){return h.a});var p=n(43);n.d(t,"remove",function(){return p.a});var g=n(44);n.d(t,"sortBy",function(){return g.a});var v=n(45);n.d(t,"union",function(){return v.a});var m=n(22);n.d(t,"uniq",function(){return m.a});var y=n(46);n.d(t,"valuesOfKey",function(){return y.a});var b=n(47);n.d(t,"head",function(){return b.a});var x=n(48);n.d(t,"last",function(){return x.a});var _=n(49);n.d(t,"startsWith",function(){return _.a});var w=n(50);n.d(t,"endsWith",function(){return w.a});var E=n(14);n.d(t,"filter",function(){return E.a});var S=n(51);n.d(t,"every",function(){return S.a});var O=n(52);n.d(t,"some",function(){return O.a});var k=n(53);n.d(t,"group",function(){return k.a});var M=n(24);n.d(t,"groupBy",function(){return M.a});var C=n(23);n.d(t,"groupToMap",function(){return C.a});var A=n(54);n.d(t,"getWrapBehavior",function(){return A.a});var j=n(55);n.d(t,"wrapBehavior",function(){return j.a});var T=n(56);n.d(t,"number2color",function(){return T.a});var I=n(57);n.d(t,"parseRadius",function(){return I.a});var N=n(58);n.d(t,"clamp",function(){return N.a});var P=n(59);n.d(t,"fixedBase",function(){return P.a});var D=n(60);n.d(t,"isDecimal",function(){return D.a});var L=n(61);n.d(t,"isEven",function(){return L.a});var R=n(62);n.d(t,"isInteger",function(){return R.a});var B=n(63);n.d(t,"isNegative",function(){return B.a});var F=n(64);n.d(t,"isNumberEqual",function(){return F.a});var z=n(65);n.d(t,"isOdd",function(){return z.a});var G=n(66);n.d(t,"isPositive",function(){return G.a});var U=n(67);n.d(t,"maxBy",function(){return U.a});var V=n(68);n.d(t,"minBy",function(){return V.a});var W=n(69);n.d(t,"mod",function(){return W.a});var Y=n(70);n.d(t,"toDegree",function(){return Y.a});var X=n(71);n.d(t,"toInteger",function(){return X.a});var H=n(72);n.d(t,"toRadian",function(){return H.a});var q=n(73);n.d(t,"forIn",function(){return q.a});var K=n(25);n.d(t,"has",function(){return K.a});var Z=n(74);n.d(t,"hasKey",function(){return Z.a});var Q=n(75);n.d(t,"hasValue",function(){return Q.a});var $=n(20);n.d(t,"keys",function(){return $.a});var J=n(19);n.d(t,"isMatch",function(){return J.a});var ee=n(26);n.d(t,"values",function(){return ee.a});var te=n(76);n.d(t,"lowerCase",function(){return te.a});var ne=n(77);n.d(t,"lowerFirst",function(){return ne.a});var re=n(78);n.d(t,"substitute",function(){return re.a});var ie=n(79);n.d(t,"upperCase",function(){return ie.a});var oe=n(80);n.d(t,"upperFirst",function(){return oe.a});var ae=n(27);n.d(t,"getType",function(){return ae.a});var se=n(81);n.d(t,"isArguments",function(){return se.a});var ue=n(0);n.d(t,"isArray",function(){return ue.a});var ce=n(1);n.d(t,"isArrayLike",function(){return ce.a});var le=n(82);n.d(t,"isBoolean",function(){return le.a});var fe=n(83);n.d(t,"isDate",function(){return fe.a});var de=n(84);n.d(t,"isError",function(){return de.a});var he=n(3);n.d(t,"isFunction",function(){return he.a});var pe=n(85);n.d(t,"isFinite",function(){return pe.a});var ge=n(6);n.d(t,"isNil",function(){return ge.a});var ve=n(86);n.d(t,"isNull",function(){return ve.a});var me=n(5);n.d(t,"isNumber",function(){return me.a});var ye=n(13);n.d(t,"isObject",function(){return ye.a});var be=n(15);n.d(t,"isObjectLike",function(){return be.a});var xe=n(9);n.d(t,"isPlainObject",function(){return xe.a});var _e=n(28);n.d(t,"isPrototype",function(){return _e.a});var we=n(87);n.d(t,"isRegExp",function(){return we.a});var Ee=n(8);n.d(t,"isString",function(){return Ee.a});var Se=n(4);n.d(t,"isType",function(){return Se.a});var Oe=n(88);n.d(t,"isUndefined",function(){return Oe.a});var ke=n(89);n.d(t,"isElement",function(){return ke.a});var Me=n(90);n.d(t,"requestAnimationFrame",function(){return Me.a});var Ce=n(91);n.d(t,"clearAnimationFrame",function(){return Ce.a});var Ae=n(92);n.d(t,"augment",function(){return Ae.a});var je=n(93);n.d(t,"clone",function(){return je.a});var Te=n(94);n.d(t,"debounce",function(){return Te.a});var Ie=n(95);n.d(t,"memoize",function(){return Ie.a});var Ne=n(96);n.d(t,"deepMix",function(){return Ne.a});var Pe=n(2);n.d(t,"each",function(){return Pe.a});var De=n(97);n.d(t,"extend",function(){return De.a});var Le=n(98);n.d(t,"indexOf",function(){return Le.a});var Re=n(99);n.d(t,"isEmpty",function(){return Re.a});var Be=n(29);n.d(t,"isEqual",function(){return Be.a});var Fe=n(100);n.d(t,"isEqualWith",function(){return Fe.a});var ze=n(101);n.d(t,"map",function(){return ze.a});var Ge=n(102);n.d(t,"mapValues",function(){return Ge.a});var Ue=n(16);n.d(t,"mix",function(){return Ue.a}),n.d(t,"assign",function(){return Ue.a});var Ve=n(103);n.d(t,"get",function(){return Ve.a});var We=n(104);n.d(t,"set",function(){return We.a});var Ye=n(105);n.d(t,"pick",function(){return Ye.a});var Xe=n(106);n.d(t,"throttle",function(){return Xe.a});var He=n(107);n.d(t,"toArray",function(){return He.a});var qe=n(10);n.d(t,"toString",function(){return qe.a});var Ke=n(108);n.d(t,"uniqueId",function(){return Ke.a});var Ze=n(109);n.d(t,"noop",function(){return Ze.a});var Qe=n(110);n.d(t,"identity",function(){return Qe.a});var $e=n(111);n.d(t,"size",function(){return $e.a});var Je=n(112);n.d(t,"Cache",function(){return Je.a})},function(e,t,n){"use strict";var r=n(14),i=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,function(e){return!Object(i.a)(t,e)})}},function(e,t,n){"use strict";var r=n(3),i=n(19),o=n(0),a=n(9);t.a=function(e,t){if(!Object(o.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(i.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),i=n(0);t.a=function(e,t){for(var n=null,o=0;o<e.length;o++){var a=e[o][t];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),i=n(14);t.a=function(e){if(!(e=Object(i.a)(e,function(e){return!isNaN(e)})).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},function(e,t,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=o.call(e,a))>-1;)i.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9);t.a=function(e,t,n){if(!Object(i.a)(e)&&!Object(o.a)(e))return e;var a=n;return Object(r.a)(e,function(e,n){a=t(a,e,n)}),a}},function(e,t,n){"use strict";var r=n(1),i=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var o=-1,a=[],s=e.length;++o<s;){var u=e[o];t(u,o,e)&&(n.push(u),a.push(o))}return Object(i.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(3);t.a=function(e,t){var n;if(Object(o.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(i.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(6);t.a=function(e,t){var n=[],a={};return e.forEach(function(e){var s=e[t];Object(o.a)(s)||(Object(i.a)(s)||(s=[s]),Object(r.a)(s,function(e){a[e]||(n.push(e),a[e]=!0)}))}),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0];return};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e)){var t=e;return t[t.length-1]}return};var r=n(1)},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),i=[];for(var o in n)i.push(n[o]);return i}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),i=n.length;i<6;i++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,i=0,o=0;return Object(r.a)(e)?1===e.length?t=n=i=o=e[0]:2===e.length?(t=i=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],o=e[3]):t=n=i=o=e,{r1:t,r2:n,r3:i,r4:o}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=i},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=r);return Math.abs(e-t)<n};var r=1e-5},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,function(e){(a=Object(o.a)(t)?t(e):e[t])>n&&(s=e,n=a)}),s}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,function(e){(a=Object(o.a)(t)?t(e):e[t])<n&&(s=e,n=a)}),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),i=n(26);t.a=function(e,t){return Object(r.a)(Object(i.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=1;o<e.length;o++){var a=e[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),i=n(9),o=5;function a(e,t,n,s){for(var u in n=n||0,s=s||o,t)if(t.hasOwnProperty(u)){var c=t[u];null!==c&&Object(i.a)(c)?(Object(i.a)(e[u])||(e[u]={}),n<s?a(e[u],c,n+1,s):e[u]=t[u]):Object(r.a)(c)?(e[u]=[],e[u]=e[u].concat(c)):void 0!==c&&(e[u]=c)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)a(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(e,t,n,o){Object(i.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,o),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(i.a)(e))return!e.length;var t=Object(o.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,function(e,r){n.push(t(e,r))}),n}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=function(e){return e};t.a=function(e,t){void 0===t&&(t=o);var n={};return Object(i.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var i=0,o=Object(r.a)(t)?t.split("."):t;e&&i<o.length;)e=e[o[i++]];return void 0===e||i<o.length?n:e}},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(5);t.a=function(e,t,n){var a=e,s=Object(i.a)(t)?t.split("."):t;return s.forEach(function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(o.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n}),e}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return 0;if(Object(i.a)(e))return e.length;return Object.keys(e).length};var r=n(6),i=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(e,t){var n=function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(e,t);!function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(e,-n,t)}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach(function(e){r.push(n.fromNode(e,t))}),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var i=t.isHorizontal;function o(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function a(e,t,n){for(var r=e.c[t-1],i=r.mod,o=e.c[t],a=o.mod;null!==r&&null!==o;){l(r)>n.low&&(n=n.nxt);var f=i+r.prelim+r.w-(a+o.prelim);f>0&&(a+=f,s(e,t,n.index,f));var d=l(r),h=l(o);d<=h&&null!==(r=c(r))&&(i+=r.mod),d>=h&&null!==(o=u(o))&&(a+=o.mod)}!r&&o?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,o,a):r&&!o&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function s(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function u(e){return 0===e.cs?e.tl:e.c[0]}function c(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function l(e){return e.y+e.h}function f(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(e,i);var d=n.fromNode(e,i);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=f(l(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var i=l(t.c[r].er);a(t,r,n),n=f(i,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),o(t)}else o(t)}(d),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)t+=e.c[r].shift,n+=t+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(d,0),function e(t,n,r){r?n.y=t.x:n.x=t.x,t.c.forEach(function(t,i){e(t,n.children[i],r)})}(d,e,i),r(e,i),e}},function(e,t,n){var r=n(11),i=n(115),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,a=0;var s=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>a&&(a=t.depth);var n=t.children,r=n.length,o=new i(t.height,[]);return n.forEach(function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=a;else{var n=t.children.map(function(t){return e(t)}),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(s),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach(function(t){e(t)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(s),function e(t,n,r){r?(n.x=t.x,n.y=t.y):(n.x=t.y,n.y=t.x),t.children.forEach(function(t,i){e(t,n.children[i],r)})}(s,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),i=n(117),o=n(30),a=n(7),s=["LR","RL","H"],u=s[0],c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,c=void 0===a||a,l=e.direction||u;if(l&&-1===s.indexOf(l))throw new TypeError("Invalid direction: "+l);if(l===s[0])i(t,r,c);else if(l===s[1])i(t,r,c),t.right2left();else if(l===s[2]){var f=o(t,e),d=f.left,h=f.right;i(d,r,c),d.right2left(),i(h,r,c);var p=d.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),l={};e.exports=function(e,t){return t=a.assign({},l,t),new c(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode(function(e){!function(e,t,n,r){var i="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=i,void(e.y=t?t.y:0)}catch(o){}e.x+=i,e.y=t?t.y+t.height:0}(e,r,t,n),r=e})}},function(e,t,n){var r=n(11),i=n(119),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);var i={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},i,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),e.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode(function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function e(t){var n=t.children,r=n.length;if(r){n.forEach(function(t){e(t)});var i=n[0],o=n[r-1],a=o.y-i.y+o.height,s=0;if(n.forEach(function(e){s+=e.totalHeight}),a>t.height)t.y=i.y+a/2-t.height/2;else if(1!==n.length||t.height>s){var u=t.y+(t.height-a)/2-i.y;n.forEach(function(e){e.translate(0,u)})}else t.y=(i.y+i.height/2+o.y+o.height/2)/2-t.height/2}}(e)}}])},e.exports=r()},function(e,t,n){"use strict";var r=n(276),i=n(279),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach(function(e){s[o.call(i[e].labels).sort().join("")]=e});var u={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,l;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=r.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,l=i[this.model].channels,this.color=f.value.slice(0,l),this.valpha="number"===typeof f.value[l]?f.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var h=o.call(e,0,l);this.color=d(h,l),this.valpha="number"===typeof e[l]?e[l]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var v=i[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(e[v[n]]);this.color=d(m)}if(u[this.model])for(l=i[this.model].channels,n=0;n<l;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(u[e]||(u[e]=[]))[t]=n}),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function f(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,f(255)),green:l("rgb",1,f(255)),blue:l("rgb",2,f(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:l("hsl",1,f(100)),lightness:l("hsl",2,f(100)),saturationv:l("hsv",1,f(100)),value:l("hsv",2,f(100)),chroma:l("hcg",1,f(100)),gray:l("hcg",2,f(100)),white:l("hwb",1,f(100)),wblack:l("hwb",2,f(100)),cyan:l("cmyk",0,f(100)),magenta:l("cmyk",1,f(100)),yellow:l("cmyk",2,f(100)),black:l("cmyk",3,f(100)),x:l("xyz",0,f(100)),y:l("xyz",1,f(100)),z:l("xyz",2,f(100)),l:l("lab",0,f(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new c(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return c.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(e){if(-1===a.indexOf(e)){var t=i[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var n,r="number"===typeof arguments[t]?t:this.valpha;return new c((n=i[this.model][e].raw(this.color),Array.isArray(n)?n:[n]).concat(r),e)},c[e]=function(n){return"number"===typeof n&&(n=d(o.call(arguments),t)),new c(n,e)}}}),e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(44);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=o(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(t).reverse().join(" --\x3e ");throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=o},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r=[{type:"graphin-force",options:{},title:"\u6e10\u8fdb\u529b\u5bfc"},{type:"force",title:"D3\u529b\u5bfc",options:{preventOverlap:!0,linkDistance:250,nodeStrength:30,edgeStrength:.1,collideStrength:.8,nodeSize:30,alpha:.3,alphaDecay:.028,alphaMin:.01,forceSimulation:null,clustering:!1}},{type:"concentric",title:"\u540c\u5fc3\u5706\u5e03\u5c40",options:{minNodeSpacing:60,preventOverlap:!0,nodeSize:60}},{type:"grid",options:{},title:"\u7f51\u683c\u5e03\u5c40"},{type:"radial",options:{},title:"\u8f90\u5c04\u5e03\u5c40"},{type:"dagre",title:"\u5c42\u6b21\u5e03\u5c40",options:{}},{type:"circular",options:{},title:"\u73af\u5f62\u5e03\u5c40"},{type:"gForce",options:{linkDistance:function(){return 200},preventOverlap:!0},title:"G6\u529b\u5bfc"},{type:"mds",options:{},title:"\u964d\u7ef4\u5e03\u5c40"},{type:"random",options:{},title:"\u968f\u673a\u5e03\u5c40"}],i=r.map(function(e){var t=e.type,n=e.options;return Object.assign({type:t},n)}).reduce(function(e,t){return Object.assign(Object.assign({},e),(n={},r=t.type,i=t,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i},{});t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1);function i(){return Object(r.useState)(null)}},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,c=i.min,l=i.max,f=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(j[e])e=j[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(h=e.r,p=e.g,g=e.b,t={r:255*N(h,255),g:255*N(p,255),b:255*N(g,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=R(e.s),s=R(e.v),t=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(e.h,r,s),f=!0,d="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=R(e.s),u=R(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,g;return n=I(n),{ok:f,format:e.format||d,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,o=l(e,t,n),a=c(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[L(B(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=P(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=P(n.s),d(n)}function b(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=P(n.l),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=l(0,c(255,n.r-u(-t/100*255))),n.g=l(0,c(255,n.g-u(-t/100*255))),n.b=l(0,c(255,n.b-u(-t/100*255))),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=P(n.l),d(n)}function E(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function S(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function O(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function C(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function A(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(B(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*N(this._r,255))+"%",g:u(100*N(this._g,255))+"%",b:u(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%)":"rgba("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:R(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>u&&(u=r,s=d(t[c]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var j=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(j);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return c(1,l(0,e))}function D(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function R(e){return e<=1&&(e=100*e+"%"),e}function B(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return D(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!z.CSS_UNIT.exec(e)}"undefined"!==typeof e&&e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){e.exports={EPSILON:n(193),create:n(194),clone:n(349),fromValues:n(350),copy:n(351),set:n(200),equals:n(352),exactEquals:n(353),add:n(201),subtract:n(199),sub:n(354),multiply:n(202),mul:n(355),divide:n(203),div:n(356),inverse:n(357),min:n(358),max:n(359),rotate:n(360),floor:n(361),ceil:n(362),round:n(363),scale:n(364),scaleAndAdd:n(365),distance:n(204),dist:n(366),squaredDistance:n(205),sqrDist:n(367),length:n(206),len:n(368),squaredLength:n(207),sqrLen:n(369),negate:n(370),normalize:n(208),dot:n(209),cross:n(371),lerp:n(372),random:n(373),transformMat2:n(374),transformMat2d:n(375),transformMat3:n(376),transformMat4:n(377),forEach:n(378),limit:n(379)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(e,t){o[e.id]=t,i.push([])}),r&&r.forEach(function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))}),i};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},function(e,t,n){"use strict";var r=n(43);n.d(t,"gl",function(){return r.a});n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190)},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"components",function(){return P}),n.d(r,"dfs",function(){return D}),n.d(r,"dijkstra",function(){return z}),n.d(r,"dijkstraAll",function(){return G}),n.d(r,"findCycles",function(){return V}),n.d(r,"tarjan",function(){return U}),n.d(r,"isAcyclic",function(){return ee}),n.d(r,"postorder",function(){return te}),n.d(r,"preorder",function(){return ne}),n.d(r,"prim",function(){return N}),n.d(r,"topsort",function(){return J}),n.d(r,"floydWarshall",function(){return ie});var i={};n.r(i),n.d(i,"isGraph",function(){return ve}),n.d(i,"isSimpleGraph",function(){return me}),n.d(i,"isNullGraph",function(){return ye}),n.d(i,"hasSelfLoop",function(){return be});var o={};n.r(o),n.d(o,"containAllSameEdges",function(){return fe}),n.d(o,"containAllSameNodes",function(){return le}),n.d(o,"containSameEdges",function(){return ae}),n.d(o,"containSameNodes",function(){return oe}),n.d(o,"isGraphComplement",function(){return xe}),n.d(o,"isGraphOptionSame",function(){return ce}),n.d(o,"getSameEdges",function(){return ue}),n.d(o,"getSameNodes",function(){return se}),n.d(o,"isGraphSame",function(){return de}),n.d(o,"isGraphContainsAnother",function(){return he});var a,s={};function u(e,t){var n=e.get(t)||0;e.set(t,n+1)}function c(e,t){var n=e.get(t);void 0!==n&&((n-=1)>0?e.set(t,n):e.delete(t))}function l(e,t,n,r){var i=String(t),o=String(n);if(!e&&i>o){var s=i;i=o,o=s}return i+a.EDGE_KEY_DELIM+o+a.EDGE_KEY_DELIM+(void 0===r?a.DEFAULT_EDGE_NAME:r)}function f(e,t,n,r){var i=String(t),o=String(n),a={v:t,w:n};if(!e&&i>o){var s=a.v;a.v=a.w,a.w=s}return void 0!==r&&(a.name=r),a}function d(e,t){return l(e,t.v,t.w,t.name)}function h(e){return"function"===typeof e}n.r(s),n.d(s,"getGraphComplement",function(){return _e}),function(e){e.DEFAULT_EDGE_NAME="\0",e.GRAPH_NODE="\0",e.EDGE_KEY_DELIM="\x01"}(a||(a={}));var p=function(e){return e.nodes().map(function(t){var n={id:t,value:e.node(t),parent:e.parent(t)};return void 0===n.value&&delete n.value,void 0===n.parent&&delete n.parent,n})},g=function(e){return e.edges().map(function(t){var n=e.edge(t),r={v:t.v,w:t.w,value:n,name:t.name};return void 0===r.name&&delete r.name,void 0===r.value&&delete r.value,r})},v=function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:p(e),edges:g(e),value:e.graph()};return void 0===t.value&&delete t.value,t};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _={compound:!1,multigraph:!1,directed:!0},w=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=a.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(e){return t.label=e,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(e){return h(e)?t.defaultNodeLabelFn=e:t.defaultNodeLabelFn=function(){return e},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(e){return t.nodesLabelMap.get(e)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(e){var n;return!(null===(n=t.inEdgesMap.get(e))||void 0===n?void 0:n.size)})},this.sinks=function(){return t.nodes().filter(function(e){var n;return!(null===(n=t.outEdgesMap.get(e))||void 0===n?void 0:n.size)})},this.setNodes=function(e,n){return e.map(function(e){return t.setNode(e,n)}),t},this.hasNode=function(e){return t.nodesLabelMap.has(e)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(e){if(t.isCompound()){var n,r=null===(n=t.parentMap)||void 0===n?void 0:n.get(e);if(r!==t.GRAPH_NODE)return r}},this.removeFromParentsChildList=function(e){var n=t.parentMap.get(e);t.childrenMap.get(n).delete(e)},this.setParent=function(e,n){var r,i;t.checkCompound();for(var o=void 0===n?t.GRAPH_NODE:n,a=t.parent(o);a;){if(e===a)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");a=t.parent(a)}n&&t.setNode(n),t.setNode(e),t.removeFromParentsChildList(e),null===(r=t.parentMap)||void 0===r||r.set(e,o);var s=t.childrenMap.get(o);return s.set(e,!0),null===(i=t.childrenMap)||void 0===i||i.set(o,s),t},this.children=function(e){var n=void 0===e?t.GRAPH_NODE:e;if(t.isCompound()){var r,i=null===(r=t.childrenMap)||void 0===r?void 0:r.get(n);return i?Array.from(i.keys()):void 0}return n===t.GRAPH_NODE?t.nodes():e&&t.hasNode(e)?[]:void 0},this.predecessors=function(e){var n=t.predecessorsMap.get(e);return n?Array.from(n.keys()):void 0},this.successors=function(e){var n=t.successorsMap.get(e);return n?Array.from(n.keys()):void 0},this.neighbors=function(e){var n;if(t.hasNode(e))return Array.from(new Set(null===(n=t.predecessors(e))||void 0===n?void 0:n.concat(t.successors(e))))},this.isLeaf=function(e){var n,r;return t.isDirected()?!(null===(r=t.successors(e))||void 0===r?void 0:r.length):!(null===(n=t.neighbors(e))||void 0===n?void 0:n.length)},this.filterNodes=function(n){var r=t.directed,i=t.multigraph,o=t.compound,a=new e({directed:r,multigraph:i,compound:o});if(a.setGraph(t.graph()),t.nodes().forEach(function(e){n(e)&&a.setNode(e,t.node(e))}),t.edges().forEach(function(e){a.hasNode(e.v)&&a.hasNode(e.w)&&a.setEdgeObj(e,t.edge(e))}),o){a.nodes().forEach(function(e){a.setParent(e,function(e){for(var n=t.parent(e);void 0!==n&&!a.hasNode(n);)n=t.parent(n);return n}(e))})}return a},this.setDefaultEdgeLabel=function(e){return h(e)?t.defaultEdgeLabelFn=e:t.defaultEdgeLabelFn=function(){return e},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(e,n){return t.setEdge(e.v,e.w,n,e.name)},this.setPath=function(e,n){return e.reduce(function(e,r){return t.setEdge(e,r,n),r}),t},this.edgeFromArgs=function(e,n,r){return t.edge({v:e,w:n,name:r})},this.edge=function(e){return t.edgesLabelsMap.get(d(t.isDirected(),e))},this.hasEdge=function(e,n,r){return t.edgesLabelsMap.has(d(t.isDirected(),{v:e,w:n,name:r}))},this.removeEdgeObj=function(e){var n=e.v,r=e.w,i=e.name;return t.removeEdge(n,r,i)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(e,n){var r=t.inEdgesMap.get(e);if(r)return Array.from(r.values()).filter(function(e){return!n||e.v===n})},this.outEdges=function(e,n){var r=t.outEdgesMap.get(e);if(r)return Array.from(r.values()).filter(function(e){return!n||e.w===n})},this.nodeEdges=function(e,n){var r;if(t.hasNode(e))return null===(r=t.inEdges(e,n))||void 0===r?void 0:r.concat(t.outEdges(e,n))},this.toJSON=function(){return v(t)},this.nodeInDegree=function(e){var n=t.inEdgesMap.get(e);return n?n.size:0},this.nodeOutDegree=function(e){var n=t.outEdgesMap.get(e);return n?n.size:0},this.nodeDegree=function(e){return t.nodeInDegree(e)+t.nodeOutDegree(e)},this.source=function(e){return e.v},this.target=function(e){return e.w};var r=y(y({},_),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}var t,n,r;return t=e,(n=[{key:"setNode",value:function(e,t){var n,r=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,a=this.parentMap,s=this.childrenMap,u=this.inEdgesMap,c=this.outEdgesMap,l=this.predecessorsMap,f=this.successorsMap;if(r.has(e))return void 0!==t&&r.set(e,t),this;(r.set(e,t||i(e)),o())&&(null===a||void 0===a||a.set(e,this.GRAPH_NODE),null===s||void 0===s||s.set(e,new Map),(null===s||void 0===s?void 0:s.has(this.GRAPH_NODE))||null===s||void 0===s||s.set(this.GRAPH_NODE,new Map),null===s||void 0===s||null===(n=s.get(this.GRAPH_NODE))||void 0===n||n.set(e,!0));return[u,c,l,f].forEach(function(t){return t.set(e,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(e){var t=this;if(this.hasNode(e)){var n,r,i,o=function(e){t.removeEdge(e.v,e.w,e.name)},a=this.inEdgesMap,s=this.outEdgesMap,u=this.predecessorsMap,c=this.successorsMap,l=this.nodesLabelMap;if(this.isCompound())this.removeFromParentsChildList(e),null===(n=this.parentMap)||void 0===n||n.delete(e),null===(r=this.children(e))||void 0===r||r.forEach(function(e){return t.setParent(e)}),null===(i=this.childrenMap)||void 0===i||i.delete(e);var f=a.get(e),d=s.get(e);Array.from(f.values()).forEach(function(e){return o(e)}),Array.from(d.values()).forEach(function(e){return o(e)}),l.delete(e),a.delete(e),s.delete(e),u.delete(e),c.delete(e),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(e,t,n,r){var i,o,a=f(this.isDirected(),e,t,r),s=d(this.isDirected(),a),c=a.v,l=a.w;if(this.edgesLabelsMap.has(s))return this.edgesLabelsMap.set(s,n),this;if(void 0!==r&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(l),this.edgesLabelsMap.set(s,n||this.defaultEdgeLabelFn(c,l,r)),Object.freeze(a),this.edgesMap.set(s,a);var h=this.predecessorsMap.get(l),p=this.successorsMap.get(c);return u(h,c),u(p,l),null===(i=this.inEdgesMap.get(l))||void 0===i||i.set(s,a),null===(o=this.outEdgesMap.get(c))||void 0===o||o.set(s,a),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(e,t,n){var r=l(this.isDirected(),e,t,n);if(this.edgesMap.get(r)){var i=f(this.isDirected(),e,t,n),o=i.v,a=i.w;this.edgesLabelsMap.delete(r),this.edgesMap.delete(r);var s=this.predecessorsMap.get(a),u=this.successorsMap.get(o);c(s,o),c(u,a),this.inEdgesMap.get(a).delete(r),this.outEdgesMap.get(o).delete(r),this.edgeCountNum-=1}return this}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return(O="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}w.fromJSON=function(e){var t=new w(e.options);return void 0!==e.value&&t.setGraph(e.value),e.nodes.forEach(function(e){t.setNode(e.id,e.value),e.parent&&t.setParent(e.id,e.parent)}),e.edges.forEach(function(e){t.setEdge(e.v,e.w,e.value,e.name)}),t};var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(o,w);var t,n,r,i=M(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).eventPool={},e}return t=o,(n=[{key:"appendEvent",value:function(e,t){this.eventPool[e]||(this.eventPool[e]=[]),this.eventPool[e].push(t)}},{key:"removeEvent",value:function(e,t){if(this.eventPool[e]){var n=this.eventPool[e].indexOf(t);n>-1&&this.eventPool[e].splice(n,1)}}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.eventPool[e]&&this.eventPool[e].forEach(function(e){e.apply(void 0,n)})}},{key:"setNode",value:function(e,t){return O(C(o.prototype),"setNode",this).call(this,e,t),this.emitEvent("nodeAdd",e,t),this}},{key:"removeNode",value:function(e){return O(C(o.prototype),"removeNode",this).call(this,e),this.emitEvent("nodeRemove",e),this}},{key:"setEdge",value:function(e,t,n,r){return O(C(o.prototype),"setEdge",this).call(this,e,t,n,r),this.emitEvent("edgeAdd",e,t,n,r),this}},{key:"removeEdge",value:function(e,t,n){return O(C(o.prototype),"removeEdge",this).call(this,e,t,n),this.emitEvent("edgeRemove",e,t,n),this}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=T(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.arr=[],this.keyIndice=new Map,this.size=function(){return t.arr.length},this.keys=function(){return t.arr.map(function(e){return e.key})},this.has=function(e){return t.keyIndice.has(e)},this.priority=function(e){var n=t.keyIndice.get(e);if(void 0!==n)return t.arr[n].priority},this.swap=function(e,n){var r=t.arr,i=t.keyIndice,o=[r[e],r[n]],a=o[0],s=o[1];r[e]=s,r[n]=a,i.set(a.key,n),i.set(s.key,e)},this.innerDecrease=function(e){for(var n,r=t.arr,i=r[e].priority,o=e;0!==o;){var a;if((null===(a=r[n=o>>1])||void 0===a?void 0:a.priority)<i)break;t.swap(o,n),o=n}},this.heapify=function(e){var n=t.arr,r=e<<1,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(t.swap(e,o),t.heapify(o)))},this.min=function(){if(0===t.size())throw new Error("Queue underflow");return t.arr[0].key},this.add=function(e,n){var r=t.keyIndice,i=t.arr;if(!r.has(e)){var o=i.length;return r.set(e,o),i.push({key:e,priority:n}),t.innerDecrease(o),!0}return!1},this.removeMin=function(){t.swap(0,t.arr.length-1);var e=t.arr.pop();return t.keyIndice.delete(e.key),t.heapify(0),e.key},this.decrease=function(e,n){if(!t.has(e))throw new Error("There's no key named ".concat(e));var r=t.keyIndice.get(e);if(n>t.arr[r].priority)throw new Error("New priority is greater than current priority.Key: ".concat(e," Old: + ").concat(t.arr[r].priority," New: ").concat(n));t.arr[r].priority=n,t.innerDecrease(r)}}),N=function(e,t){var n,r=new w,i=new Map,o=new I;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i.set(r,n),o.decrease(r,s))}}if(0===e.nodeCount())return r;e.nodes().forEach(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)}),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){var u;if(n=o.removeMin(),i.has(n))r.setEdge(n,i.get(n));else{if(s)throw new Error("Input graph is not connected: "+e.graph());s=!0}null===(u=e.nodeEdges(n))||void 0===u||u.forEach(a)}return r},P=function(e){var t=new Set,n=[];return e.nodes().forEach(function(r){for(var i=[],o=[r];o.length>0;){var a,s,u=o.pop();t.has(u)||(t.add(u),i.push(u),null===(a=e.successors(u))||void 0===a||a.forEach(function(e){return o.push(e)}),null===(s=e.predecessors(u))||void 0===s||s.forEach(function(e){return o.push(e)}))}i.length&&n.push(i)}),n},D=function(e,t,n){var r=Array.isArray(t)?t:[t],i=function(t){return e.isDirected()?e.successors(t):e.neighbors(t)},o=[],a=[];return r.forEach(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,r,i,o,a){i.includes(n)||(i.push(n),r||a.push(n),o(n).forEach(function(n){return e(t,n,r,i,o,a)}),r&&a.push(n))}(e,t,"post"===n,a,i,o)}),o};function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(){return 1},F=function(e,t,n,r){var i,o,a=new Map,s=new I,u=function(e){var t=e.v!==i?e.v:e.w,r=a.get(t),u=n(e),c=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(t,c))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a.set(e,{distance:n}),s.add(e,n)});s.size()>0&&(i=s.removeMin(),!(o=a.get(i))||o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);var c={};return Array.from(a.entries()).forEach(function(e){var t=L(e,2),n=t[0],r=t[1];return c[String(n)]=r,c}),c},z=function(e,t,n,r){return F(e,t,n||B,r||function(t){return e.outEdges(t)})},G=function(e,t,n){var r={};return e.nodes().forEach(function(i){return r[String(i)]=z(e,i,t,n),r}),r},U=function(e){var t=0,n=[],r=new Map,i=[];return e.nodes().forEach(function(o){r.has(o)||function o(a){var s,u={onStack:!0,lowlink:t,index:t};if(r.set(a,u),t+=1,n.push(a),null===(s=e.successors(a))||void 0===s||s.forEach(function(e){var t;if(r.has(e)){if(null===(t=r.get(e))||void 0===t?void 0:t.onStack){var n=r.get(e);u.lowlink=Math.min(u.lowlink,n.index)}}else{o(e);var i=r.get(e);u.lowlink=Math.min(u.lowlink,i.lowlink)}}),u.lowlink===u.index){var c,l=[];do{c=n.pop(),r.get(c).onStack=!1,l.push(c)}while(a!==c);i.push(l)}}(o)}),i},V=function(e){return U(e).filter(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){var t=K();return function(){var n,r=Q(e);if(t){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function H(e){var t="function"===typeof Map?new Map:void 0;return(H=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return q(e,arguments,Q(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,e)})(e)}function q(e,t,n){return(q=K()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Z(i,n.prototype),i}).apply(null,arguments)}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(o,H(Error));var t,n,r,i=X(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();var J=function(e){var t=new Set,n=new Set,r=[];if(e.sinks().forEach(function i(o){if(n.has(o))throw new $;var a;t.has(o)||(n.add(o),t.add(o),null===(a=e.predecessors(o))||void 0===a||a.forEach(i),n.delete(o),r.push(o))}),t.size!==e.nodeCount())throw new $;return r},ee=function(e){try{J(e)}catch(t){if(t instanceof $)return!1;throw t}return!0},te=function(e,t){return D(e,t,"post")},ne=function(e,t){return D(e,t,"pre")},re=function(){return 1};var ie=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){var o=String(e);r[o]={},r[o][o]={distance:0},i.forEach(function(t){e!==t&&(r[o][String(t)]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,a=t(n);r[o][String(i)]={distance:a,predecessor:e}})}),i.forEach(function(e){var t=String(e),n=r[t];i.forEach(function(e){var o=String(e),a=r[o];i.forEach(function(e){var r=String(e),i=a[t],o=n[r],s=a[r],u=i.distance+o.distance;u<s.distance&&(s.distance=u,s.predecessor=o.predecessor)})})}),r}(e,t||re,n||function(t){return e.outEdges(t)})},oe=function(e,t){for(var n=e.nodes(),r=0;r<n.length;r++){var i=n[r];if(t.hasNode(i))return!0}return!1},ae=function(e,t){for(var n=e.edges(),r=0;r<n.length;r++){var i=n[r];if(t.hasEdge(i.v,i.w,i.name))return!0}return!1},se=function(e,t){return e.nodes().filter(function(e){return t.hasNode(e)})},ue=function(e,t){return e.edges().filter(function(e){return t.hasEdge(e.v,e.w,e.name)})},ce=function(e,t){return e.isCompound()===t.isCompound()&&e.isDirected()===t.isDirected()&&e.isMultigraph()===t.isMultigraph()},le=function(e,t){return se(e,t).length===e.nodes().length},fe=function(e,t){return ue(e,t).length===e.edges().length},de=function(e,t){return ce(e,t)&&e.nodeCount()===t.nodeCount()&&le(e,t)&&e.edgeCount()===t.edgeCount()&&fe(e,t)},he=function(e,t){return le(e,t)&&fe(e,t)};function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){return e instanceof w}function me(e){if(e.isMultigraph())return!1;for(var t=e.edges(),n=new Map,r=0;r<t.length;r++){var i=t[r];if(i.v===i.w)return!1;var o=pe([i.v,i.w].sort(),2),a=o[0],s=o[1],u="".concat(a,"-").concat(s);if(n.has(u))return!1;n.set(u,!0)}return!0}function ye(e){return 0===e.nodes().length}function be(e){for(var t=e.edges(),n=0;n<t.length;n++){var r=t[n];if(r.v===r.w)return!0}return!1}var xe=function(e,t){if(!me(e)||!me(t))return!1;if(!le(e,t))return!1;if(ae(e,t))return!1;var n=e.nodeCount();return e.edgeCount()+t.edgeCount()===n*(n-1)/2},_e=function(e){if(!me(e))return null;for(var t=e.nodeCount(),n=new w({compound:e.isCompound(),directed:e.isDirected(),multigraph:e.isMultigraph()}),r=e.nodes(),i=0;i<t;i++){var o=r[i];n.setNode(o,e.node(o));for(var a=i+1;a<t;a++){var s=r[a];e.hasEdge(o,s)||n.setEdge(o,s)}}return n};n.d(t,"Graph",function(){return w}),n.d(t,"GraphWithEvent",function(){return A}),n.d(t,"algorithm",function(){return r}),n.d(t,"comparision",function(){return o}),n.d(t,"essence",function(){return i}),n.d(t,"generate",function(){return s})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=-1,i=1;function o(){return i++}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i,o,a,s,u,c,l=n(12),f=n.n(l),d=n(18),h=n.n(d),p=n(13),g=n.n(p),v=n(7),m=n.n(v),y=n(9),b=n.n(y),x=n(14),_=n.n(x),w=(n(37),n(6)),E=n(4),S=n(15),O=n(43),k=(r=Object(w.injectable)(),i=Object(w.inject)(S.a.GeometryComponentManager),o=Object(w.inject)(S.a.RenderEngine),r((s=function(){function e(){m()(this,e),g()(this,"geometry",u,this),g()(this,"engine",c,this)}return b()(e,[{key:"execute",value:function(){var e=h()(f.a.mark(function e(){var t=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach(function(e,n){n.dirty&&(n.attributes.forEach(function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:O.a.FLOAT});e.dirty=!1}}),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:O.a.UNSIGNED_INT,usage:O.a.STATIC_DRAW})),n.dirty=!1)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach(function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach(function(e){e.buffer&&e.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3}).vertexCount,t=Object(E.createEntity)();return this.geometry.create(t,{vertexCount:e})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=Object(E.createEntity)();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),u=_()(s.prototype,"geometry",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=_()(s.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s))||a)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(5),i=n.n(r),o=n(7),a=n.n(o),s=n(9),u=n.n(s),c=n(28),l=n.n(c),f=n(29),d=n.n(f),h=n(30),p=n.n(h),g=n(22),v=n.n(g),m=n(4);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var _=function(e){d()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:m.gl.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign(l()(r),e),r}return u()(n,[{key:"setDefines",value:function(e){return this.defines=b(b({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach(function(t){return n.setUniform(t,e[t])}),this;var r=this.uniforms.find(function(t){return t.name===e});return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(n(34).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r,i,o,a,s,u,c,l,f,d=n(5),h=n.n(d),p=n(12),g=n.n(p),v=n(18),m=n.n(v),y=n(13),b=n.n(y),x=n(7),_=n.n(x),w=n(9),E=n.n(w),S=n(14),O=n.n(S),k=(n(37),n(6)),M=n(4),C=n(15);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){h()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=(r=Object(k.injectable)(),i=Object(k.inject)(C.a.MaterialComponentManager),o=Object(k.inject)(C.a.RenderEngine),a=Object(k.inject)(C.a.ShaderModuleService),r((u=function(){function e(){_()(this,e),b()(this,"material",c,this),b()(this,"engine",l,this),b()(this,"shaderModule",f,this)}return E()(e,[{key:"execute",value:function(){var e=m()(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=Object(M.createEntity)(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map(function(e){return{dirty:!0,name:e,data:a.uniforms[e]}}))}return this.material.create(t,j(j({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),c=O()(u.prototype,"material",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=O()(u.prototype,"engine",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O()(u.prototype,"shaderModule",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r,i=n(7),o=n.n(i),a=n(28),s=n.n(a),u=n(29),c=n.n(u),l=n(30),f=n.n(l),d=n(22),h=n.n(d),p=n(34);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}!function(e){e[e.Standard=0]="Standard"}(r||(r={}));var v=function(e){c()(n,e);var t=g(n);function n(e){var i;return o()(this,n),(i=t.call(this,e)).strategy=r.Standard,i.visibilityPlaneMask=0,i.visible=!1,Object.assign(s()(i),e),i}return n}(p.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(7),i=n.n(r),o=n(28),a=n.n(o),s=n(29),u=n.n(s),c=n(30),l=n.n(c),f=n(22),d=n.n(f),h=n(34),p=n(77);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var v=function(e){u()(n,e);var t=g(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new p.a,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign(a()(r),e),r}return n}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r,i,o,a,s,u,c,l,f,d,h,p,g,v=n(12),m=n.n(v),y=n(18),b=n.n(y),x=n(13),_=n.n(x),w=n(7),E=n.n(w),S=n(9),O=n.n(S),k=n(14),M=n.n(k),C=(n(37),n(3)),A=n(6),j=n(15),T=n(67),I=n(198);function N(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(r=Object(A.injectable)(),i=Object(A.inject)(j.a.MeshComponentManager),o=Object(A.inject)(j.a.CullableComponentManager),a=Object(A.inject)(j.a.GeometryComponentManager),s=Object(A.inject)(j.a.HierarchyComponentManager),u=Object(A.inject)(j.a.TransformComponentManager),r((l=function(){function e(){E()(this,e),_()(this,"mesh",f,this),_()(this,"cullable",d,this),_()(this,"geometry",h,this),_()(this,"hierarchy",p,this),_()(this,"transform",g,this),this.planes=void 0}return O()(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=b()(m.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,g,v,y,b,x,_,w,E;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=N(o.getEntities());try{for(s.s();!(u=s.n()).done;)c=u.value,(l=this.mesh.getComponentByEntity(c))&&(f=this.hierarchy.getComponentByEntity(c),d=this.cullable.getComponentByEntity(c),h=l.geometry,p=this.transform.getComponentByEntity(c),h&&h.aabb&&p&&l.aabbDirty&&(g=p.worldTransform,v=h.aabb,y=v.center,b=v.halfExtents,x=C.vec3.transformMat4(C.vec3.create(),y,g),_=Object(I.b)(g,C.mat3.create()),w=C.vec3.transformMat3(C.vec3.create(),b,_),l.aabb.update(x,w),l.aabbDirty=!1),d&&h&&(E=this.cullable.getComponentByEntity((null===f||void 0===f?void 0:f.parentID)||-1),d.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(l.aabb,(null===E||void 0===E?void 0:E.visibilityPlaneMask)||T.b.INDETERMINATE,this.planes||a.getFrustum().planes),d.visible=d.visibilityPlaneMask!==T.b.OUTSIDE))}catch(m){s.e(m)}finally{s.f()}}}catch(m){n.e(m)}finally{n.f()}case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===T.b.OUTSIDE||t===T.b.INSIDE)return t;for(var r=T.b.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,c=s.distance;if(C.vec3.dot(u,e.getNegativeFarPoint(n[i]))+c>0)return T.b.OUTSIDE;C.vec3.dot(u,e.getPositiveFarPoint(n[i]))+c>0&&(r|=a)}}return r}}]),e}(),f=M()(l.prototype,"mesh",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M()(l.prototype,"cullable",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=M()(l.prototype,"geometry",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=M()(l.prototype,"hierarchy",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=M()(l.prototype,"transform",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=l))||c)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(7),i=n.n(r),o=n(9),a=n.n(o),s=n(3),u=function(){function e(t,n){i()(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||s.vec3.fromValues(0,1,0),this.updatePNVertexFlag()}return a()(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return s.vec3.dot(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/s.vec3.len(this.normal);s.vec3.scale(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&s.vec3.lerp(n,e,t,i),o}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r,i,o,a,s,u,c,l,f,d,h,p,g=n(12),v=n.n(g),m=n(18),y=n.n(m),b=n(13),x=n.n(b),_=n(7),w=n.n(_),E=n(9),S=n.n(E),O=n(14),k=n.n(O),M=(n(37),n(6)),C=n(15),A=n(82),j=n(73),T=n(63),I=(r=Object(M.injectable)(),i=Object(M.inject)(C.a.Systems),o=Object(M.named)(C.a.FrameGraphSystem),a=Object(M.inject)(C.a.RenderPassFactory),s=Object(M.inject)(C.a.ConfigService),u=Object(M.inject)(C.a.ResourcePool),r((l=function(){function e(){w()(this,e),x()(this,"frameGraphSystem",f,this),x()(this,"renderPassFactory",d,this),x()(this,"configService",h,this),x()(this,"resourcePool",p,this)}return S()(e,[{key:"execute",value:function(){var e=y()(v.a.mark(function e(t){var n,r,i,o,a,s,u,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(T.a.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(T.a.IDENTIFIER,r,i),o=this.renderPassFactory(A.a.IDENTIFIER),a=o.setup,s=o.execute,u=o.tearDown,c=this.frameGraphSystem.addPass(A.a.IDENTIFIER,a,s,u),this.frameGraphSystem.present(c.data.output);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(j.a.IDENTIFIER).pick(e,t)}}]),e}(),f=k()(l.prototype,"frameGraphSystem",[i,o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=k()(l.prototype,"renderPassFactory",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k()(l.prototype,"configService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=k()(l.prototype,"resourcePool",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=l))||c)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(7),i=n.n(r),o=n(28),a=n.n(o),s=n(29),u=n.n(s),c=n(30),l=n.n(c),f=n(22),d=n.n(f);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var p=function(e){u()(n,e);var t=h(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign(a()(r),e),r}return n}(n(34).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,i,o,a,s,u,c,l,f,d=n(12),h=n.n(d),p=n(18),g=n.n(p),v=n(13),m=n.n(v),y=n(7),b=n.n(y),x=n(9),_=n.n(x),w=n(14),E=n.n(w),S=(n(37),n(3)),O=n(6),k=n(15),M=(r=Object(O.injectable)(),i=Object(O.inject)(k.a.HierarchyComponentManager),o=Object(O.inject)(k.a.TransformComponentManager),a=Object(O.inject)(k.a.MeshComponentManager),r((u=function(){function e(){b()(this,e),m()(this,"hierarchy",c,this),m()(this,"transform",l,this),m()(this,"mesh",f,this)}return _()(e,[{key:"execute",value:function(){var e=g()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach(function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach(function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)})}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(S.mat4.invert(S.mat4.create(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),c=E()(u.prototype,"hierarchy",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=E()(u.prototype,"transform",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E()(u.prototype,"mesh",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(7),i=n.n(r),o=n(9),a=n.n(o),s=n(28),u=n.n(s),c=n(29),l=n.n(c),f=n(30),d=n.n(f),h=n(22),p=n.n(h),g=n(3);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var m=function(e){l()(n,e);var t=v(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=g.vec3.fromValues(0,0,0),r.localRotation=g.quat.fromValues(0,0,0,1),r.localScale=g.vec3.fromValues(1,1,1),r.localTransform=g.mat4.create(),r.position=g.vec3.fromValues(0,0,0),r.rotation=g.quat.fromValues(0,0,0,1),r.scaling=g.vec3.fromValues(1,1,1),r.worldTransform=g.mat4.create(),r.matrixTransform=function(){var e=g.mat4.create();return function(t){g.mat4.multiply(e,r.getLocalTransform(),t),g.mat4.getScaling(r.localScale,e),g.mat4.getTranslation(r.localPosition,e),g.mat4.getRotation(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=g.quat.create(),t=g.quat.create(),n=g.quat.create();return function(i,o,a){r.setDirty(),g.quat.fromEuler(e,i,0,0),g.quat.fromEuler(t,0,o,0),g.quat.fromEuler(n,0,0,a),g.quat.multiply(r.localRotation,e,r.localRotation),g.quat.multiply(r.localRotation,r.localRotation,t),g.quat.multiply(r.localRotation,n,r.localRotation),g.quat.normalize(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=g.vec3.create(),t=g.quat.create(),n=g.vec3.create(),i=g.vec3.create(),o=g.quat.create(),a=g.vec3.create();return function(s,u,c){r.setDirty(),g.mat4.getScaling(e,s.worldTransform),g.mat4.getTranslation(n,s.worldTransform),g.mat4.getRotation(t,s.worldTransform),g.mat4.getScaling(i,u.worldTransform),g.mat4.getTranslation(a,u.worldTransform),g.mat4.getRotation(o,u.worldTransform),g.vec3.lerp(r.localScale,e,i,c),g.quat.slerp(r.localRotation,t,o,c),g.vec3.lerp(r.localPosition,n,a,c)}}(),r.translate=function(){var e=g.vec3.create();return function(t){return g.vec3.add(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),u()(r)}}(),r.translateLocal=function(e){return g.vec3.transformQuat(e,e,r.localRotation),g.vec3.add(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),u()(r)},r.setPosition=function(){var e=g.mat4.create();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?g.vec3.copy(r.localPosition,t):(g.mat4.copy(e,r.parent.worldTransform),g.mat4.invert(e,e),g.vec3.transformMat4(r.localPosition,t,e)),u()(r)}}(),r.rotate=function(){var e=g.quat.create();return function(t){if(null===r.parent)g.quat.multiply(r.localRotation,r.localRotation,t),g.quat.normalize(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();g.quat.copy(e,i),g.quat.invert(e,e),g.quat.multiply(e,e,t),g.quat.multiply(r.localRotation,t,n),g.quat.normalize(r.localRotation,r.localRotation)}return r.setLocalDirty(),u()(r)}}(),r.rotateLocal=function(e){return g.quat.multiply(r.localRotation,r.localRotation,e),g.quat.normalize(r.localRotation,r.localRotation),r.setLocalDirty(!0),u()(r)},r.setRotation=function(){var e=g.quat.create();return function(t){return null===r.parent?g.quat.copy(r.localRotation,t):(g.quat.copy(e,r.parent.getRotation()),g.quat.invert(e,e),g.quat.copy(r.localRotation,e),g.quat.mul(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),u()(r)}}(),r}return a()(n,[{key:"setLocalPosition",value:function(e){g.vec3.copy(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){g.vec3.copy(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return g.quat.copy(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(g.mat4.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){g.mat4.multiply(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),g.mat4.getScaling(this.localScale,this.worldTransform),g.mat4.getTranslation(this.localPosition,this.worldTransform),g.mat4.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=g.vec3.fromValues(0,0,0),this.localRotation=g.quat.fromValues(0,0,0,1),this.localScale=g.vec3.fromValues(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),g.vec3.multiply(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(g.mat4.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return g.mat4.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return g.mat4.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return g.mat4.getScaling(this.scaling,this.worldTransform),this.scaling}}]),n}(n(34).a);m.DIRTY=1},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(7),o=n.n(i),a=n(9),s=n.n(a),u=n(6),c=Object(u.injectable)()(r=function(){function e(){o()(this,e),this.config=void 0}return s()(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}())||r},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,i,o=n(7),a=n.n(o),s=n(9),u=n.n(s),c=n(6);!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(i||(i={}));var l=Object(c.injectable)()(r=function(){function e(){a()(this,e)}return u()(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||r},function(e,t,n){"use strict";var r=n(70),i=n.n(r),o=n(12),a=n.n(o),s=n(18),u=n.n(s),c=n(13),l=n.n(c),f=n(7),d=n.n(f),h=n(9),p=n.n(h),g=n(14),v=n.n(g),m=(n(37),n(6)),y=n(15),b=function e(){d()(this,e),this.index=void 0},x=function e(){d()(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},_=function(){function e(){d()(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return p()(e,[{key:"read",value:function(e){return this.reads.find(function(t){return t.index===e.index})||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find(function(e){return e.index===t.index}))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),w=n(29),E=n.n(w),S=n(30),O=n.n(S),k=n(22),M=n.n(k);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=M()(e);if(t){var i=M()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var A,j,T,I,N,P=function(e){E()(n,e);var t=C(n);function n(){var e;d()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return p()(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}(function e(){d()(this,e),this.first=void 0,this.last=void 0}),D=function e(){d()(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function L(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return B});var B=(A=Object(m.injectable)(),j=Object(m.inject)(y.a.RenderEngine),A((I=function(){function e(){d()(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],l()(this,"engine",N,this)}return p()(e,[{key:"execute",value:function(){var e=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(e){e.tearDown&&e.tearDown()}),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new x;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new _;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find(function(t){return t.name===e})}},{key:"compile",value:function(){var e,t=this,n=L(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach(function(e){t.resourceNodes[e.index].readerCount++})}}catch(T){n.e(T)}finally{n.f()}var i,o=[],a=L(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(T){a.e(T)}finally{a.f()}for(;o.length;){var u=o.pop(),c=u&&u.writer;if(c&&0===--c.refCount){var l,f=L(c.reads);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=this.resourceNodes[d.index];0===--h.readerCount&&o.push(h)}}catch(T){f.e(T)}finally{f.f()}}}this.resourceNodes.forEach(function(e){e.resource.refs+=e.readerCount});var p,g=L(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=L(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(T){y.e(T)}finally{y.f()}var _,w=L(v.writes);try{for(w.s();!(_=w.n()).done;){var E=_.value,S=this.resourceNodes[E.index].resource;S.first=S.first?S.first:v,S.last=v}}catch(T){w.e(T)}finally{w.f()}}}}catch(T){g.e(T)}finally{g.f()}for(var O=0;O<2;O++){var k,M=L(this.resourceNodes);try{for(M.s();!(k=M.n()).done;){var C=k.value.resource;if(C.priority===O&&C.refs){var A=C.first,j=C.last;A&&j&&(A.devirtualize.push(C),j.destroy.push(C))}}}catch(T){M.e(T)}finally{M.f()}}}},{key:"executePassNodes",value:function(){var e=u()(a.a.mark(function e(t){var n,r,o,s,u,c,l,f,d,h,p,g,v;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=L(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(o=i()(r.value,2),s=o[0],!(u=o[1]).refCount){e.next=16;break}c=L(u.devirtualize);try{for(c.s();!(l=c.n()).done;)l.value.preExecuteDevirtualize(this.engine)}catch(a){c.e(a)}finally{c.f()}f=L(u.destroy);try{for(f.s();!(d=f.n()).done;)d.value.preExecuteDestroy(this.engine)}catch(a){f.e(a)}finally{f.f()}return e.next=12,this.frameGraphPasses[s].execute(this,this.frameGraphPasses[s],t);case 12:h=L(u.devirtualize);try{for(h.s();!(p=h.n()).done;)p.value.postExecuteDevirtualize(this.engine)}catch(a){h.e(a)}finally{h.f()}g=L(u.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(a){g.e(a)}finally{g.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}},e,this,[[1,20,23,26]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new D;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new b;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new P;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new P;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",function(t,n){n.read(e),n.hasSideEffect=!0},u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})))}}]),e}(),N=v()(I.prototype,"engine",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I))||T)},function(e,t,n){"use strict";var r=n(5),i=n.n(r),o=n(7),a=n.n(o),s=n(9),u=n.n(s),c=n(6);var l,f=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function d(e){var t={};return{content:e=e.replace(f,function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce(function(e,t){return e.push(Number(t.trim())),e},[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")}),uniforms:t}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return m});var g=/precision\s+(high|low|medium)p\s+float/,v=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,m=Object(c.injectable)()(l=function(){function e(){a()(this,e),this.moduleCache={},this.rawContentCache={}}return u()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=d(r),u=s.content,c=s.uniforms,l=d(o),f=l.content,h=l.uniforms;this.rawContentCache[e]={fs:f,uniforms:p(p(p({},c),h),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),c=u.content,l=u.includeList,f=c,d=(n=s.concat(l).concat(e),n.filter(function(e,t,n){return n.indexOf(e)===t})).reduce(function(e,n){return p(p({},e),t.rawContentCache[n].uniforms)},{});return g.test(c)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+c),this.moduleCache[e]={fs:f.trim(),uniforms:d,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(v,function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content}),includeList:t}}}]),e}())||l},function(e,t,n){"use strict";var r=n(5),i=n.n(r),o=n(7),a=n.n(o),s=n(9),u=n.n(s),c=n(28),l=n.n(c),f=n(29),d=n.n(f),h=n(30),p=n.n(h),g=n(22),v=n.n(g),m=n(3),y=n(34),b=n(45),x=n.n(b),_=9007199254740991,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object WeakMap]"]=!1;var E=Object.prototype.toString;var S=function(e){return function(e){return!!e&&"object"===x()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=_}(e.length)&&!!w[E.call(e)]};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}n.d(t,"a",function(){return C});var C=function(e){d()(n,e);var t=M(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign(l()(r),e),r}return u()(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find(function(t){return t.name===e});return i?(i.data=t,i.dirty=!0):this.attributes.push(k(k({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find(function(e){return"position"===e.name}),n=this.attributes.find(function(e){return"normal"===e.name});if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=m.vec4.fromValues(t.data[r],t.data[r+1],t.data[r+2],1);m.vec4.transformMat4(i,i,e),S(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=m.mat3.normalFromMat4(m.mat3.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=m.vec3.fromValues(n.data[a],n.data[a+1],n.data[a+2]);m.vec3.transformMat3(s,s,o),m.vec3.normalize(s,s),S(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(y.a)},function(e,t,n){"use strict";var r={primaryColor:"#FF6A00",nodeSize:26,mode:"light"};t.a=function(e){var t=Object.assign(Object.assign({},r),e),n=t.nodeSize,i=t.primaryColor,o={light:{fill:i,fillOpacity:.1,stroke:i,strokeOpacity:1,icon:i,badge:{fill:i,stroke:i,font:"#fff"},label:"#000",disabled:"#ddd"},dark:{fill:i,fillOpacity:.3,stroke:i,strokeOpacity:1,icon:"#fff",badge:{fill:i,stroke:i,font:"#fff"},label:"#fff",disabled:"#ddd3"}}[t.mode];return{type:"graphin-circle",style:{keyshape:{size:n,fill:o.fill,fillOpacity:o.fillOpacity,stroke:o.stroke,strokeOpacity:o.strokeOpacity,lineWidth:1,opacity:1,type:"circle"},label:{position:"bottom",value:"",fill:o.label,fontSize:12,offset:0,background:void 0,fillOpacity:1},icon:{type:"text",value:"",size:n/2,fill:o.icon,fillOpacity:1,offset:[0,0]},badges:[],halo:{visible:!1,fillOpacity:.1}},status:{normal:{},selected:{halo:{visible:!0},keyshape:{lineWidth:5}},hover:{halo:{visible:!0}},active:{},inactive:{keyshape:{fillOpacity:.04,strokeOpacity:.04},icon:{fillOpacity:.04},label:{fillOpacity:.04}},disabled:{halo:{visible:!1},keyshape:{fill:o.disabled,stroke:o.disabled},icon:{fill:o.disabled},label:{fill:o.disabled}}}}}},function(e,t,n){"use strict";var r={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"};t.a=function(e){var t=Object.assign(Object.assign({},r),e),n=t.edgeSize,i=t.primaryEdgeColor,o={light:{stroke:i,label:i,disabled:"#ddd"},dark:{stroke:i,label:i,disabled:"#ddd3"}}[t.mode];return{type:"graphin-line",style:{keyshape:{type:"line",lineWidth:n,stroke:o.stroke,strokeOpacity:1,lineAppendWidth:9,cursor:"pointer"},halo:{visible:!1,cursor:"pointer",strokeOpacity:.4},label:{value:"",position:"top",fill:o.label,fontSize:12,textAlign:"center"},animate:{}},status:{hover:{halo:{visible:!0}},selected:{halo:{visible:!0},keyshape:{lineWidth:2},label:{visible:!0}},active:{halo:{visible:!0},keyshape:{lineWidth:2},label:{visible:!0}},inactive:{halo:{visible:!1},keyshape:{strokeOpacity:.1},label:{visible:!1}},disabled:{halo:{visible:!1},keyshape:{lineWidth:.5,stroke:o.disabled},label:{visible:!1}}}}}},function(e,t,n){"use strict";t.a=function(){return{type:"circle",style:{labelCfg:{position:"top"}},status:{}}}},function(e,t,n){"use strict";(function(e,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=200,o="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",u="[object Boolean]",c="[object Date]",l="[object Function]",f="[object GeneratorFunction]",d="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",j=/\w*$/,T=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,N={};N[s]=N["[object Array]"]=N[b]=N[x]=N[u]=N[c]=N[_]=N[w]=N[E]=N[S]=N[O]=N[d]=N[h]=N[p]=N[g]=N[v]=N[m]=N[y]=N[k]=N[M]=N[C]=N[A]=!0,N["[object Error]"]=N[l]=N["[object WeakMap]"]=!1;var P="object"==("undefined"===typeof e?"undefined":r(e))&&e&&e.Object===Object&&e,D="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,L=P||D||Function("return this")(),R="object"==("undefined"===typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,B=R&&"object"==r(n)&&n&&!n.nodeType&&n,F=B&&B.exports===R;function z(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function U(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Y(e,t){return function(n){return e(t(n))}}function X(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var H=Array.prototype,q=Function.prototype,K=Object.prototype,Z=L["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$=q.toString,J=K.hasOwnProperty,ee=K.toString,te=RegExp("^"+$.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=F?L.Buffer:void 0,re=L.Symbol,ie=L.Uint8Array,oe=Y(Object.getPrototypeOf,Object),ae=Object.create,se=K.propertyIsEnumerable,ue=H.splice,ce=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=Y(Object.keys,Object),de=Re(L,"DataView"),he=Re(L,"Map"),pe=Re(L,"Promise"),ge=Re(L,"Set"),ve=Re(L,"WeakMap"),me=Re(Object,"create"),ye=Ue(de),be=Ue(he),xe=Ue(pe),_e=Ue(ge),we=Ue(ve),Ee=re?re.prototype:void 0,Se=Ee?Ee.valueOf:void 0;function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){this.__data__=new ke(e)}function Ae(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ye(e)}(e)&&J.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==s)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!J.call(e,a)||o&&("length"==a||ze(a,i))||n.push(a);return n}function je(e,t,n){var r=e[t];J.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Te(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Ie(e,t,n,r,i,o,a){var T;if(r&&(T=o?r(e,i,o,a):r(e)),void 0!==T)return T;if(!qe(e))return e;var I=We(e);if(I){if(T=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,T)}else{var P=Fe(e),D=P==l||P==f;if(Xe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(P==p||P==s||D&&!o){if(V(e))return o?e:{};if(T=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=oe(e),qe(t)?ae(t):{});var t}(D?{}:e),!t)return function(e,t){return De(e,Be(e),t)}(e,function(e,t){return e&&De(t,Ke(t),e)}(T,e))}else{if(!N[P])return o?e:{};T=function(e,t,n,r){var i=e.constructor;switch(t){case b:return Pe(e);case u:case c:return new i(+e);case x:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case w:case E:case S:case O:case k:case M:case C:case A:return function(e,t){var n=t?Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case d:return function(e,t,n){return U(t?n(W(e),!0):W(e),z,new e.constructor)}(e,r,n);case h:case m:return new i(e);case g:return function(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return U(t?n(X(e),!0):X(e),G,new e.constructor)}(e,r,n);case y:return o=e,Se?Object(Se.call(o)):{}}var o}(e,P,Ie,t)}}a||(a=new Ce);var L=a.get(e);if(L)return L;if(a.set(e,T),!I)var R=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ke,Be)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(R||e,function(i,o){R&&(i=e[o=i]),je(T,o,Ie(i,t,n,r,o,e,a))}),T}function Ne(e){return!(!qe(e)||(t=e,Q&&Q in t))&&(He(e)||V(e)?te:T).test(Ue(e));var t}function Pe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function De(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;je(n,a,void 0===s?e[a]:s)}return n}function Le(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=me?me(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===o?void 0:n}return J.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:J.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?o:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),!0)},ke.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Te(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Me.prototype.clear=function(){this.__data__={hash:new Oe,map:new(he||ke),string:new Oe}},Me.prototype.delete=function(e){return Le(this,e).delete(e)},Me.prototype.get=function(e){return Le(this,e).get(e)},Me.prototype.has=function(e){return Le(this,e).has(e)},Me.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Ce.prototype.clear=function(){this.__data__=new ke},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!he||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new Me(r)}return n.set(e,t),this};var Be=ce?Y(ce,Object):function(){return[]},Fe=function(e){return ee.call(e)};function ze(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||K)}function Ue(e){if(null!=e){try{return $.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!==e&&t!==t}(de&&Fe(new de(new ArrayBuffer(1)))!=x||he&&Fe(new he)!=d||pe&&"[object Promise]"!=Fe(pe.resolve())||ge&&Fe(new ge)!=v||ve&&"[object WeakMap]"!=Fe(new ve))&&(Fe=function(e){var t=ee.call(e),n=t==p?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return x;case be:return d;case xe:return"[object Promise]";case _e:return v;case we:return"[object WeakMap]"}return t});var We=Array.isArray;function Ye(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!He(e)}var Xe=le||function(){return!1};function He(e){var t=qe(e)?ee.call(e):"";return t==l||t==f}function qe(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ke(e){return Ye(e)?Ae(e):function(e){if(!Ge(e))return fe(e);var t=[];for(var n in Object(e))J.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.a=function(e){return Ie(e,!0,!0)}}).call(this,n(74),n(155)(e))},function(e,t,n){"use strict";t.a=function(e){return Array.from(String(e)).reduce(function(e,t){return t.charCodeAt(0)>255?e+2:e+1},0)}},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n(26),i=n(1),o=n(11),a=["as","disabled"];function s(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var u=i.forwardRef(function(e,t){var n=e.as,i=e.disabled,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),c=s(Object.assign({tagName:n,disabled:i},u)),l=Object(r.a)(c,2),f=l[0],d=l[1].tagName;return Object(o.jsx)(d,Object.assign({},u,f,{ref:t}))});u.displayName="Button",t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1);function i(){var e=Object(r.useRef)(!0),t=Object(r.useRef)(function(){return e.current});return Object(r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),t.current}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(17),i=n(31),o=n(32),a=n(33),s=n(1);s.Component;function u(e,t){var n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(1),a=n(48),s=n(11),u=o.forwardRef(function(e,t){var n=e.controlId,u=e.as,c=void 0===u?"div":u,l=Object(i.a)(e,["controlId","as"]),f=Object(o.useMemo)(function(){return{controlId:n}},[n]);return Object(s.jsx)(a.a.Provider,{value:f,children:Object(s.jsx)(c,Object(r.a)({},l,{ref:t}))})});u.displayName="FormGroup",t.a=u},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(){return function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}}(),o=function(){return function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform}}(),a=function(){return function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"}}(),s=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),u=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),c=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=3,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(t){return t?g(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!==typeof navigator?g(navigator.userAgent):"undefined"!==typeof e&&e.version?new o(e.version.slice(1)):null}function p(e){return""!==e&&f.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function g(e){var t=p(e);if(!t)return null;var n=t[0],o=t[1];if("searchbot"===n)return new s;var u=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);u?u.length<l&&(u=r(r([],u,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(l-u.length),!0)):u=[];var f=u.join("."),h=function(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0],o=r[1],a=o.exec(e);if(a)return i}return null}(e),g=c.exec(e);return g&&g[1]?new a(n,f,h,g[1]):new i(n,f,h)}}).call(this,n(125))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n(78),o=n(1);n(134);function a(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function u(e,t,n){var r=Object(o.useRef)(void 0!==e),i=Object(o.useState)(t),a=i[0],s=i[1],u=void 0!==e,c=r.current;return r.current=u,!u&&c&&a!==t&&s(t),[u?e:a,Object(o.useCallback)(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)},[n])]}function c(e,t){return Object.keys(t).reduce(function(n,o){var c,l=n,f=l[a(o)],d=l[o],h=Object(i.a)(l,[a(o),o].map(s)),p=t[o],g=u(d,f,e[p]),v=g[0],m=g[1];return r({},h,((c={})[o]=v,c[p]=m,c))},e)}n(124);function l(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function f(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function d(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}l.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0;n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return i})},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2),i=n(0),o=n(57),a=function(e,t,n,r){var i=e.nodes,a=void 0===i?[]:i,u=e.edges,c=void 0===u?[]:u,l=[],f={},d={},h={};a.forEach(function(e,n){var r=e.id;l.push(r),d[r]=1/0,r===t&&(d[r]=0)});for(var p=a.length,g=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(d,a,f),i=t.id;if(f[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,c):(0,o.getEdgesByNodeId)(i,c)).forEach(function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;d[a]>d[t.id]+s?(d[a]=d[t.id]+s,h[a]=[t.id]):d[a]===d[t.id]+s&&h[a].push(t.id)})},v=0;v<p;v++)g();h[t]=[t];var m={};for(var y in d)d[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(e,t,n,o){if(e===t)return[e];if(o[t])return o[t];for(var a=[],u=0,c=n[t];u<c.length;u++){var l=s(e,c[u],n,o);if(!l)return;for(var f=0,d=l;f<d.length;f++){var h=d[f];(0,i.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return o[t]=a,o[t]}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(147);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var i=[],o=0;o<e;o++)i[o]=0;return r?(r.forEach(function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target");r&&(i[n[r]]+=1),o&&(i[n[o]]+=1)}),i):i};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,i=e.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(e,t){a[e.id]=t,o.push([])}),i&&i.forEach(function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[i];o[s][u]=1,n||(o[u][s]=1)}),o};t.scaleMatrix=function(e,t){var n=[];return e.forEach(function(e){var r=[];e.forEach(function(e){r.push(e*t)}),n.push(r)}),n};t.traverseTreeUp=function(e,t){"function"===typeof t&&function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)}(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach(function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),i<e.y&&(i=e.y)}),{minX:t,minY:n,maxX:r,maxY:i}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var o=i(n(286)),a=n(39),s=n(41),u=n(75),c=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find(function(t){return t.id===e});return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e,t=this,n=this,r=n.nodes,i=n.nodeSize,s=n.rankdir,c=n.combos,l=n.begin,f=n.radial;if(r){var d,h=n.edges||[],p=new u.Graph({multigraph:!0,compound:!0});d=i?(0,a.isArray)(i)?function(){return i}:function(){return[i,i]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var g=(0,a.getFunc)(n.ranksep,50,n.ranksepFunc),v=(0,a.getFunc)(n.nodesep,50,n.nodesepFunc),m=v,y=g;"LR"!==s&&"RL"!==s||(m=g,y=v),p.setDefaultEdgeLabel(function(){return{}}),p.setGraph(n);var b={};this.sortByCombo&&c&&c.forEach(function(e){e.parentId&&(b[e.parentId]||(b[e.parentId]=!0,p.setNode(e.parentId,{})),p.setParent(e.id,e.parentId))}),r.filter(function(e){return!1!==e.layout}).forEach(function(e){var n=d(e),r=y(e),i=m(e),o=n[0]+2*i,s=n[1]+2*r,u=e.layer;(0,a.isNumber)(u)?p.setNode(e.id,{width:o,height:s,layer:u}):p.setNode(e.id,{width:o,height:s}),t.sortByCombo&&e.comboId&&(b[e.comboId]||(b[e.comboId]=!0,p.setNode(e.comboId,{})),p.setParent(e.id,e.comboId))}),h.forEach(function(e){var n=(0,a.getEdgeTerminal)(e,"source"),r=(0,a.getEdgeTerminal)(e,"target");t.layoutNode(n)&&t.layoutNode(r)&&p.setEdge(n,r,{weight:e.weight||1})});var x=void 0;n.preset&&(x=new u.Graph({multigraph:!0,compound:!0}),n.preset.nodes.forEach(function(e){null===x||void 0===x||x.setNode(e.id,e)})),o.default.layout(p,{prevGraph:x,edgeLabelSpace:n.edgeLabelSpace,keepNodeOrder:Boolean(!!n.nodeOrder),nodeOrder:n.nodeOrder});var _=[0,0];if(l){var w=1/0,E=1/0;p.nodes().forEach(function(e){var t=p.node(e);w>t.x&&(w=t.x),E>t.y&&(E=t.y)}),p.edges().forEach(function(e){var t;null===(t=p.edge(e).points)||void 0===t||t.forEach(function(e){w>e.x&&(w=e.x),E>e.y&&(E=e.y)})}),_[0]=l[0]-w,_[1]=l[1]-E}if(f){var S=this.focusNode,O=this.ranksep,k=this.getRadialPos,M=(0,a.isString)(S)?S:null===S||void 0===S?void 0:S.id,C=M?null===(e=p.node(M))||void 0===e?void 0:e._rank:0,A=[],j="LR"===s||"RL"===s,T=j?"y":"x",I=j?"height":"width",N=1/0,P=-1/0;p.nodes().forEach(function(e){var t=p.node(e),n=r.findIndex(function(t){return t.id===e});if(r[n]){var i=v(r[n]);if(0===C)A[t._rank]||(A[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),A[t._rank].nodes.push(e),A[t._rank].totalWidth+=2*i+t[I],A[t._rank].maxSize<Math.max(t.width,t.height)&&(A[t._rank].maxSize=Math.max(t.width,t.height));else{var o=t._rank-C;if(0===o)A[o]||(A[o]={nodes:[],totalWidth:0,maxSize:-1/0}),A[o].nodes.push(e),A[o].totalWidth+=2*i+t[I],A[o].maxSize<Math.max(t.width,t.height)&&(A[o].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(o);A[a]||(A[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),A[a].totalWidth+=2*i+t[I],A[a].maxSize<Math.max(t.width,t.height)&&(A[a].maxSize=Math.max(t.width,t.height)),o<0?A[a].left.push(e):A[a].right.push(e)}}var s=t[T]-t[I]/2-i,u=t[T]+t[I]/2+i;s<N&&(N=s),u>P&&(P=u)}});var D=O||50,L={},R=(P-N)/.9,B=[.5*(N+P-R),.5*(N+P+R)],F=function(e,t,n,i){void 0===n&&(n=-1/0),void 0===i&&(i=[0,1]);var o=n;return e.forEach(function(e){var n=p.node(e);L[e]=t;var a=k(n[T],B,R,t,i),s=a.x,u=a.y,c=r.findIndex(function(t){return t.id===e});if(r[c]){r[c].x=s+_[0],r[c].y=u+_[1],r[c]._order=n._order;var l=g(r[c]);o<l&&(o=l)}}),o},z=!0;A.forEach(function(e){var t,n,i,o,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(n=null===e||void 0===e?void 0:e.left)||void 0===n?void 0:n.length)||(null===(i=null===e||void 0===e?void 0:e.right)||void 0===i?void 0:i.length)){if(z&&1===e.nodes.length){var c=r.findIndex(function(t){return t.id===e.nodes[0]});return r[c].x=_[0],r[c].y=_[1],L[e.nodes[0]]=0,D=g(r[c]),void(z=!1)}D=Math.max(D,e.totalWidth/(2*Math.PI));var l=-1/0;if(0===C||(null===(o=e.nodes)||void 0===o?void 0:o.length))l=F(e.nodes,D,l,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));l=F(e.left,D,l,[0,f]),l=F(e.right,D,l,[f+.05,1])}D+=l,z=!1,e.maxSize}}),p.edges().forEach(function(e){var t,r,i,o=p.edge(e),s=h.findIndex(function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w});if(n.edgeLabelSpace&&n.controlPoints&&"loop"!==h[s].type){var u="x"===T?"y":"x",c=null===(t=null===o||void 0===o?void 0:o.points)||void 0===t?void 0:t.slice(1,o.points.length-1),l=[],f=null===(r=p.node(e.v))||void 0===r?void 0:r[u],d=f-(null===(i=p.node(e.w))||void 0===i?void 0:i[u]),g=L[e.v],v=g-L[e.w];null===c||void 0===c||c.forEach(function(e){var t=(e[u]-f)/d*v+g,n=k(e[T],B,R,t);l.push({x:n.x+_[0],y:n.y+_[1]})}),h[s].controlPoints=l}})}else p.nodes().forEach(function(e){var t=p.node(e),n=r.findIndex(function(t){return t.id===e});r[n]&&(r[n].x=t.x+_[0],r[n].y=t.y+_[1],r[n]._order=t._order)}),p.edges().forEach(function(e){var t,r=p.edge(e),i=h.findIndex(function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w});n.edgeLabelSpace&&n.controlPoints&&"loop"!==h[i].type&&(h[i].controlPoints=null===(t=null===r||void 0===r?void 0:r.points)||void 0===t?void 0:t.slice(1,r.points.length-1),h[i].controlPoints.forEach(function(e){e.x+=_[0],e.y+=_[1]}))});return n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:h}}},t.prototype.getRadialPos=function(e,t,n,r,i){void 0===i&&(i=[0,1]);var o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(s.Base);t.DagreLayout=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var r=function(e){var t,n={};null===(t=e.sources())||void 0===t||t.forEach(function(t){return function t(r){var i,o,a=e.node(r);return n[r]?a.rank:(n[r]=!0,null===(i=e.outEdges(r))||void 0===i||i.forEach(function(n){var r=t(n.w)-e.edge(n).minlen;r&&(void 0===o||r<o)&&(o=r)}),o||(o=0),a.rank=o,o)}(t)})};t.longestPath=r;var i=function(e){var t,n,r={};null===(t=e.sources())||void 0===t||t.forEach(function(t){return function t(i){var o,a,s=e.node(i);return r[i]?s.rank:(r[i]=!0,null===(o=e.outEdges(i))||void 0===o||o.forEach(function(n){var r=t(n.w)-e.edge(n).minlen;r&&(void 0===a||r<a)&&(a=r)}),a||(a=0),(void 0===n||a<n)&&(n=a),s.rank=a,a)}(t)}),void 0===n&&(n=0);e.nodes().forEach(function(t){var r=e.node(t);isNaN(r.layer)?r.rank-=n:function t(n,r){var i,o=e.node(n),a=isNaN(o.layer)?r:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),null===(i=e.outEdges(n))||void 0===i||i.map(function(n){t(n.w,a+e.edge(n).minlen)})}(t,r.layer)})};t.longestPathWithLayer=i;var o=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=o,t.default={longestPath:r,longestPathWithLayer:i,slack:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(132),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(131),i=n(177),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i};function i(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,c,l,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=l<<1|c]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(c=t>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}var o=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new c(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function c(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function l(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var f=u.prototype=c.prototype;f.copy=function(){var e,t,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=l(t));return n},f.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)},f.addAll=function(e){var t,n,r,o,a=e.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,f=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,u[n]=o,r<c&&(c=r),r>f&&(f=r),o<l&&(l=o),o>d&&(d=o));if(c>f||l>d)return this;for(this.cover(c,l).cover(f,d),n=0;n<a;++n)i(this,s[n],u[n],e[n]);return this},f.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},f.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(e,t,n){var r,i,a,s,u,c,l,f=this._x0,d=this._y0,h=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);c=g.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(a=c.y0)>p||(s=c.x1)<f||(u=c.y1)<d))if(v.length){var m=(i+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],i,y,m,u),new o(v[1],m,a,s,y),new o(v[0],i,a,m,y)),(l=(t>=y)<<1|e>=m)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-l],g[g.length-1-l]=c)}else{var b=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),_=b*b+x*x;if(_<n){var w=Math.sqrt(n=_);f=e-w,d=t-w,h=e+w,p=t+w,r=v.data}}return r},f.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,c,l,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},f.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},f.visit=function(e){var t,n,r,i,a,s,u=[],c=this._root;for(c&&u.push(new o(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&c.length){var l=(r+a)/2,f=(i+s)/2;(n=c[3])&&u.push(new o(n,l,f,a,s)),(n=c[2])&&u.push(new o(n,r,f,l,s)),(n=c[1])&&u.push(new o(n,l,i,a,f)),(n=c[0])&&u.push(new o(n,r,i,l,f))}return this},f.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,u=t.y0,c=t.x1,l=t.y1,f=(s+c)/2,d=(u+l)/2;(a=i[0])&&n.push(new o(a,s,u,f,d)),(a=i[1])&&n.push(new o(a,f,u,c,d)),(a=i[2])&&n.push(new o(a,s,d,f,l)),(a=i[3])&&n.push(new o(a,f,d,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y};var d=function(e){return function(){return e}},h=function(e){return 1e-6*(e()-.5)};function p(e){return e.x+e.vx}function g(e){return e.y+e.vy}var v=function(e){var t,n,r,i=1,o=1;function a(){for(var e,a,c,l,f,d,v,m=t.length,y=0;y<o;++y)for(a=u(t,p,g).visitAfter(s),e=0;e<m;++e)c=t[e],d=n[c.index],v=d*d,l=c.x+c.vx,f=c.y+c.vy,a.visit(b);function b(e,t,n,o,a){var s=e.data,u=e.r,p=d+u;if(!s)return t>l+p||o<l-p||n>f+p||a<f-p;if(s.index>c.index){var g=l-s.x-s.vx,m=f-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=h(r))*g),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,c.vx+=(g*=y)*(p=(u*=u)/(v+u)),c.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function c(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=d(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,c()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),c(),a):e},a};function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}var b=function(e){var t,n,r,i,o,a,s=m,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=d(30),l=1;function f(r){for(var i=0,s=e.length;i<l;++i)for(var u,c,f,d,p,g,v,m=0;m<s;++m)c=(u=e[m]).source,d=(f=u.target).x+f.vx-c.x-c.vx||h(a),p=f.y+f.vy-c.y-c.vy||h(a),d*=g=((g=Math.sqrt(d*d+p*p))-n[m])/g*r*t[m],p*=g,f.vx-=d*(v=o[m]),f.vy-=p*v,c.vx+=d*(v=1-v),c.vy+=p*v}function p(){if(r){var a,u,c=r.length,l=e.length,f=new Map(r.map(function(e,t){return[s(e,t,r),e]}));for(a=0,i=new Array(c);a<l;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(f,u.source)),"object"!==typeof u.target&&(u.target=y(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(l);a<l;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(l),g(),n=new Array(l),v()}}function g(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:d(+e),g(),f):u},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:d(+e),v(),f):c},f},x={value:function(){}};function _(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new w(r)}function w(e){this._=e}function E(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function S(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}w.prototype=_.prototype={constructor:w,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=S(i[n],e.name,t);else if(null==t)for(n in i)i[n]=S(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=E(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new w(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var O=_,k=n(411),M=4294967296;function C(e){return e.x}function A(e){return e.y}var j=10,T=Math.PI*(3-Math.sqrt(5)),I=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=Object(k.a)(f),c=O("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%M)/M}}();function f(){d(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function d(r){var u,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach(function(e){e(n)}),u=0;u<l;++u)null==(c=e[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=j*Math.sqrt(.5+n),o=n*T;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(l=e,s.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=t-(s=e[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},N=function(){var e,t,n,r,i,o=d(-30),a=1,s=1/0,c=.81;function l(n){var i,o=e.length,a=u(e,C,A).visitAfter(p);for(r=n,i=0;i<o;++i)t=e[i],a.visit(g)}function f(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function p(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function g(e,o,u,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=l-o,g=f*f+d*d;if(p*p/c<g)return g<s&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)),t.vx+=f*e.value*r/g,t.vy+=d*e.value*r/g),!0;if(!(e.length||g>=s)){(e.data!==t||e.next)&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)));do{e.data!==t&&(p=i[e.data.index]*r/g,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,f()},l.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),f(),l):o},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(c=e*e,l):Math.sqrt(c)},l},P=function(e,t,n){var r,i,o,a=d(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-t||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),d=(o[a]-f)*i[a]*e/f;u.vx+=c*d,u.vy+=l*d}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=d(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:d(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},D=function(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o},L=function(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o};n.d(t,"forceCenter",function(){return r}),n.d(t,"forceCollide",function(){return v}),n.d(t,"forceLink",function(){return b}),n.d(t,"forceManyBody",function(){return N}),n.d(t,"forceRadial",function(){return P}),n.d(t,"forceSimulation",function(){return I}),n.d(t,"forceX",function(){return D}),n.d(t,"forceY",function(){return L})},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(20),a=n.n(o),s=n(1),u=(n(76),n(123)),c=Function.prototype.bind.call(Function.prototype.call,[].slice);var l=n(61),f=s.createContext(null);f.displayName="NavContext";var d=f,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},p=s.createContext(null),g=s.createContext(null),v="data-rr-ui-",m="rrUi";function y(e){return"".concat(v).concat(e)}var b=n(26),x=n(59),_=n(118),w=n(11),E=["as","active","eventKey"];function S(e){var t=e.key,n=e.onClick,r=e.active,i=e.id,o=e.role,a=e.disabled,u=Object(s.useContext)(p),c=Object(s.useContext)(d),l=Object(s.useContext)(g),f=r,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var v=c.getControllerId(null!=t?t:null),m=c.getControlledId(null!=t?t:null);h[y("event-key")]=t,h.id=v||i,!(f=null==r&&null!=t?c.activeKey===t:r)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=m)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Object(x.a)(function(e){a||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))}),[h,{isActive:f}]}var O=s.forwardRef(function(e,t){var n=e.as,r=void 0===n?_.a:n,i=e.active,o=e.eventKey,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,E),s=S(Object.assign({key:h(o,a.href),active:i},a)),u=Object(b.a)(s,2),c=u[0],l=u[1];return c[y("active")]=l.isActive,Object(w.jsx)(r,Object.assign({},a,c,{ref:t}))});O.displayName="NavItem";var k=O,M=["as","onSelect","activeKey","role","onKeyDown"];var C=function(){},A=y("event-key"),j=s.forwardRef(function(e,t){var n,r,i=e.as,o=void 0===i?"div":i,a=e.onSelect,u=e.activeKey,f=e.role,v=e.onKeyDown,y=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,M),b=Object(s.useReducer)(function(e){return!e},!1)[1],x=Object(s.useRef)(!1),_=Object(s.useContext)(p),E=Object(s.useContext)(g);E&&(f=f||"tablist",u=E.activeKey,n=E.getControlledId,r=E.getControllerId);var S=Object(s.useRef)(null),O=function(e){var t=S.current;if(!t)return null;var n,r,i=(n=t,r="[".concat(A,"]:not([aria-disabled=true])"),c(n.querySelectorAll(r))),o=t.querySelector("[aria-selected=true]");if(!o||o!==document.activeElement)return null;var a=i.indexOf(o);if(-1===a)return null;var s=a+e;return s>=i.length&&(s=0),s<0&&(s=i.length-1),i[s]},k=function(e,t){null!=e&&(null==a||a(e,t),null==_||_(e,t))};Object(s.useEffect)(function(){if(S.current&&x.current){var e=S.current.querySelector("[".concat(A,"][aria-selected=true]"));null==e||e.focus()}x.current=!1});var j=Object(l.a)(t,S);return Object(w.jsx)(p.Provider,{value:k,children:Object(w.jsx)(d.Provider,{value:{role:f,activeKey:h(u),getControlledId:n||C,getControllerId:r||C},children:Object(w.jsx)(o,Object.assign({},y,{onKeyDown:function(e){if(null==v||v(e),E){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=O(-1);break;case"ArrowRight":case"ArrowDown":t=O(1);break;default:return}t&&(e.preventDefault(),k(t.dataset[(n="EventKey","".concat(m).concat(n))]||null,e),x.current=!0,b())}},ref:j,role:f}))})})});j.displayName="Nav";var T=Object.assign(j,{Item:k}),I=n(23),N=s.forwardRef(function(e,t){var n=e.bsPrefix,o=e.active,s=e.disabled,u=e.eventKey,c=e.className,l=e.variant,f=e.action,d=e.as,p=Object(i.a)(e,["bsPrefix","active","disabled","eventKey","className","variant","action","as"]);n=Object(I.c)(n,"list-group-item");var g=S(Object(r.a)({key:h(u,p.href),active:o},p)),v=Object(b.a)(g,2),m=v[0],y=v[1],_=Object(x.a)(function(e){if(s)return e.preventDefault(),void e.stopPropagation();m.onClick(e)});s&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0);var E=d||(f?p.href?"a":"button":"div");return Object(w.jsx)(E,Object(r.a)({ref:t},p,m,{onClick:_,className:a()(c,n,y.isActive&&"active",s&&"disabled",l&&"".concat(n,"-").concat(l),f&&"".concat(n,"-action"))}))});N.displayName="ListGroupItem";var P=N,D=s.forwardRef(function(e,t){var n,o=Object(u.a)(e,{activeKey:"onSelect"}),s=o.className,c=o.bsPrefix,l=o.variant,f=o.horizontal,d=o.numbered,h=o.as,p=void 0===h?"div":h,g=Object(i.a)(o,["className","bsPrefix","variant","horizontal","numbered","as"]),v=Object(I.c)(c,"list-group");return f&&(n=!0===f?"horizontal":"horizontal-".concat(f)),Object(w.jsx)(T,Object(r.a)({ref:t},g,{as:p,className:a()(s,v,l&&"".concat(v,"-").concat(l),n&&"".concat(v,"-").concat(n),d&&"".concat(v,"-numbered"))}))});D.displayName="ListGroup";t.a=Object.assign(D,{Item:P})},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var r=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach(function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++}),t},i=r;t.default=i;t.getInDegree=function(e,t){return r(e)[t]?r(e)[t].inDegree:0};t.getOutDegree=function(e,t){return r(e)[t]?r(e)[t].outDegree:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){!function e(t,n,i,o){o.enter({current:n,previous:i});var a=t.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(n,s,"target").forEach(function(r){o.allowTraversal({previous:i,current:n,next:r})&&e(t,r,n,o)});o.leave({current:n,previous:i})}(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(57)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(90))&&r.__esModule?r:{default:r};var o=function(e,t){for(var n=(0,i.default)(e,t),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort(function(e,t){return e-t});var i=n[n.length-1],o=n[0];for(var a in this.arr)t[a]=(this.arr[a]-o)/(i-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=i},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(143),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),f=function(e){return(c-e)/6/l+.5};return 0===l?i=o=0:(o=l/c,t=f(a),n=f(s),r=f(u),a===c?i=r-n:s===c?i=1/3+t-r:u===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var c=r[u],l=(o=e,a=c,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));l<s&&(s=l,n=u)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[c]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=c+r*((n=1-l)-c),t){default:case 6:case 0:o=n,a=i,s=c;break;case 1:o=i,a=n,s=c;break;case 2:o=c,a=n,s=i;break;case 3:o=c,a=i,s=n;break;case 4:o=i,a=c,s=n;break;case 5:o=n,a=c,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(41),o=n(39),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name ".concat(e," exists already, it will be overridden")),(0,o.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,t,n),Object.keys(o).forEach(function(e){var t=o[e];i[e]=t}),r}return r(n,e),n}(i.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var n=[];return e.forEach(function(e){n.push(e)}),n.map(function(e){return(0,t.clone)(e)})}if("object"===typeof e&&e!=={}){var i=r({},e);return Object.keys(i).forEach(function(e){i[e]=(0,t.clone)(i[e])}),i}return e}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var o=n(149);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n(150);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(151);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(152);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var c=n(153);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}});var l=n(129);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return l.DagreLayout}});var f=n(163);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return f.DagreCompoundLayout}});var d=n(164);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return d.RadialLayout}});var h=n(165);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(166);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var g=n(167);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return g.FruchtermanLayout}});var v=n(168);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var m=n(211);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(212);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(213);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(214);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var _=n(215);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return _.ERLayout}});var w=n(389);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return w.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return w.Layouts}}),i(n(390),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var i=n(39),o=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,o=t.length;if(0===o)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===o)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,c=e.condense,l=e.preventOverlapPadding,f=e.preventOverlap,d=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach(function(e){p.push(e)});var g={};if(p.forEach(function(e,t){g[e.id]=t}),("degree"===a||!(0,i.isString)(a)||void 0===p[0][a])&&(a="degree",(0,i.isNaN)(t[0].degree))){var v=(0,i.getDegree)(p.length,g,n);p.forEach(function(e,t){e.degree=v[t]})}p.sort(function(e,t){return t[a]-e[a]}),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=o,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.rows=Math.max(e.rows,1),e.cols=Math.max(e.cols,1),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,c&&(e.cellWidth=0,e.cellHeight=0),f||d){var _=(0,i.getFuncByUnknownType)(10,d),w=(0,i.getFuncByUnknownType)(30,h,!1);p.forEach(function(t){t.x&&t.y||(t.x=0,t.y=0);var n=w(t),r=n[0],i=void 0===r?30:r,o=n[1],a=void 0===o?30:o,s=void 0!==_?_(t):l,u=i+s,c=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,c)})}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var E=0;E<p.length;E++){var S=p[E],O=void 0;if(e.position&&(O=e.position(S)),O&&(void 0!==O.row||void 0!==O.col)){var k={row:O.row,col:O.col};if(void 0===k.col)for(k.col=0;e.used(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;e.used(k.row,k.col);)k.row++;e.id2manPos[S.id]=k,e.use(k.row,k.col)}e.getPos(S)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this.rows||5,r=this.cols||5;null==e?t=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=e:this.cols=e;return t},t.prototype.large=function(e){var t,n=this.rows||5,r=this.cols||5;null==e?t=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=e:this.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-".concat(e,"-").concat(t)]||!1},t.prototype.use=function(e,t){this.cellUsed["c-".concat(e,"-").concat(t)]=!0},t.prototype.moveToNextCell=function(){var e=this.cols||5;this.col++,this.col>=e&&(this.col=0,this.row++)},t.prototype.getPos=function(e){var t,n,r=this.begin,i=this.cellWidth,o=this.cellHeight,a=this.id2manPos[e.id];if(a)t=a.col*i+i/2+r[0],n=a.row*o+o/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();t=this.col*i+i/2+r[0],n=this.row*o+o/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(41).Base);t.GridLayout=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach(function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(41).Base);t.RandomLayout=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var i=n(41),o=n(39),a=function(e,t){return e?(0,o.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach(function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t}),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var c,l=n.nodeSize;if(n.preventOverlap){var f,d=n.nodeSpacing;f=(0,o.isNumber)(d)?function(){return d}:(0,o.isFunction)(d)?d:function(){return 0},c=l?(0,o.isArray)(l)?function(e){return Math.max(l[0],l[1])+f(e)}:function(e){return l+f(e)}:function(e){return e.size?(0,o.isArray)(e.size)?Math.max(e.size[0],e.size[1])+f(e):(0,o.isObject)(e.size)?Math.max(e.size.width,e.size.height)+f(e):e.size+f(e):10+f(e)}}n.nodeSize=c;var h=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,i=t.workerEnabled,o=t.minMovement,a=t.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,o))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval(function(){var e,i;if(r){var a=t.runOneStep(c)||[];t.reachMoveThreshold(r,a,o)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++c>=n&&(null===(i=t.onLayoutEnd)||void 0===i||i.call(t),window.clearInterval(t.timeInterval))}},0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach(function(e,n){var i=e.x-t[n].x,o=e.y-t[n].y;r+=Math.sqrt(i*i+o*o)}),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this.nodes,r=this.edges,i=[],o=[];if(n){n.forEach(function(e,t){i[2*t]=0,i[2*t+1]=0,o[2*t]=0,o[2*t+1]=0}),this.calRepulsive(i,n),r&&this.calAttractive(i,r),this.calGravity(i,n);var a=Math.max(.02,this.interval-.002*e);this.updateVelocity(i,o,a,n);var s=[];return n.forEach(function(e){s.push({x:e.x,y:e.y})}),this.updatePosition(o,a,n),null===(t=this.tick)||void 0===t||t.call(this),s}},t.prototype.calRepulsive=function(e,t){var n=this.getMass,r=this.factor,i=this.coulombDisScale,o=this.preventOverlap,a=this.collideStrength,s=void 0===a?1:a,u=this.nodeStrength,c=this.nodeSize;t.forEach(function(a,l){var f=n?n(a):1;t.forEach(function(t,d){if(!(l>=d)){var h=a.x-t.x,p=a.y-t.y;0===h&&0===p&&(h=.01*Math.random(),p=.01*Math.random());var g=h*h+p*p,v=Math.sqrt(g),m=(v+.1)*i,y=h/v,b=p/v,x=.5*(u(a)+u(t))*r/(m*m),_=n?n(t):1;if(e[2*l]+=y*x,e[2*l+1]+=b*x,e[2*d]-=y*x,e[2*d+1]-=b*x,o&&(c(a)+c(t))/2>v){var w=s*(u(a)+u(t))*.5/g;e[2*l]+=y*w/f,e[2*l+1]+=b*w/f,e[2*d]-=y*w/_,e[2*d+1]-=b*w/_}}})})},t.prototype.calAttractive=function(e,t){var n=this.nodeMap,r=this.nodeIdxMap,i=this.linkDistance,a=this.edgeStrength,s=this.nodeSize,u=this.getMass;t.forEach(function(t,c){var l=(0,o.getEdgeTerminal)(t,"source"),f=(0,o.getEdgeTerminal)(t,"target"),d=n[l],h=n[f],p=h.x-d.x,g=h.y-d.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var v=Math.sqrt(p*p+g*g),m=p/v,y=g/v,b=((i(t,d,h)||1+(s(d)+s(d)||0)/2)-v)*a(t),x=r[l],_=r[f],w=u?u(d):1,E=u?u(h):1;e[2*x]-=m*b/w,e[2*x+1]-=y*b/w,e[2*_]+=m*b/E,e[2*_+1]+=y*b/E})},t.prototype.calGravity=function(e,t){for(var n=this.center,r=this.gravity,i=this.degrees,a=t.length,s=0;s<a;s++){var u=t[s],c=u.x-n[0],l=u.y-n[1],f=r;if(this.getCenter){var d=this.getCenter(u,i[s]);d&&(0,o.isNumber)(d[0])&&(0,o.isNumber)(d[1])&&(0,o.isNumber)(d[2])&&(c=u.x-d[0],l=u.y-d[1],f=d[2])}f&&(e[2*s]-=f*c,e[2*s+1]-=f*l)}},t.prototype.updateVelocity=function(e,t,n,r){var i=this,o=n*i.damping;r.forEach(function(n,r){var a=e[2*r]*o||.01,s=e[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var c=i.maxSpeed/u;a*=c,s*=c}t[2*r]=a,t[2*r+1]=s})},t.prototype.updatePosition=function(e,t,n){n.forEach(function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=e[2*r]*t,a=e[2*r+1]*t;n.x+=i,n.y+=a})},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(i.Base);t.GForceLayout=s},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(284),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=n(41),o=n(39);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this.nodes,n=this.edges,r=t.length;if(0!==r){this.width||"undefined"===typeof window||(this.width=window.innerWidth),this.height||"undefined"===typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var i=this.center;if(1===r)return t[0].x=i[0],t[0].y=i[1],void(this.onLayoutEnd&&this.onLayoutEnd());var a=this.radius,s=this.startRadius,u=this.endRadius,c=this.divisions,l=this.startAngle,f=this.endAngle,d=this.angleRatio,h=this.ordering,p=this.clockwise,g=this.nodeSpacing,v=this.nodeSize,m=(f-l)/r,y={};t.forEach(function(e,t){y[e.id]=t}),this.nodeMap=y;var b=(0,o.getDegree)(t.length,y,n);if(this.degrees=b,g){var x=(0,o.getFuncByUnknownType)(10,g),_=(0,o.getFuncByUnknownType)(10,v),w=-1/0;t.forEach(function(e){var t=_(e);w<t&&(w=t)});var E=0;t.forEach(function(e,t){E+=0===t?w||10:(x(e)||0)+(w||10)}),a=E/(2*Math.PI)}else a||s||u?!s&&u?s=u:s&&!u&&(u=s):a=this.height>this.width?this.width/2:this.height/2;var S=m*d,O=[];O="topology"===h?this.topologyOrdering():"topology-directed"===h?this.topologyOrdering(!0):"degree"===h?this.degreeOrdering():t;for(var k=Math.ceil(r/c),M=0;M<r;++M){var C=a;C||null===s||null===u||(C=s+M*(u-s)/(r-1)),C||(C=10+100*M/(r-1));var A=l+M%k*S+2*Math.PI/c*Math.floor(M/k);p||(A=f-M%k*S-2*Math.PI/c*Math.floor(M/k)),O[M].x=i[0]+Math.cos(A)*C,O[M].y=i[1]+Math.sin(A)*C,O[M].weight=b[M]}return null===(e=this.onLayoutEnd)||void 0===e||e.call(this),{nodes:O,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this.degrees,n=this.edges,r=this.nodes,i=(0,o.clone)(r),a=this.nodeMap,s=[i[0]],u=[r[0]],c=[],l=r.length;c[0]=!0,function(e,t,n,r){e.forEach(function(t,n){e[n].children=[],e[n].parent=[]}),r?t.forEach(function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,c=e[s].parent;u.push(e[s].id),c.push(e[a].id)}):t.forEach(function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,c=e[s].children;u.push(e[s].id),c.push(e[a].id)})}(i,n,a,e);var f=0;return i.forEach(function(e,d){if(0!==d)if(d!==l-1&&t[d]===t[d+1]&&!function(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=(0,o.getEdgeTerminal)(n[i],"source"),s=(0,o.getEdgeTerminal)(n[i],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(s[f],e,n)||c[d]){for(var h=s[f].children,p=!1,g=0;g<h.length;g++){var v=a[h[g]];if(t[v]===t[d]&&!c[v]){s.push(i[v]),u.push(r[a[i[v].id]]),c[v]=!0,p=!0;break}}for(var m=0;!p&&(c[m]||(s.push(i[m]),u.push(r[a[i[m].id]]),c[m]=!0,p=!0),++m!==l););}else s.push(e),u.push(r[a[e.id]]),c[d]=!0,f++}),u},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach(function(e,r){e.degree=n[r],t.push(e)}),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(i.Base);t.CircularLayout=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var r=n(130),i=n(46),o=n(75),a=function(e){var t,n,i=new o.Graph({directed:!1}),a=e.nodes()[0],u=e.nodeCount();for(i.setNode(a,{});s(i,e)<u;)t=l(i,e),n=i.hasNode(t.v)?(0,r.slack)(e,t):-(0,r.slack)(e,t),f(i,e,n);return i};t.feasibleTree=a;var s=function(e,t){return e.nodes().forEach(function n(i){t.nodeEdges(i).forEach(function(o){var a=o.v,s=i===a?o.w:a;e.hasNode(s)||(0,r.slack)(t,o)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))})}),e.nodeCount()},u=function(e){var t,n,i=new o.Graph({directed:!1}),a=e.nodes()[0],s=e.nodeCount();for(i.setNode(a,{});c(i,e)<s;)t=l(i,e),n=i.hasNode(t.v)?(0,r.slack)(e,t):-(0,r.slack)(e,t),f(i,e,n);return i};t.feasibleTreeWithLayer=u;var c=function(e,t){return e.nodes().forEach(function n(i){var o;null===(o=t.nodeEdges(i))||void 0===o||o.forEach(function(o){var a=o.v,s=i===a?o.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,r.slack)(t,o)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))})}),e.nodeCount()},l=function(e,t){return(0,i.minBy)(t.edges(),function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,r.slack)(t,n):1/0})},f=function(e,t,n){e.nodes().forEach(function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n})};t.default={feasibleTree:a,feasibleTreeWithLayer:u}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,,,,function(e,t,n){"use strict";var r=n(16),i=n(26),o=n(19),a=n(20),s=n.n(a),u=n(1),c=n(118),l=n(23),f=n(11),d=u.forwardRef(function(e,t){var n=e.as,a=e.bsPrefix,u=e.variant,d=e.size,h=e.active,p=e.className,g=Object(o.a)(e,["as","bsPrefix","variant","size","active","className"]),v=Object(l.c)(a,"btn"),m=Object(c.b)(Object(r.a)({tagName:n},g)),y=Object(i.a)(m,2),b=y[0],x=y[1].tagName;return Object(f.jsx)(x,Object(r.a)({},b,g,{ref:t,className:s()(p,v,h&&"active",u&&"".concat(v,"-").concat(u),d&&"".concat(v,"-").concat(d),g.href&&g.disabled&&"disabled")}))});d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function i(e,t,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(e,i,t)}function o(e,t,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(e,i,t)}function a(e,t,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(e,i,t)}function s(e,t){return e[0]*t[1]-t[0]*e[1]}t.leftTranslate=i,t.leftRotate=o,t.leftScale=a,t.transform=function(e,t){for(var n,s,u,c=e?[].concat(e):[1,0,0,0,1,0,0,0,1],l=0,f=t.length;l<f;l++){var d=t[l];switch(d[0]){case"t":i(c,c,[d[1],d[2]]);break;case"s":a(c,c,[d[1],d[2]]);break;case"r":o(c,c,d[1]);break;case"m":n=c,s=c,u=d[1],r.mat3.multiply(n,u,s)}}return c},t.direction=s,t.angleTo=function(e,t,n){var i=r.vec2.angle(e,t),o=s(e,t)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i},t.vertical=function(e,t,n){return n?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?o(e):i(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(57),i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u=[],c=function e(t){u.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o),a=function(t){var r=i[t];if(!s[r]){var o=n.filter(function(e){return e.id===r});o.length>0&&e(o[0])}},c=0;c<i.length;++c)a(c)},l=0;l<n.length;l++){var f=n[l];if(!s[f.id]){c(f);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};t.detectConnectedComponents=i;var o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u={},c={},l=[],f=0,d=function e(t){u[t.id]=f,c[t.id]=f,f+=1,a.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o,"target").filter(function(e){return n.map(function(e){return e.id}).indexOf(e)>-1}),d=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(c[t.id]=Math.min(c[t.id],u[o]));else{var a=n.filter(function(e){return e.id===o});a.length>0&&e(a[0]),c[t.id]=Math.min(c[t.id],c[o])}},h=0;h<i.length;h++)d(h);if(c[t.id]===u[t.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===t)break}p.length>0&&l.push(p)}},h=0,p=n;h<p.length;h++){var g=p[h];u[g.id]||0===u[g.id]||d(g)}return l};t.detectStrongConnectComponents=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(41),s=n(310),u=n(39),c=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map(function(e){return i(i({},e),{collapsed:!0})}))},t.prototype.execute=function(){var e=this.nodes,t=this.edges;if(e){var n=this.getLayoutConfig(),r=n.graphDef,i=n.graphOption,o=n.graphSettings,a=(0,s.buildGraph)(r,i,o),u=(0,s.flatGraph)(a,!0);return this.updatePosition(u),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:e,edges:t}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find(function(t){return t.id===e});return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var i=n.find(function(e){return e.id===t});return i?(r.unshift(t),i.parentId?e(i.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this.nodes,c=this.edges,l=this.combos,f=this.nodeSize,d=this.rankdir,h=this.align,p=this.edgesep,g=this.nodesep,v=this.ranksep,m=this.settings,y=(l||[]).reduce(function(e,t){var n=a.filter(function(e){return e.comboId===t.id}).map(function(e){return e.id}),r=(l||[]).filter(function(e){return e.parentId===t.id}).map(function(e){return e.id});return(n.length||r.length)&&(e[t.id]=o(o([],n,!0),r,!0)),e},{});r=f?(0,u.isArray)(f)?function(){return f}:function(){return[f,f]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var b,x=(b=null===l||void 0===l?void 0:l[0])&&b.size?(0,u.isArray)(b.size)?b.size:[b.size,b.size]:[80,40],_=x[0],w=x[1],E=null===(t=null===(e=this.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,S=(null===(n=l.find(function(e){return!e.collapsed}))||void 0===n?void 0:n.padding)||[20,20,20,20],O=S[0],k=S[1],M=S[2],C=S[3],A={compound:y,nodes:o([],(a||[]).map(function(e){var t=r(e),n=t[0],o=t[1];return i(i({},e),{width:n,height:o})}),!0),edges:o([],(c||[]).map(function(e){return i(i({},e),{v:e.source,w:e.target})}),!0)},j={expanded:(l||[]).filter(function(e){return!e.collapsed}).map(function(e){return e.id})},T={graph:{meta:{align:h,rankDir:d,nodeSep:g,edgeSep:p,rankSep:v}},subScene:{meta:{paddingTop:O||(null===E||void 0===E?void 0:E.paddingTop)||20,paddingRight:k||(null===E||void 0===E?void 0:E.paddingRight)||20,paddingBottom:M||(null===E||void 0===E?void 0:E.paddingBottom)||20,paddingLeft:C||(null===E||void 0===E?void 0:E.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:_,height:w}}},I=(0,s.mergeConfig)(m,i({},(0,s.mergeConfig)(T,s.LAYOUT_CONFIG)));return this.graphSettings=I,{graphDef:A,graphOption:j,graphSettings:I}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;e.forEach(function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)}),t.forEach(function(e){e.points.forEach(function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)})}),r[0]=n[0]-i,r[1]=n[1]-o}return r},t.prototype.updateNodePosition=function(e,t){var n=this.combos,r=this.nodes,i=this.edges,o=this.anchorPoint,a=this.graphSettings,u=this.getBegin(e,t);e.forEach(function(e){var c,l=e.x,f=e.y,d=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&d!==s.ROOT_NAME){var g=n.findIndex(function(e){return e.id===d}),v=null===(c=null===a||void 0===a?void 0:a.subScene)||void 0===c?void 0:c.meta;n[g].offsetX=l+u[0],n[g].offsetY=f+u[1],n[g].fixSize=[p.width,p.height],n[g].fixCollapseSize=[p.width,p.height],e.expanded?n[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:n[g].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){g=r.findIndex(function(e){return e.id===d});if(r[g].x=l+u[0],r[g].y=f+u[1],o){var m=[],y=t.filter(function(e){return e.v===d}),b=t.filter(function(e){return e.w===d});y.length>0&&y.forEach(function(t){var n=t.points[0],r=(n.x-l)/e.width+.5,o=(n.y-f)/e.height+.5;m.push([r,o]),t.baseEdgeList.forEach(function(e){var t=i.find(function(t){return t.source===e.v&&t.target===e.w});t&&(t.sourceAnchor=m.length-1)})}),b.length>0&&b.forEach(function(t){var n=t.points[t.points.length-1],r=(n.x-l)/e.width+.5,o=(n.y-f)/e.height+.5;m.push([r,o]),t.baseEdgeList.forEach(function(e){var t=i.find(function(t){return t.source===e.v&&t.target===e.w});t&&(t.targetAnchor=m.length-1)})}),r[g].anchorPoints=m.length>0?m:r[g].anchorPoints||[]}}})},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,c=this.getBegin(e,t);u&&(r.forEach(function(e){e.inEdges=[],e.outEdges=[]}),a.forEach(function(t){var a,u,l,f,d=e.find(function(e){return e.id===t.source}),h=e.find(function(e){return e.id===t.target}),p=[],g=[];if(d&&h)g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e);else if(!d||!h){var v=n.getNodePath(t.source),m=n.getNodePath(t.target),y=v.reverse().slice(d?0:1).find(function(t){return e.find(function(e){return e.id===t})}),b=m.reverse().slice(h?0:1).find(function(t){return e.find(function(e){return e.id===t})});d=e.find(function(e){return e.id===y}),h=e.find(function(e){return e.id===b}),g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=g.reduce(function(e,t){return o(o([],e,!0),t.points.map(function(e){return i(i({},e),{x:e.x+c[0],y:e.y+c[1]})}),!0)},[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex(function(e){return e.id===(null===h||void 0===h?void 0:h.id)});if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some(function(e){return e.source===d.id&&e.target===h.id})))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:d.id,target:h.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===s.NodeType.META){x=r.findIndex(function(e){return e.id===(null===d||void 0===d?void 0:d.id)});if(!r[x]||(null===(l=r[x].outEdges)||void 0===l?void 0:l.some(function(e){return e.source===d.id&&e.target===h.id})))return;null===(f=r[x].outEdges)||void 0===f||f.push({source:d.id,target:h.id,controlPoints:p})}}))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every(function(e){return void 0!==e.layoutOrder})||e.forEach(function(e,t){e.layoutOrder=t}),e.sort(function(e,t){return e.layoutOrder-t.layoutOrder})},t}(a.Base);t.DagreCompoundLayout=c},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(311),t)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var i=n(39),o=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,o=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,c=n.nodeSize,l=n.nodeSpacing,f=[],d=0;u=(0,i.isArray)(c)?Math.max(c[0],c[1]):c,(0,i.isArray)(l)?d=Math.max(l[0],l[1]):(0,i.isNumber)(l)&&(d=l),r.forEach(function(e){f.push(e);var t=u;(0,i.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,i.isNumber)(e.size)?t=e.size:(0,i.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,i.isFunction)(l)&&(d=Math.max(l(e),d))}),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(f.forEach(function(e,t){h[e.id]=e,p[e.id]=t}),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===f[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var g=(0,i.getDegree)(r.length,p,o);f.forEach(function(e,t){e.degree=g[t]})}f.sort(function(e,t){return t[n.sortBy]-e[n.sortBy]}),n.maxValueNode=f[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],m=v[0];f.forEach(function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],v.push(m))}m.push(e)});var y=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(v.length+(b?1:0));y=Math.min(y,x)}var _=0;if(v.forEach(function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));_=Math.max(a,_)}e.r=_,_+=y}),n.equidistant){for(var w=0,E=0,S=0;S<v.length;S++){var O=v[S].r-E;w=Math.max(w,O)}E=0,v.forEach(function(e,t){0===t&&(E=e.r),e.r=E,E+=w})}return v.forEach(function(e){var t=e.dTheta,r=e.r;e.forEach(function(e,i){var o=n.startAngle+(n.clockwise?1:-1)*t*i;e.x=s[0]+r*Math.cos(o),e.y=s[1]+r*Math.sin(o)})}),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(41).Base);t.ConcentricLayout=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var i=n(196),o=n(39),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this.nodes,t=this.edges,n=void 0===t?[]:t,r=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var i=this.linkDistance,a=(0,o.getAdjMatrix)({nodes:e,edges:n},!1),s=(0,o.floydWarshall)(a);this.handleInfinity(s);var u=(0,o.scaleMatrix)(s,i);this.scaledDistances=u;var c=this.runMDS();return this.positions=c,c.forEach(function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]}),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:e,edges:n}}this.onLayoutEnd&&this.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=i.Matrix.mul(i.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),o=t.mean();t.add(o).subRowVector(n).subColumnVector(r);var a=new i.SingularValueDecomposition(t),s=i.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map(function(e){return i.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)})},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach(function(e){e.forEach(function(e){e!==1/0&&t<e&&(t=e)})}),e.forEach(function(n,r){n.forEach(function(n,i){n===1/0&&(e[r][i]=t)})})},t.prototype.getType=function(){return"mds"},t}(n(41).Base);t.MDSLayout=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var i=n(41),o=n(39),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this.nodes;if(void 0!==this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval),r&&0!==r.length){this.width||"undefined"===typeof window||(this.width=window.innerWidth),this.height||"undefined"===typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var i=this.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=this.onLayoutEnd)||void 0===t||t.call(this));var a={},s={};return r.forEach(function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),a[e.id]=e,s[e.id]=t}),this.nodeMap=a,this.nodeIdxMap=s,this.run()}null===(e=this.onLayoutEnd)||void 0===e||e.call(this)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,i=t.maxIteration,o=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach(function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})}),o||!s){for(var c=0;c<i;c++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval(function(){var e;t.runOneStep(u),++l>=i&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))},0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this.nodes;if(n){var r=this.edges,i=this.center,a=this.gravity,s=this.speed,u=this.clustering,c=this.height*this.width,l=Math.sqrt(c)/10,f=c/(n.length+1),d=Math.sqrt(f),h=[];if(n.forEach(function(e,t){h[t]={x:0,y:0}}),this.applyCalculate(n,r,h,d,f),u){for(var p in e)e[p].cx=0,e[p].cy=0,e[p].count=0;for(var p in n.forEach(function(t){var n=e[t.cluster];(0,o.isNumber)(t.x)&&(n.cx+=t.x),(0,o.isNumber)(t.y)&&(n.cy+=t.y),n.count++}),e)e[p].cx/=e[p].count,e[p].cy/=e[p].count;var g=this.clusterGravity||a;n.forEach(function(t,n){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var r=e[t.cluster],i=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=d*g;h[n].x-=a*(t.x-r.cx)/i,h[n].y-=a*(t.y-r.cy)/i}})}n.forEach(function(e,t){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=.01*d*a;h[t].x-=n*(e.x-i[0]),h[t].y-=n*(e.y-i[1])}}),n.forEach(function(e,t){if((0,o.isNumber)(e.fx)&&(0,o.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=Math.sqrt(h[t].x*h[t].x+h[t].y*h[t].y);if(n>0){var r=Math.min(l*(s/800),n);e.x+=h[t].x/n*r,e.y+=h[t].y/n*r}}}),null===(t=this.tick)||void 0===t||t.call(this)}},t.prototype.applyCalculate=function(e,t,n,r,i){this.calRepulsive(e,n,i),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach(function(r,i){t[i]={x:0,y:0},e.forEach(function(e,a){if(i!==a&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(e.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,c=s*s+u*u;if(0===c){c=1;var l=i>a?1:-1;s=.01*l,u=.01*l}var f=n/c;t[i].x+=s*f,t[i].y+=u*f}})})},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach(function(e){var i=(0,o.getEdgeTerminal)(e,"source"),a=(0,o.getEdgeTerminal)(e,"target");if(i&&a){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[a];if(s!==u){var c=r.nodeMap[i],l=r.nodeMap[a];if((0,o.isNumber)(l.x)&&(0,o.isNumber)(c.x)&&(0,o.isNumber)(l.y)&&(0,o.isNumber)(c.y)){var f=l.x-c.x,d=l.y-c.y,h=Math.sqrt(f*f+d*d),p=h*h/n;t[u].x-=f/h*p,t[u].y-=d/h*p,t[s].x+=f/h*p,t[s].y+=d/h*p}}}})},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(i.Base);t.FruchtermanLayout=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(41),s=n(39),u=n(195),c=n(210),l=n(380),f=n(91),d=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i,a=this;return o(this,function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach(function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,i[e.id]=t}),e.nodeMap=r,e.nodeIdxMap=i,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}})})},t.prototype.executeWithWorker=function(e,t){return i(this,void 0,void 0,function(){var n,r,i,a,u,c=this;return o(this,function(o){switch(o.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(a={},u={},r.forEach(function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*c.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*c.height),a[e.id]=e,u[e.id]=t}),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return o.sent(),[2]}})})},t.prototype.run=function(e,t){return i(this,void 0,void 0,function(){var n,r,a,d,h,p,g,v,m,y,b,x,_,w,E,S,O,k,M,C,A,j,T,I,N,P=this;return o(this,function(D){switch(D.label){case 0:for(r=(n=this).nodes,a=n.edges,d=n.maxIteration,h=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),m=Math.sqrt(v),y=n.speed,b=n.clustering,x=(0,c.attributesToTextureData)([n.clusterField],r),_=x.array,w=x.count,r.forEach(function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),_[4*t+1]=n,_[4*t+2]=r}),E=r.length,S=(0,c.buildTextureData)(r,a),O=S.maxEdgePerVetex,k=S.array,M=n.workerEnabled,C=M?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),A=n.onLayoutEnd,j=[],T=0;T<w;T++)j.push(0,0,0,0);return I=C.createKernel(l.fruchtermanBundle).setDispatch([E,1,1]).setBinding({u_Data:k,u_K:m,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:_,u_ClusterCenters:j,MAX_EDGE_PER_VERTEX:O,VERTEX_COUNT:E}),b&&(N=C.createKernel(l.clusterBundle).setDispatch([w,1,1]).setBinding({u_Data:k,u_NodeAttributes:_,u_ClusterCenters:j,VERTEX_COUNT:E,CLUSTER_COUNT:w})),[4,function(){return i(P,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<d?[4,I.execute()]:[3,6];case 2:return o.sent(),b?(N.setBinding({u_Data:I}),[4,N.execute()]):[3,4];case 3:o.sent(),I.setBinding({u_ClusterCenters:N}),o.label=4;case 4:I.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,I.getOutput()];case 7:return i=o.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach(function(e,t){var n=i[4*t],r=i[4*t+1];e.x=n,e.y=r}),A&&A(),[2]}})})}()];case 1:return D.sent(),[2]}})})},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=d},function(e,t,n){(function(e,t){var n;!function(n){!function(r){var i="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=a(n);function a(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof i.Reflect?i.Reflect=n:o=a(i.Reflect,o),function(t){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",a="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return N(Object.create(null))}:s?function(){return N({__proto__:null})}:function(){return N({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/graph-canvas"})&&"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/graph-canvas"}).REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,h=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,p=new(f||"function"!==typeof WeakMap?function(){var e=16,t=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=o(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var t=function(e){if("function"===typeof Uint8Array)return"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e);return a(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function g(e,t,n){var r=p.get(e);if(_(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(_(i)){if(!n)return;i=new d,r.set(t,i)}return i}function v(e,t,n){var r=g(t,n,!1);return!_(r)&&!!r.has(e)}function m(e,t,n){var r=g(t,n,!1);if(!_(r))return r.get(e)}function y(e,t,n,r){var i=g(n,r,!0);i.set(e,t)}function b(e,t){var n=[],r=g(e,t,!1);if(_(r))return n;for(var i=r.keys(),a=function(e){var t=A(e,o);if(!M(t))throw new TypeError;var n=t.call(e);if(!E(n))throw new TypeError;return n}(i),s=0;;){var u=j(a);if(!u)return n.length=s,n;var c=u.value;try{n[s]=c}catch(l){try{T(a)}finally{throw l}}s++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function w(e){return null===e}function E(e){return"object"===typeof e?null!==e:"function"===typeof e}function S(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=A(e,i);if(void 0!==r){var o=r.call(e,n);if(E(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(M(n)){var r=n.call(e);if(!E(r))return r}var i=e.valueOf;if(M(i)){var r=i.call(e);if(!E(r))return r}}else{var i=e.valueOf;if(M(i)){var r=i.call(e);if(!E(r))return r}var o=e.toString;if(M(o)){var r=o.call(e);if(!E(r))return r}}throw new TypeError}(e,"default"===n?"number":n)}function O(e){var t=S(e,3);return"symbol"===typeof t?t:function(e){return""+e}(t)}function k(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"function"===typeof e}function C(e){return"function"===typeof e}function A(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!M(n))throw new TypeError;return n}}function j(e){var t=e.next();return!t.done&&t}function T(e){var t=e.return;t&&t.call(e)}function I(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i?t:i===e?t:i}function N(e){return e.__=void 0,delete e.__,e}t("decorate",function(e,t,n,r){if(_(n)){if(!k(e))throw new TypeError;if(!C(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!_(i)&&!w(i)){if(!C(i))throw new TypeError;t=i}}return t}(e,t)}if(!k(e))throw new TypeError;if(!E(t))throw new TypeError;if(!E(r)&&!_(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),n=O(n),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=e[i],a=o(t,n,r);if(!_(a)&&!w(a)){if(!E(a))throw new TypeError;r=a}}return r}(e,t,n,r)}),t("metadata",function(e,t){return function(n,r){if(!E(n))throw new TypeError;if(!_(r)&&!function(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;y(e,t,n,r)}}),t("defineMetadata",function(e,t,n,r){if(!E(n))throw new TypeError;_(r)||(r=O(r));return y(e,t,n,r)}),t("hasMetadata",function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=O(n));return function e(t,n,r){var i=v(t,n,r);if(i)return!0;var o=I(n);if(!w(o))return e(t,o,r);return!1}(e,t,n)}),t("hasOwnMetadata",function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=O(n));return v(e,t,n)}),t("getMetadata",function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=O(n));return function e(t,n,r){var i=v(t,n,r);if(i)return m(t,n,r);var o=I(n);if(!w(o))return e(t,o,r);return}(e,t,n)}),t("getOwnMetadata",function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=O(n));return m(e,t,n)}),t("getMetadataKeys",function(e,t){if(!E(e))throw new TypeError;_(t)||(t=O(t));return function e(t,n){var r=b(t,n);var i=I(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;var a=new h;var s=[];for(var u=0,c=r;u<c.length;u++){var l=c[u],f=a.has(l);f||(a.add(l),s.push(l))}for(var d=0,p=o;d<p.length;d++){var l=p[d],f=a.has(l);f||(a.add(l),s.push(l))}return s}(e,t)}),t("getOwnMetadataKeys",function(e,t){if(!E(e))throw new TypeError;_(t)||(t=O(t));return b(e,t)}),t("deleteMetadata",function(e,t,n){if(!E(t))throw new TypeError;_(n)||(n=O(n));var r=g(t,n,!1);if(_(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||(p.delete(t),!0)})}(o)}()}(n||(n={}))}).call(this,n(125),n(74))},function(e,t,n){var r=n(171);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(42),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(44);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(44),i=n(42),o=n(58),a=n(68),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(42),i=n(72),o=n(58),a=n(325),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return r.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})})},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===r.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return r.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(131),i=n(132),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(42),i=n(58);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),i=n(77);function o(e){for(var t=new i.a,n=r.vec3.fromValues(e[0],e[1],e[2]),o=r.vec3.fromValues(e[0],e[1],e[2]),a=3;a<e.length;){var s=e[a++],u=e[a++],c=e[a++];s<n[0]&&(n[0]=s),u<n[1]&&(n[1]=u),c<n[2]&&(n[2]=c),s>o[0]&&(o[0]=s),u>o[1]&&(o[1]=u),c>o[2]&&(o[2]=c)}return t.setMinMax(n,o),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=1e-6},function(e,t){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n.n(r),o=n(7),a=n.n(o),s=n(9),u=n.n(s),c=n(14),l=n.n(c),f=(n(37),n(4)),d=n(3),h=n(6);function p(e){return"number"===typeof e}function g(e){return void 0===e?0:e>360||e<-360?e%360:e}function v(e,t,n){return p(e)?d.vec3.fromValues(e,t,n):3===e.length?d.vec3.clone(e):d.vec3.fromValues(e[0],e[1],e[2])}var m,y,b,x,_,w,E,S,O,k,M=function(){function e(t,n){a()(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=d.mat4.clone(n.matrix),this.right=d.vec3.clone(n.right),this.up=d.vec3.clone(n.up),this.forward=d.vec3.clone(n.forward),this.position=d.vec3.clone(n.position),this.focalPoint=d.vec3.clone(n.focalPoint),this.distanceVector=d.vec3.clone(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return u()(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=d.mat4.copy(e.matrix,this.matrix),e.right=d.vec3.copy(e.right,this.right),e.up=d.vec3.copy(e.up,this.up),e.forward=d.vec3.copy(e.forward,this.forward),e.position=d.vec3.copy(e.position,this.position),e.focalPoint=d.vec3.copy(e.focalPoint,this.focalPoint),e.distanceVector=d.vec3.copy(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(S||(S={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(O||(O={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(k||(k={}));var C,A,j,T,I,N,P,D=Math.PI/180,L=180/Math.PI,R=(m=Object(h.injectable)(),y=Object(h.inject)(f.IDENTIFIER.InteractorService),m((E=w=function(){function e(){a()(this,e),this.matrix=d.mat4.create(),this.right=d.vec3.fromValues(1,0,0),this.up=d.vec3.fromValues(0,1,0),this.forward=d.vec3.fromValues(0,0,1),this.position=d.vec3.fromValues(0,0,1),this.focalPoint=d.vec3.fromValues(0,0,0),this.distanceVector=d.vec3.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,i()(this,"interactor",_,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=d.mat4.create(),this.view=void 0,this.following=void 0,this.type=S.EXPLORING,this.trackingMode=O.DEFAULT,this.projectionMode=k.PERSPECTIVE,this.frustum=new f.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return u()(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===S.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===S.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==S.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return d.mat4.invert(d.mat4.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===k.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===k.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=k.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,d.mat4.perspective(this.perspective,this.fov*D,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=k.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,l=u-a,f=u+a,h=c+s,p=c-s;if(void 0!==this.view&&this.view.enabled){var g=(this.rright-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(l+=g*this.view.offsetX)+g*this.view.width,p=(h-=v*this.view.offsetY)-v*this.view.height}return d.mat4.ortho(this.perspective,l,f,h,p,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=d.vec3.fromValues(0,1,0);if(this.focalPoint=v(e,t,n),this.trackingMode===O.CINEMATIC){var i=d.vec3.subtract(d.vec3.create(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=d.vec3.length(i),a=Math.asin(t/o)*L,s=90+Math.atan2(n,e)*L,u=d.mat4.create();d.mat4.rotateY(u,u,s*D),d.mat4.rotateX(u,u,a*D),r=d.vec3.transformMat4(d.vec3.create(),[0,1,0],u)}return d.mat4.invert(this.matrix,d.mat4.lookAt(d.mat4.create(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=d.vec3.create();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=g(e),this.computeMatrix(),this._getAxes(),this.type===S.ORBITING||this.type===S.EXPLORING?this._getPosition():this.type===S.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=g(e),this.computeMatrix(),this._getAxes(),this.type===S.ORBITING||this.type===S.EXPLORING?this._getPosition():this.type===S.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=g(e),this.computeMatrix(),this._getAxes(),this.type===S.ORBITING||this.type===S.EXPLORING?this._getPosition():this.type===S.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===S.EXPLORING){e=g(e),t=g(t),n=g(n);var r=d.quat.setAxisAngle(d.quat.create(),[1,0,0],(this.rotateWorld?1:-1)*t*D),i=d.quat.setAxisAngle(d.quat.create(),[0,1,0],(this.rotateWorld?1:-1)*e*D),o=d.quat.setAxisAngle(d.quat.create(),[0,0,1],n*D),a=d.quat.multiply(d.quat.create(),i,r);a=d.quat.multiply(d.quat.create(),a,o);var s=d.mat4.fromQuat(d.mat4.create(),a);d.mat4.translate(this.matrix,this.matrix,[0,0,-this.distance]),d.mat4.multiply(this.matrix,this.matrix,s),d.mat4.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=g(t),this.relAzimuth=g(e),this.relRoll=g(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===S.ORBITING||this.type===S.EXPLORING?this._getPosition():this.type===S.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=v(e,t,0),r=d.vec3.clone(this.position);return d.vec3.add(r,r,d.vec3.scale(d.vec3.create(),this.right,n[0])),d.vec3.add(r,r,d.vec3.scale(d.vec3.create(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=d.vec3.clone(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===S.ORBITING||this.type===S.EXPLORING?this._getDistance():this.type===S.TRACKING&&d.vec3.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new M(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new M(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find(function(t){return t.name===e});if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll();window.requestAnimationFrame(function e(r){void 0===i&&(i=r);var u,c=r-i,l=(1-Math.cos(c/n*Math.PI))/2,f=d.vec3.create(),h=d.vec3.create();if(d.vec3.lerp(f,t.focalPoint,a,l),d.vec3.lerp(h,t.position,o,l),u=t.roll*(1-l)+s*l,t.setFocalPoint(f),t.setPosition(h),t.setRoll(u),t.computeMatrix(),!(d.vec3.dist(f,a)+d.vec3.dist(h,o)>.01))return t.setFocalPoint(f),t.setPosition(h),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();c<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))})}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=d.quat.setAxisAngle(d.quat.create(),[0,0,1],this.roll*D);d.mat4.identity(this.matrix),e=d.quat.setAxisAngle(d.quat.create(),[1,0,0],(this.rotateWorld&&this.type!==S.TRACKING||this.type===S.TRACKING?1:-1)*this.elevation*D),t=d.quat.setAxisAngle(d.quat.create(),[0,1,0],(this.rotateWorld&&this.type!==S.TRACKING||this.type===S.TRACKING?1:-1)*this.azimuth*D);var r=d.quat.multiply(d.quat.create(),t,e);r=d.quat.multiply(d.quat.create(),r,n);var i=d.mat4.fromQuat(d.mat4.create(),r);this.type===S.ORBITING||this.type===S.EXPLORING?(d.mat4.translate(this.matrix,this.matrix,this.focalPoint),d.mat4.multiply(this.matrix,this.matrix,i),d.mat4.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===S.TRACKING&&(d.mat4.translate(this.matrix,this.matrix,this.position),d.mat4.multiply(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=v(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){d.vec3.copy(this.right,v(d.vec4.transformMat4(d.vec4.create(),[1,0,0,0],this.matrix))),d.vec3.copy(this.up,v(d.vec4.transformMat4(d.vec4.create(),[0,1,0,0],this.matrix))),d.vec3.copy(this.forward,v(d.vec4.transformMat4(d.vec4.create(),[0,0,1,0],this.matrix))),d.vec3.normalize(this.right,this.right),d.vec3.normalize(this.up,this.up),d.vec3.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=d.vec3.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===S.TRACKING?(this.elevation=Math.asin(t/r)*L,this.azimuth=Math.atan2(-e,-n)*L):this.rotateWorld?(this.elevation=Math.asin(t/r)*L,this.azimuth=Math.atan2(-e,-n)*L):(this.elevation=-Math.asin(t/r)*L,this.azimuth=-Math.atan2(-e,-n)*L)}},{key:"_getPosition",value:function(){d.vec3.copy(this.position,v(d.vec4.transformMat4(d.vec4.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){d.vec3.transformMat3(this.distanceVector,[0,0,-this.distance],d.mat3.fromMat4(d.mat3.create(),this.matrix)),d.vec3.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=d.vec3.subtract(d.vec3.create(),this.focalPoint,this.position),this.distance=d.vec3.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),w.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},x=E,_=l()(x.prototype,"interactor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=x))||b),B=(C=Object(h.injectable)(),A=Object(h.inject)(f.IDENTIFIER.GeometryComponentManager),C((P=N=function(){function e(){a()(this,e),this.config=void 0,i()(this,"geometry",I,this),this.entity=void 0,this.component=void 0}return u()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),N.BOX="box",N.SPHERE="sphere",N.PLANE="plane",N.MERGED="merged",T=P,I=l()(T.prototype,"geometry",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=T))||j),F=n(12),z=n.n(F),G=n(18),U=n.n(G),V=n(5),W=n.n(V),Y=n(10);function X(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var H={}.toString,q=function(e,t){return H.call(e)==="[object "+t+"]"},K=n(45),Z=n.n(K),Q=9007199254740991,$={};$["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$["[object Arguments]"]=$["[object Array]"]=$["[object ArrayBuffer]"]=$["[object Boolean]"]=$["[object DataView]"]=$["[object Date]"]=$["[object Error]"]=$["[object Function]"]=$["[object Map]"]=$["[object Number]"]=$["[object Object]"]=$["[object RegExp]"]=$["[object Set]"]=$["[object String]"]=$["[object WeakMap]"]=!1;var J=Object.prototype.toString;var ee,te,ne,re,ie,oe,ae,se=function(e){return function(e){return!!e&&"object"===Z()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=Q}(e.length)&&!!$[J.call(e)]};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var le,fe,de,he,pe,ge,ve,me,ye,be,xe,_e,we,Ee,Se,Oe,ke,Me,Ce,Ae,je,Te,Ie,Ne,Pe,De,Le,Re,Be,Fe,ze,Ge,Ue,Ve,We,Ye=(ee=Object(h.injectable)(),te=Object(h.inject)(f.IDENTIFIER.RenderEngine),ne=Object(h.inject)(f.IDENTIFIER.ConfigService),ee((ie=function(){function e(){a()(this,e),i()(this,"engine",oe,this),i()(this,"configService",ae,this),this.entity=Object(f.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return u()(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(ce({canvas:t||X(),swapChainFormat:Y.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=p(t)||se(t)||(n=t,Array.isArray?Array.isArray(n):q(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find(function(t){return t.name===e});if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find(function(t){return t.name===e});a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===f.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach(function(t){r.setBinding(t,e[t])});return this}},{key:"execute",value:function(){var e=U()(z.a.mark(function e(){var t,n,r=this,i=arguments;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(e){return e.isReferer}).forEach(function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)}),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=U()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=U()(z.a.mark(function e(){var t,n,r;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=ce({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?f.Target.WGSL:f.Target.GLSL450:f.Target.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter(function(e){return e.runtime}).forEach(function(e){var t="".concat(f.DefineValuePlaceholder).concat(e.name);r=r.replace(t,"".concat(e.value))}),t.shader=r,t.uniforms.forEach(function(e){if(!e.data&&e.storageClass===f.STORAGE_CLASS.StorageBuffer){var n=1;e.type===f.AST_TOKEN_TYPES.FloatArray?n=1:e.type===f.AST_TOKEN_TYPES.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}}),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),oe=l()(ie.prototype,"engine",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=l()(ie.prototype,"configService",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=ie))||re),Xe=(le=Object(h.injectable)(),fe=Object(h.inject)(f.IDENTIFIER.MaterialComponentManager),le((ve=ge=function(){function e(){a()(this,e),this.config=void 0,i()(this,"material",pe,this),this.entity=void 0,this.component=void 0}return u()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),ge.BASIC="basic",he=ve,pe=l()(he.prototype,"material",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=he))||de),He=(me=Object(h.injectable)(),ye=Object(h.inject)(f.IDENTIFIER.MeshComponentManager),be=Object(h.inject)(f.IDENTIFIER.CullableComponentManager),xe=Object(h.inject)(f.IDENTIFIER.TransformComponentManager),_e=Object(h.inject)(f.IDENTIFIER.Systems),we=Object(h.named)(f.IDENTIFIER.SceneGraphSystem),me((je=Ae=function(){function e(){a()(this,e),this.attributes={},this.config=void 0,i()(this,"mesh",Oe,this),i()(this,"cullable",ke,this),i()(this,"transform",Me,this),i()(this,"sceneGraphSystem",Ce,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return u()(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach(function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])})}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach(function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),Ae.POINT="point",Ae.LINE="line",Ae.GRID="grid",Se=je,Oe=l()(Se.prototype,"mesh",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=l()(Se.prototype,"cullable",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=l()(Se.prototype,"transform",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=l()(Se.prototype,"sceneGraphSystem",[_e,we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Se))||Ee),qe=n(223),Ke=n.n(qe),Ze=function(){function e(t,n){a()(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,s=n.normalized,u=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:s||!1,divisor:c||0},u&&(this.attribute.size=u)}return u()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Qe=(Te={},W()(Te,f.gl.POINTS,"points"),W()(Te,f.gl.LINES,"lines"),W()(Te,f.gl.LINE_LOOP,"line loop"),W()(Te,f.gl.LINE_STRIP,"line strip"),W()(Te,f.gl.TRIANGLES,"triangles"),W()(Te,f.gl.TRIANGLE_FAN,"triangle fan"),W()(Te,f.gl.TRIANGLE_STRIP,"triangle strip"),Te),$e=(Ie={},W()(Ie,f.gl.STATIC_DRAW,"static"),W()(Ie,f.gl.DYNAMIC_DRAW,"dynamic"),W()(Ie,f.gl.STREAM_DRAW,"stream"),Ie),Je=(Ne={},W()(Ne,f.gl.BYTE,"int8"),W()(Ne,f.gl.UNSIGNED_INT,"int16"),W()(Ne,f.gl.INT,"int32"),W()(Ne,f.gl.UNSIGNED_BYTE,"uint8"),W()(Ne,f.gl.UNSIGNED_SHORT,"uint16"),W()(Ne,f.gl.UNSIGNED_INT,"uint32"),W()(Ne,f.gl.FLOAT,"float"),Ne),et=(Pe={},W()(Pe,f.gl.ALPHA,"alpha"),W()(Pe,f.gl.LUMINANCE,"luminance"),W()(Pe,f.gl.LUMINANCE_ALPHA,"luminance alpha"),W()(Pe,f.gl.RGB,"rgb"),W()(Pe,f.gl.RGBA,"rgba"),W()(Pe,f.gl.RGBA4,"rgba4"),W()(Pe,f.gl.RGB5_A1,"rgb5 a1"),W()(Pe,f.gl.RGB565,"rgb565"),W()(Pe,f.gl.DEPTH_COMPONENT,"depth"),W()(Pe,f.gl.DEPTH_STENCIL,"depth stencil"),Pe),tt=(De={},W()(De,f.gl.DONT_CARE,"dont care"),W()(De,f.gl.NICEST,"nice"),W()(De,f.gl.FASTEST,"fast"),De),nt=(Le={},W()(Le,f.gl.NEAREST,"nearest"),W()(Le,f.gl.LINEAR,"linear"),W()(Le,f.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),W()(Le,f.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),W()(Le,f.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),W()(Le,f.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Le),rt=(Re={},W()(Re,f.gl.REPEAT,"repeat"),W()(Re,f.gl.CLAMP_TO_EDGE,"clamp"),W()(Re,f.gl.MIRRORED_REPEAT,"mirror"),Re),it=(Be={},W()(Be,f.gl.NONE,"none"),W()(Be,f.gl.BROWSER_DEFAULT_WEBGL,"browser"),Be),ot=(Fe={},W()(Fe,f.gl.NEVER,"never"),W()(Fe,f.gl.ALWAYS,"always"),W()(Fe,f.gl.LESS,"less"),W()(Fe,f.gl.LEQUAL,"lequal"),W()(Fe,f.gl.GREATER,"greater"),W()(Fe,f.gl.GEQUAL,"gequal"),W()(Fe,f.gl.EQUAL,"equal"),W()(Fe,f.gl.NOTEQUAL,"notequal"),Fe),at=(ze={},W()(ze,f.gl.FUNC_ADD,"add"),W()(ze,f.gl.MIN_EXT,"min"),W()(ze,f.gl.MAX_EXT,"max"),W()(ze,f.gl.FUNC_SUBTRACT,"subtract"),W()(ze,f.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),ze),st=(Ge={},W()(Ge,f.gl.ZERO,"zero"),W()(Ge,f.gl.ONE,"one"),W()(Ge,f.gl.SRC_COLOR,"src color"),W()(Ge,f.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),W()(Ge,f.gl.SRC_ALPHA,"src alpha"),W()(Ge,f.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),W()(Ge,f.gl.DST_COLOR,"dst color"),W()(Ge,f.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),W()(Ge,f.gl.DST_ALPHA,"dst alpha"),W()(Ge,f.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),W()(Ge,f.gl.CONSTANT_COLOR,"constant color"),W()(Ge,f.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),W()(Ge,f.gl.CONSTANT_ALPHA,"constant alpha"),W()(Ge,f.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),W()(Ge,f.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),Ge),ut=(Ue={},W()(Ue,f.gl.NEVER,"never"),W()(Ue,f.gl.ALWAYS,"always"),W()(Ue,f.gl.LESS,"less"),W()(Ue,f.gl.LEQUAL,"lequal"),W()(Ue,f.gl.GREATER,"greater"),W()(Ue,f.gl.GEQUAL,"gequal"),W()(Ue,f.gl.EQUAL,"equal"),W()(Ue,f.gl.NOTEQUAL,"notequal"),Ue),ct=(Ve={},W()(Ve,f.gl.ZERO,"zero"),W()(Ve,f.gl.KEEP,"keep"),W()(Ve,f.gl.REPLACE,"replace"),W()(Ve,f.gl.INVERT,"invert"),W()(Ve,f.gl.INCR,"increment"),W()(Ve,f.gl.DECR,"decrement"),W()(Ve,f.gl.INCR_WRAP,"increment wrap"),W()(Ve,f.gl.DECR_WRAP,"decrement wrap"),Ve),lt=(We={},W()(We,f.gl.FRONT,"front"),W()(We,f.gl.BACK,"back"),We),ft=function(){function e(t,n){a()(this,e),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=t.buffer({data:r,usage:$e[i||f.gl.STATIC_DRAW],type:Je[o||f.gl.UNSIGNED_BYTE]})}return u()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),dt=n(35),ht=n.n(dt),pt=9007199254740991,gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1;var vt=Object.prototype.toString;var mt=function(e){return function(e){return!!e&&"object"===Z()(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=pt}(e.length)&&!!gt[vt.call(e)]};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xt="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",_t=0,wt=!1,Et=function(){function e(t,n){var r=this;a()(this,e),this.reGl=t,this.context=n,this.entity=Object(f.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach(function(e){var t=e.name,n=e.type,o=e.data,a=e.isReferer,s=e.storageClass;if(s===f.STORAGE_CLASS.StorageBuffer){if(a)r.textureCache[t]={data:void 0},i["".concat(t,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,o);var u=r.textureCache[t],c=u.textureWidth,l=u.isOutput;i["".concat(t,"Size")]=[c,c],l&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,o)))}i[t]=function(){return wt&&console.log("[".concat(r.entity,"]: ").concat(t," ").concat(r.textureCache[t].id)),r.textureCache[t].texture}}else if(s===f.STORAGE_CLASS.Uniform){if(o&&(Array.isArray(o)||mt(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[t]=function(){return e.data}}});var o=this.getOuputDataTexture(),s=o.textureWidth,u=o.texelCount;i.u_OutputTextureSize=[s,s],i.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var c={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:xt,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(c)}return u()(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){e.computeCommand()}),wt&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o,a,s,u,c=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){t=c.reGl.read()}),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(u=0;u<t.length;u+=4)1===i?s.push(t[u]):2===i?s.push(t[u],t[u+1]):s.push(t[u],t[u+1],t[u+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture,wt&&console.log("[".concat(this.entity,"]: confirm input ").concat(t," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.context.uniforms.find(function(t){return t.name===e});if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t,wt&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return bt(bt({},e),{},{id:_t++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===f.AST_TOKEN_TYPES.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),c=u*u;s<c&&i.push.apply(i,ht()(new Array(4*(c-s)).fill(0)));var l=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:_t++,data:i,originalDataLength:a,typedArrayConstructor:mt(n)?n.constructor:void 0,textureWidth:u,texture:l,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),St=function(){function e(t,n){a()(this,e),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,s=n.count;this.elements=t.elements({data:r,usage:$e[i||f.gl.STATIC_DRAW],type:Je[o||f.gl.UNSIGNED_BYTE],count:s})}return u()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Ot=function(){function e(t,n){a()(this,e),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:i});Array.isArray(s)&&(u.colors=s.map(function(e){return e.get()})),o&&"boolean"!==typeof o&&(u.color=o.get()),this.framebuffer=t.framebuffer(u)}return u()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function kt(e){var t={};return Object.keys(e).forEach(function(n){!function e(t,n,r,i){if(null===n||"number"===typeof n||"boolean"===typeof n||Array.isArray(n)&&"number"===typeof n[0]||mt(n)||""===n||void 0!==n.resize)return void(r["".concat(i&&i+".").concat(t)]=n);(function(e){var t=Z()(e);return null!=e&&("object"===t||"function"===t)})(n)&&Object.keys(n).forEach(function(o){e(o,n[o],r,"".concat(i&&i+".").concat(t))});Array.isArray(n)&&n.forEach(function(n,o){Object.keys(n).forEach(function(a){e(a,n[a],r,"".concat(i&&i+".").concat(t,"[").concat(o,"]"))})})}(n,e[n],t,"")}),t}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var At,jt,Tt=function(){function e(t,n){a()(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,i=n.fs,o=n.defines,s=n.attributes,u=n.uniforms,c=n.primitive,l=n.count,d=n.elements,h=n.depth,p=n.blend,g=n.stencil,v=n.cull,m=n.instances,y=n.scissor,b=n.viewport,x={};u&&(this.uniforms=kt(u),Object.keys(u).forEach(function(e){x[e]=t.prop(e)}));var _={};Object.keys(s).forEach(function(e){_[e]=s[e].get()});var w=o&&this.generateDefines(o)||"",E={attributes:_,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(i),uniforms:x,vert:"\n".concat(w,"\n").concat(r),primitive:Qe[void 0===c?f.gl.TRIANGLES:c]};m&&(E.instances=m),l&&(E.count=l),d&&(E.elements=d.get()),y&&(E.scissor=y),b&&(E.viewport=b),this.initDepthDrawParams({depth:h},E),this.initBlendDrawParams({blend:p},E),this.initStencilDrawParams({stencil:g},E),this.initCullDrawParams({cull:v},E),this.drawCommand=t(E)}return u()(e,[{key:"addUniforms",value:function(e){this.uniforms=Ct(Ct({},this.uniforms),kt(e))}},{key:"draw",value:function(e){var t=Ct(Ct({},this.uniforms),kt(e.uniforms||{})),n={};Object.keys(t).forEach(function(e){var r=Z()(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())}),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:ot[n.func||f.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:st[i&&i.srcRGB||f.gl.SRC_ALPHA],srcAlpha:st[i&&i.srcAlpha||f.gl.SRC_ALPHA],dstRGB:st[i&&i.dstRGB||f.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:st[i&&i.dstAlpha||f.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:at[o&&o.rgb||f.gl.FUNC_ADD],alpha:at[o&&o.alpha||f.gl.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:f.gl.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,c=void 0===u?{fail:f.gl.KEEP,zfail:f.gl.KEEP,zpass:f.gl.KEEP}:u,l=n.opBack,d=void 0===l?{fail:f.gl.KEEP,zfail:f.gl.KEEP,zpass:f.gl.KEEP}:l;t.stencil={enable:!!r,mask:o,func:Ct(Ct({},s),{},{cmp:ut[s.cmp]}),opFront:{fail:ct[c.fail],zfail:ct[c.zfail],zpass:ct[c.zpass]},opBack:{fail:ct[d.fail],zfail:ct[d.zfail],zpass:ct[d.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?f.gl.BACK:i;t.cull={enable:!!r,face:lt[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map(function(t){return"#define ".concat(t," ").concat(Number(e[t]))}).join("\n")}}]),e}(),It=function(){function e(t,n){a()(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=void 0===i?f.gl.UNSIGNED_BYTE:i,s=n.width,u=n.height,c=n.flipY,l=void 0!==c&&c,d=n.format,h=void 0===d?f.gl.RGBA:d,p=n.mipmap,g=void 0!==p&&p,v=n.wrapS,m=void 0===v?f.gl.CLAMP_TO_EDGE:v,y=n.wrapT,b=void 0===y?f.gl.CLAMP_TO_EDGE:y,x=n.aniso,_=void 0===x?0:x,w=n.alignment,E=void 0===w?1:w,S=n.premultiplyAlpha,O=void 0!==S&&S,k=n.mag,M=void 0===k?f.gl.NEAREST:k,C=n.min,A=void 0===C?f.gl.NEAREST:C,j=n.colorSpace,T=void 0===j?f.gl.BROWSER_DEFAULT_WEBGL:j;this.width=s,this.height=u;var I={width:s,height:u,type:Je[o],format:et[h],wrapS:rt[m],wrapT:rt[b],mag:nt[M],min:nt[A],alignment:E,flipY:l,colorSpace:it[T],premultiplyAlpha:O,aniso:_};r&&(I.data=r),"number"===typeof g?I.mipmap=tt[g]:"boolean"===typeof g&&(I.mipmap=g),this.texture=t.texture(I)}return u()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Nt=Object(h.injectable)()(At=function(){function e(){var t=this;a()(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=U()(z.a.mark(function e(n){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=U()(z.a.mark(function e(t){var r;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new Tt(t.gl,n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Ze(t.gl,e)},this.createBuffer=function(e){return new ft(t.gl,e)},this.createElements=function(e){return new St(t.gl,e)},this.createTexture2D=function(e){return new It(t.gl,e)},this.createFramebuffer=function(e){return new Ot(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=U()(z.a.mark(function e(n){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Et(t.gl,n));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable(f.gl.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable(f.gl.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return u()(e,[{key:"init",value:function(){var e=U()(z.a.mark(function e(t){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise(function(e,n){Ke()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})});case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}())||At;function Pt(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function Dt(e,t){return new Promise(function(t,n){Pt(e,function(){t()},function(e,t){n(t)})})}var Lt=function(){return Rt.apply(this,arguments)};function Rt(){return(Rt=U()(z.a.mark(function e(){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!jt){e.next=2;break}return e.abrupt("return",jt);case 2:return e.next=4,Dt("https://preview.babylonjs.com/glslang/glslang.js");case 4:return jt=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",jt);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Bt=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,i=r.buffer,o=r.offset,s=r.stride,u=r.normalized,c=r.size,l=r.divisor,f=r.arrayStride,d=r.attributes,h=r.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:o||0,stride:s||0,normalized:u||!1,divisor:l||0,arrayStride:f||0,attributes:d,stepMode:h||"vertex"},c&&(this.attribute.size=c)}return u()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Ft=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,i=r.data,o=r.usage;r.type;this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,o||Y.BufferUsage.Vertex|Y.BufferUsage.CopyDst)}return u()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(f.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var zt,Gt,Ut,Vt,Wt,Yt,Xt,Ht=function(){function e(t,n){a()(this,e),this.engine=t,this.context=n,this.entity=Object(f.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return u()(e,[{key:"init",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o,a,s,u=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter(function(e){return e.storageClass===f.STORAGE_CLASS.StorageBuffer}),i=this.context.uniforms.filter(function(e){return e.storageClass===f.STORAGE_CLASS.Uniform}),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach(function(e){if("number"===typeof e.data)u.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,ht()(e.data)),u.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,ht()(e.data)),u.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}}),this.uniformBuffer=new Ft(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:Y.BufferUsage.Uniform|Y.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach(function(e){var t;null!==e.data&&(e.type!==f.AST_TOKEN_TYPES.Vector4FloatArray&&e.type!==f.AST_TOKEN_TYPES.FloatArray||(e.name===u.context.output.name?(t=new Ft(u.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:Y.BufferUsage.Storage|Y.BufferUsage.CopyDst|Y.BufferUsage.CopySrc}),u.outputBuffer=t,u.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new Ft(u.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:Y.BufferUsage.Storage|Y.BufferUsage.CopyDst|Y.BufferUsage.CopySrc}),u.vertexBuffers[e.name]=t,u.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(t){return e.vertexBuffers[t].destroy()})}},{key:"readData",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(f.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(Y.MapMode.Read);case 12:return u=a.getMappedRange(),c=new r(u.slice(0)),a.unmap(),e.abrupt("return",c);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,ht()(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find(function(t){return t.name===e});n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(f.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=U()(z.a.mark(function e(t){var n;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:f.isSafari}),entryPoint:"main"}});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),qt=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,i=r.data,o=(r.usage,r.type,r.count);this.indexCount=o||0,this.buffer=new Ft(t,{data:i instanceof Array?new Uint16Array(i):i,usage:Y.BufferUsage.Index|Y.BufferUsage.CopyDst})}return u()(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Kt=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,i=(r.width,r.height,r.color),o=(r.colors,r.depth);r.stencil;i&&(this.colorTexture=i),o&&(this.depthTexture=o)}return u()(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),Zt=(zt={},W()(zt,f.gl.POINTS,Y.PrimitiveTopology.PointList),W()(zt,f.gl.LINES,Y.PrimitiveTopology.LineList),W()(zt,f.gl.LINE_LOOP,Y.PrimitiveTopology.LineList),W()(zt,f.gl.LINE_STRIP,Y.PrimitiveTopology.LineStrip),W()(zt,f.gl.TRIANGLES,Y.PrimitiveTopology.TriangleList),W()(zt,f.gl.TRIANGLE_FAN,Y.PrimitiveTopology.TriangleList),W()(zt,f.gl.TRIANGLE_STRIP,Y.PrimitiveTopology.TriangleStrip),zt),Qt=(Gt={},W()(Gt,f.gl.NEVER,Y.CompareFunction.Never),W()(Gt,f.gl.ALWAYS,Y.CompareFunction.Always),W()(Gt,f.gl.LESS,Y.CompareFunction.Less),W()(Gt,f.gl.LEQUAL,Y.CompareFunction.LessEqual),W()(Gt,f.gl.GREATER,Y.CompareFunction.Greater),W()(Gt,f.gl.GEQUAL,Y.CompareFunction.GreaterEqual),W()(Gt,f.gl.EQUAL,Y.CompareFunction.Equal),W()(Gt,f.gl.NOTEQUAL,Y.CompareFunction.NotEqual),Gt),$t=(Ut={},W()(Ut,f.gl.FUNC_ADD,Y.BlendOperation.Add),W()(Ut,f.gl.MIN_EXT,Y.BlendOperation.Min),W()(Ut,f.gl.MAX_EXT,Y.BlendOperation.Max),W()(Ut,f.gl.FUNC_SUBTRACT,Y.BlendOperation.Subtract),W()(Ut,f.gl.FUNC_REVERSE_SUBTRACT,Y.BlendOperation.ReverseSubtract),Ut),Jt=(Vt={},W()(Vt,f.gl.ZERO,Y.BlendFactor.Zero),W()(Vt,f.gl.ONE,Y.BlendFactor.One),W()(Vt,f.gl.SRC_COLOR,Y.BlendFactor.SrcColor),W()(Vt,f.gl.ONE_MINUS_SRC_COLOR,Y.BlendFactor.OneMinusSrcColor),W()(Vt,f.gl.SRC_ALPHA,Y.BlendFactor.SrcAlpha),W()(Vt,f.gl.ONE_MINUS_SRC_ALPHA,Y.BlendFactor.OneMinusSrcAlpha),W()(Vt,f.gl.DST_COLOR,Y.BlendFactor.DstColor),W()(Vt,f.gl.ONE_MINUS_DST_COLOR,Y.BlendFactor.OneMinusDstColor),W()(Vt,f.gl.DST_ALPHA,Y.BlendFactor.DstAlpha),W()(Vt,f.gl.ONE_MINUS_DST_ALPHA,Y.BlendFactor.OneMinusDstAlpha),W()(Vt,f.gl.CONSTANT_COLOR,Y.BlendFactor.BlendColor),W()(Vt,f.gl.ONE_MINUS_CONSTANT_COLOR,Y.BlendFactor.OneMinusBlendColor),W()(Vt,f.gl.SRC_ALPHA_SATURATE,Y.BlendFactor.SrcAlphaSaturated),Vt),en=(Wt={},W()(Wt,f.gl.ALPHA,"r8unorm"),W()(Wt,f.gl.RGBA,"rgba8unorm"),W()(Wt,f.gl.DEPTH_COMPONENT,"depth32float"),W()(Wt,f.gl.DEPTH_STENCIL,"depth24plus-stencil8"),Wt),tn=(Yt={},W()(Yt,f.gl.NEAREST,"nearest"),W()(Yt,f.gl.LINEAR,"linear"),Yt),nn=(Xt={},W()(Xt,f.gl.REPEAT,"repeat"),W()(Xt,f.gl.CLAMP_TO_EDGE,"clamp-to-edge"),W()(Xt,f.gl.MIRRORED_REPEAT,"mirror-repeat"),Xt);function rn(e){var t=e.cull;return t&&t.enable?t.face?t.face===f.gl.FRONT?Y.CullMode.Front:Y.CullMode.Back:void 0:Y.CullMode.None}function on(e){var t=e.depth,n=(e.stencil,{compare:Y.CompareFunction.Always,depthFailOp:Y.StencilOperation.Keep,failOp:Y.StencilOperation.Keep,passOp:Y.StencilOperation.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:Qt[(null===t||void 0===t?void 0:t.func)||f.gl.ALWAYS],format:Y.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function an(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:Jt[n&&n.func&&n.func.srcAlpha||f.gl.ONE],dstFactor:Jt[n&&n.func&&n.func.dstAlpha||f.gl.ZERO],operation:$t[n&&n.equation&&n.equation.alpha||f.gl.FUNC_ADD]},colorBlend:{srcFactor:Jt[n&&n.func&&n.func.srcRGB||f.gl.ONE],dstFactor:Jt[n&&n.func&&n.func.dstRGB||f.gl.ZERO],operation:$t[n&&n.equation&&n.equation.rgb||f.gl.FUNC_ADD]},writeMask:Y.ColorWrite.All}]}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var cn,ln,fn=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return u()(e,[{key:"init",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o,a,s,u,c,l,d,h,p,g,v,m,y=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,u=t.depth,c=t.blend,l=t.stencil,d=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,g=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),v={vertexBuffers:Object.keys(i).map(function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}})},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Zt[a||f.gl.TRIANGLES],rasterizationState:un(un({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:rn({cull:d})}),depthStencilState:on({depth:u,stencil:l}),colorStates:an({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:g,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=un(un({},this.uniforms),kt(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=un(un({},this.uniforms),kt(e.uniforms||{})),i=[];Object.keys(r).forEach(function(e){var n=Z()(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find(function(t){return t.name===e}))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find(function(t){return t.name===e}))||void 0===s?void 0:s.offset;if(null!==u){var c=r[e].get(),l=c.color||c,f=l.texture,d=l.sampler;d&&(i.push({binding:u,resource:d}),u++),i.push({binding:u,resource:f.createView()})}}}),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),Y.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)}),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=U()(z.a.mark(function e(t,n,r){var i,o,a;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:f.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:f.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Y.FrontFace.CCW,cullMode:Y.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=function(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++)t+=a[o].length;for(var s=new e(t),u=0,c=0,l=r;c<l.length;c++){var f=l[c];s.set(f,u),u+=f.length}return s}.apply(void 0,[Float32Array].concat(ht()(Object.keys(e).map(function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]})))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:Y.ShaderStage.Fragment|Y.ShaderStage.Vertex,type:Y.BindingType.UniformBuffer})),Object.keys(e).filter(function(t){return null===e[t]}).forEach(function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:Y.ShaderStage.Fragment,type:Y.BindingType.Sampler},{binding:2*n+(o?1:0)+1,visibility:Y.ShaderStage.Fragment,type:Y.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new Ft(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:Y.BufferUsage.Uniform|Y.BufferUsage.CopyDst}))}}]),e}(),dn=function(){function e(t,n){a()(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return u()(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&f.gl.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?f.gl.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?f.gl.CLAMP_TO_EDGE:a,u=e.wrapT,c=void 0===u?f.gl.CLAMP_TO_EDGE:u,l=e.aniso,d=void 0===l?0:l,h=(e.alignment,e.premultiplyAlpha,e.mag),p=void 0===h?f.gl.NEAREST:h,g=e.min,v=void 0===g?f.gl.NEAREST:g,m=e.colorSpace,y=(void 0===m&&f.gl.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:Y.TextureDimension.E2d,format:en[o],usage:y||Y.TextureUsage.Sampled|Y.TextureUsage.CopyDst}),(!y||y&Y.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:nn[s],addressModeV:nn[c],addressModeW:nn[s],magFilter:tn[p],minFilter:tn[v],maxAnisotropy:d}))}}]),e}(),hn=Object(h.injectable)()(cn=function(){function e(){var t=this;a()(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||Y.LoadOp.Load,t.mainDepthAttachment.depthLoadValue=r||Y.LoadOp.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:Y.LoadOp.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=U()(z.a.mark(function e(n){var r;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new fn(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Bt(t,e)},this.createBuffer=function(e){return new Ft(t,e)},this.createElements=function(e){return new qt(t,e)},this.createTexture2D=function(e){return new dn(t,e)},this.createFramebuffer=function(e){return new Kt(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:Y.TextureViewDimension.E2d,arrayLayerCount:1,aspect:Y.TextureAspect.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=U()(z.a.mark(function e(n){var r;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Ht(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return u()(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=U()(z.a.mark(function e(t){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(e){return e.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),f.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(e){return e})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(e){return e}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=U()(z.a.mark(function e(){var t,n;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t?void 0:null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(f.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Y.TextureUsage.OutputAttachment|Y.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Y.TextureDimension.E2d,format:Y.TextureFormat.BGRA8Unorm,usage:Y.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:f.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Y.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:f.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Y.StoreOp.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Y.TextureDimension.E2d,format:f.isSafari?"depth32float-stencil8":Y.TextureFormat.Depth24PlusStencil8,usage:Y.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:f.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Y.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Y.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=f.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=f.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,c=null===(i=e.get().depth)||void 0===i?void 0:i.texture;c&&(u=c.createView());var l=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:Y.LoadOp.Load,storeOp:Y.StoreOp.Store}],depthStencilAttachment:c&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:Y.LoadOp.Load,depthStoreOp:Y.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:Y.LoadOp.Load,stencilStoreOp:Y.StoreOp.Store}:void 0});this.currentRenderPass=l,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}())||cn,pn=n(70),gn=n.n(pn),vn=n(29),mn=n.n(vn),yn=n(30),bn=n.n(yn),xn=n(22),_n=n.n(xn);function wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var En,Sn=Object(h.injectable)()(ln=function(e){mn()(n,e);var t=wn(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?d.vec3.fromValues(.5,.5,.5):s,c=n,l=i,h=a,p=gn()(u,3),g=p[0],v=p[1],m=p[2],y=[d.vec3.fromValues(-g,-v,m),d.vec3.fromValues(g,-v,m),d.vec3.fromValues(g,v,m),d.vec3.fromValues(-g,v,m),d.vec3.fromValues(g,-v,-m),d.vec3.fromValues(-g,-v,-m),d.vec3.fromValues(-g,v,-m),d.vec3.fromValues(g,v,-m)],b=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],x=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],_=1,w=2,E=3,S=4,O=5,k=[],M=[],C=[],A=[],j=[],T=0,I=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=d.vec3.create(),u=d.vec3.create(),c=d.vec3.create(),l=d.vec3.create();d.vec3.lerp(s,y[b[e][0]],y[b[e][1]],o/t),d.vec3.lerp(u,y[b[e][0]],y[b[e][2]],a/n),d.vec3.sub(c,u,y[b[e][0]]),d.vec3.add(l,s,c),r=o/t,i=a/n,k.push(l[0],l[1],l[2]),M.push(x[e][0],x[e][1],x[e][2]),C.push(r,i),r=.875*(r/=3)+4/64,i=.875*(i/=3)+4/64,r+=e%3/3,i+=Math.floor(e/3)/3,A.push(r,i),o<t&&a<n&&(j.push(T+n+1,T+1,T),j.push(T+n+1,T+n+2,T+1)),T++}};I(0,c,l),I(_,c,l),I(w,c,h),I(E,c,h),I(S,h,l),I(O,h,l);var N=Object(f.generateAABBFromVertices)(k),P=this.getComponent();P.indices=Uint32Array.from(j),P.aabb=N,P.vertexCount=T,P.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(M),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(B))||ln;function On(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var kn,Mn=Object(h.injectable)()(En=function(e){mn()(n,e);var t=On(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new f.AABB;var r=[],i=[],o=0;t.forEach(function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,ht()(a.map(function(e){return e+o}))),o+=s,u.forEach(function(e,t){r[t]?e.data&&(p(e.data)?r[t].push(e.data):se(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)})}),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(B))||En;function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var An,jn=Object(h.injectable)()(kn=function(e){mn()(n,e);var t=Cn(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],c=[],l=[],d=0,h=0;h<=i;h++)for(var p=0;p<=a;p++){var g=-n[0]+2*n[0]*h/i,v=-(-n[1]+2*n[1]*p/a),m=h/i,y=p/a;s.push(g,0,v),u.push(0,1,0),c.push(m,y),h<i&&p<a&&(l.push(d+a+1,d+1,d),l.push(d+a+1,d+a+2,d+1)),d++}var b=Object(f.generateAABBFromVertices)(s),x=this.getComponent();x.indices=Uint32Array.from(l),x.aabb=b,x.vertexCount=d,x.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(B))||kn;function Tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var In,Nn,Pn,Dn,Ln,Rn,Bn,Fn=Object(h.injectable)()(An=function(e){mn()(n,e);var t=Tn(n);function n(){return a()(this,n),t.apply(this,arguments)}return u()(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],c=[],l=[],d=0;d<=i;d++)for(var h=d*Math.PI/i,p=Math.sin(h),g=Math.cos(h),v=0;v<=a;v++){var m=2*v*Math.PI/a-Math.PI/2,y=Math.sin(m),b=Math.cos(m)*p,x=g,_=y*p,w=1-v/a,E=1-d/i;s.push(b*n,x*n,_*n),u.push(b,x,_),c.push(w,E)}for(var S=0;S<i;++S)for(var O=0;O<a;++O){var k=S*(a+1)+O,M=k+a+1;l.push(k+1,M,k),l.push(k+1,M+1,M)}var C=Object(f.generateAABBFromVertices)(s),A=this.getComponent();A.indices=Uint32Array.from(l),A.aabb=C,A.vertexCount=s.length/3,A.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(B))||An,zn=n(28),Gn=n.n(zn);function Un(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var Vn,Wn,Yn,Xn,Hn,qn,Kn,Zn,Qn,$n,Jn,er=(In=Object(h.injectable)(),Nn=Object(h.inject)(f.IDENTIFIER.RenderEngine),Pn=Object(h.inject)(f.IDENTIFIER.ShaderModuleService),In((Ln=function(e){mn()(n,e);var t=Un(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),i()(e,"engine",Rn,Gn()(e)),i()(e,"shaderModuleService",Bn,Gn()(e)),e}return u()(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:d.mat3.create()}))}}]),n}(Xe),Rn=l()(Ln.prototype,"engine",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=l()(Ln.prototype,"shaderModuleService",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=Ln))||Dn);function tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var nr=(Vn=Object(h.injectable)(),Wn=Object(h.inject)(f.IDENTIFIER.Systems),Yn=Object(h.named)(f.IDENTIFIER.MaterialSystem),Xn=Object(h.inject)(f.IDENTIFIER.Systems),Hn=Object(h.named)(f.IDENTIFIER.GeometrySystem),qn=Object(h.inject)(f.IDENTIFIER.ShaderModuleService),Vn((Zn=function(e){mn()(n,e);var t=tr(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),i()(e,"materialSystem",Qn,Gn()(e)),i()(e,"geometrySystem",$n,Gn()(e)),i()(e,"shaderModuleService",Jn,Gn()(e)),e}return u()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:f.gl.BACK}).setDepth({enable:!0,func:f.gl.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(He),Qn=l()(Zn.prototype,"materialSystem",[Wn,Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=l()(Zn.prototype,"geometrySystem",[Xn,Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=l()(Zn.prototype,"shaderModuleService",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=Zn))||Kn),rr=n(89),ir=n(71);function or(e,t,n,r,i){ar(t,r,-i),ar(t,r,i),e.push(n),e.push(n)}function ar(e,t,n){e.push([[t[0],t[1]],n])}var sr,ur,cr,lr,fr,dr,hr,pr,gr,vr,mr;function yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var br,xr,_r,wr,Er,Sr,Or,kr,Mr,Cr,Ar,jr=(sr=Object(h.injectable)(),ur=Object(h.inject)(f.IDENTIFIER.Systems),cr=Object(h.named)(f.IDENTIFIER.MaterialSystem),lr=Object(h.inject)(f.IDENTIFIER.Systems),fr=Object(h.named)(f.IDENTIFIER.GeometrySystem),dr=Object(h.inject)(f.IDENTIFIER.ShaderModuleService),sr((pr=function(e){mn()(n,e);var t=yr(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),i()(e,"materialSystem",gr,Gn()(e)),i()(e,"geometrySystem",vr,Gn()(e)),i()(e,"shaderModuleService",mr,Gn()(e)),e.vertexCount=void 0,e}return u()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map(function(){return n}).reduce(function(e,t){return[].concat(ht()(e),ht()(t))},[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,c=null,l=Object(rr.create)(),f=n||0,d=[],h=[],p=[],g=[0,0];t&&(e=e.slice()).push(e[0]);for(var v=e.length,m=1;m<v;m++){var y=f,b=e[m-1],x=e[m],_=m<e.length-1?e[m+1]:null;if(g.push(m/v,m/v),Object(ir.direction)(r,x,b),c||(c=[0,0],Object(ir.normal)(c,r)),u||(u=!0,or(h,d,b,c,1)),p.push([y+0,y+1,y+2]),_){Object(ir.direction)(i,_,x);var w=Object(ir.computeMiter)(o,a,r,i,1),E=Object(rr.dot)(o,c)<0?-1:1,S=w>3;if(!isFinite(w)){Object(ir.normal)(c,r),or(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2,s=E;continue}S?(w=3,g.push(m/v),ar(d,c,-E),h.push(x),ar(d,a,w*E),h.push(x),p.push(s!==-E?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),Object(ir.normal)(l,i),Object(rr.copy)(c,l),ar(d,c,-E),h.push(x),f+=3):(or(h,d,x,a,w),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),E=-1,Object(rr.copy)(c,a),f+=2),s=E}else Object(ir.normal)(c,r),or(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2}return{normals:d,attrIndex:p,attrPos:h,attrCounters:g}}(this.config.points,!1),s=a.normals,u=a.attrIndex,c=a.attrPos,l=a.attrCounters,d=c.length;this.vertexCount=d;var h=this.geometrySystem.createBufferGeometry({vertexCount:d});this.setMaterial(o),this.setGeometry(h),o.setCull({enable:!1,face:f.gl.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var p=[],g=[];s.forEach(function(e){var t=e[0],n=e[1];p.push([t[0],t[1]]),g.push(n)}),h.setIndex(u.reduce(function(e,t){return[].concat(ht()(e),ht()(t))},[])),h.setAttribute("a_pos",Float32Array.from(c.reduce(function(e,t){return[].concat(ht()(e),ht()(t))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var v=new Array(d).fill(void 0).map(function(){return ht()(e.config.color)}).reduce(function(e,t){return[].concat(ht()(e),ht()(t))},[]);h.setAttribute("a_color",Float32Array.from(v),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),h.setAttribute("a_line_miter",Float32Array.from(g),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),h.setAttribute("a_line_normal",Float32Array.from(p.reduce(function(e,t){return[].concat(ht()(e),ht()(t))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),h.setAttribute("a_counters",Float32Array.from(l),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(He),gr=l()(pr.prototype,"materialSystem",[ur,cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=l()(pr.prototype,"geometrySystem",[lr,fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=l()(pr.prototype,"shaderModuleService",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=pr))||hr);function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_n()(e);if(t){var i=_n()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bn()(this,n)}}var Nr,Pr,Dr,Lr,Rr,Br,Fr,zr,Gr,Ur=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Vr=(br=Object(h.injectable)(),xr=Object(h.inject)(f.IDENTIFIER.Systems),_r=Object(h.named)(f.IDENTIFIER.MaterialSystem),wr=Object(h.inject)(f.IDENTIFIER.Systems),Er=Object(h.named)(f.IDENTIFIER.GeometrySystem),Sr=Object(h.inject)(f.IDENTIFIER.ShaderModuleService),br((kr=function(e){mn()(n,e);var t=Ir(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),i()(e,"materialSystem",Mr,Gn()(e)),i()(e,"geometrySystem",Cr,Gn()(e)),i()(e,"shaderModuleService",Ar,Gn()(e)),e}return u()(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:f.gl.SRC_ALPHA,dstRGB:f.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,ht()([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(Ur.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,ht()(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,ht()(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,ht()(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(n,r){e.buildAttribute(n,t,r)}):this.buildAttribute(this.config,t,0),t}}]),n}(He),Mr=l()(kr.prototype,"materialSystem",[xr,_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=l()(kr.prototype,"geometrySystem",[wr,Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=l()(kr.prototype,"shaderModuleService",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=kr))||Or);function Wr(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr,Hr,qr,Kr,Zr,Qr,$r,Jr,ei,ti=(Nr=Object(h.injectable)(),Pr=Object(h.inject)(f.IDENTIFIER.RenderEngine),Dr=Object(h.inject)(f.IDENTIFIER.ShaderModuleService),Lr=Object(h.inject)(f.IDENTIFIER.ConfigService),Nr((Br=function(){function e(){a()(this,e),this.container=void 0,i()(this,"engine",Fr,this),i()(this,"shaderModule",zr,this),i()(this,"configService",Gr,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return u()(e,[{key:"init",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(f.IDENTIFIER.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:Y.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:r=Wr(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}},e,this,[[12,23,26,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i,o,a,s,u=arguments;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(e){e()}),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(f.IDENTIFIER.Systems),n=u.length,r=new Array(n),i=0;i<n;i++)r[i]=u[i];o=Wr(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}},e,this,[[8,19,22,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift(function(){t.engine.clear(e),t.pendings.shift()}),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Fr=l()(Br.prototype,"engine",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=l()(Br.prototype,"shaderModule",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=l()(Br.prototype,"configService",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=Br))||Rr),ni=Object(h.injectable)()(Xr=function(){function e(){a()(this,e),this.entities=[]}return u()(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}())||Xr,ri=Object(h.injectable)()(Hr=function(){function e(){a()(this,e),this.cache={}}return u()(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}())||Hr;function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ai,si,ui,ci,li,fi,di,hi,pi,gi,vi,mi=(qr=Object(h.injectable)(),Kr=Object(h.inject)(ri),Zr=Object(h.inject)(f.IDENTIFIER.RenderEngine),qr(($r=function(){function e(){a()(this,e),i()(this,"textureCache",Jr,this),i()(this,"engine",ei,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return u()(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=U()(z.a.mark(function e(){var t=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise(function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(oi(oi({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Jr=l()($r.prototype,"textureCache",[Kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=l()($r.prototype,"engine",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qr=$r))||Qr),yi=(ai=Object(h.injectable)(),si=Object(h.inject)(f.IDENTIFIER.Systems),ui=Object(h.named)(f.IDENTIFIER.RendererSystem),ai((li=function(){function e(){a()(this,e),i()(this,"rendererSystem",fi,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return u()(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),fi=l()(li.prototype,"rendererSystem",[si,ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=li))||ci);function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(t){W()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _i=(di=Object(h.injectable)(),hi=Object(h.inject)(f.IDENTIFIER.ConfigService),di((gi=function(){function e(){a()(this,e),i()(this,"configService",vi,this),this.container=void 0}return u()(e,[{key:"getEngine",value:function(){var e=U()(z.a.mark(function e(){var t,n,r,i;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(f.IDENTIFIER.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(xi({canvas:r||X(),swapChainFormat:Y.TextureFormat.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(f.IDENTIFIER.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(f.IDENTIFIER.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(f.createEntity)()}},{key:"createScene",value:function(){return this.container.get(ni)}},{key:"createCamera",value:function(){return this.container.get(R)}},{key:"createView",value:function(){return this.container.get(yi)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(f.IDENTIFIER.Renderable,e):this.container.get(He),r=Object(f.createEntity)();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(f.IDENTIFIER.Geometry,e),r=Object(f.createEntity)();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(f.IDENTIFIER.Material,e),r=Object(f.createEntity)();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(mi);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(f.IDENTIFIER.Systems,f.IDENTIFIER.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(f.IDENTIFIER.Systems,f.IDENTIFIER.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(f.IDENTIFIER.Systems,f.IDENTIFIER.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(Ye);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(ti);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(f.IDENTIFIER.Systems).forEach(function(e){e.tearDown&&e.tearDown()}),this.container.get(f.IDENTIFIER.RenderEngine).destroy(),this.container.get(f.IDENTIFIER.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(f.createWorldContainer)(),r=navigator.gpu?hn:Nt;n.isBound(f.IDENTIFIER.RenderEngine)||n.bind(f.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),n.bind(ti).toSelf(),n.bind(Ye).toSelf(),n.bind(He).toSelf(),n.bind(yi).toSelf(),n.bind(R).toSelf(),n.bind(ni).toSelf(),n.bind(e).toSelf(),n.bind(ri).toSelf(),n.bind(mi).toSelf(),n.bind(f.IDENTIFIER.Geometry).to(Sn).whenTargetNamed(B.BOX),n.bind(f.IDENTIFIER.Geometry).to(Fn).whenTargetNamed(B.SPHERE),n.bind(f.IDENTIFIER.Geometry).to(jn).whenTargetNamed(B.PLANE),n.bind(f.IDENTIFIER.Geometry).to(Mn).whenTargetNamed(B.MERGED),n.bind(f.IDENTIFIER.Material).to(er).whenTargetNamed(Xe.BASIC),n.bind(f.IDENTIFIER.Renderable).to(Vr).whenTargetNamed(He.POINT),n.bind(f.IDENTIFIER.Renderable).to(jr).whenTargetNamed(He.LINE),n.bind(f.IDENTIFIER.Renderable).to(nr).whenTargetNamed(He.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),vi=l()(gi.prototype,"configService",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=gi))||pi);n.d(t,"World",function(){return _i}),n.d(t,"Kernel",function(){return Ye}),n.d(t,"Camera",function(){return R}),n.d(t,"Renderable",function(){return He}),n.d(t,"Geometry",function(){return B}),n.d(t,"Material",function(){return Xe})},function(e,t,n){"use strict";n.r(t);var r=n(31),i=n(32),o=n(33),a=n(17),s=n(25),u=Object.prototype.toString;function c(e){return u.call(e).endsWith("Array]")}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!c(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}(e),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var l=(u-a)/(i-r),f=0;f<e.length;f++)t[f]=(e[f]-r)*l+a;return t}var f=" ".repeat(2),d=" ".repeat(4);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(f,"[\n").concat(d).concat(function(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],c=0;c<a;c++){for(var l=[],f=0;f<s;f++)l.push(p(e.get(c,f),r));u.push("".concat(l.join(" ")))}s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns"));a!==i&&u.push("... ".concat(i-t," more rows"));return u.join("\n".concat(d))}(e,r,o,s),"\n").concat(f,"]\n").concat(f,"rows: ").concat(e.rows,"\n").concat(f,"columns: ").concat(e.columns,"\n}")}function p(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function g(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function v(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function m(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function y(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function b(e,t){if(!c(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function x(e,t){if(!c(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function _(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(E("startRow",t),E("endRow",n),E("startColumn",r),E("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function w(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function E(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function S(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}var O=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,[{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var c=n+1;c<e.columns;c++)e.set(s,c,e.get(s,c)-e.get(t,c)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var c=e.get(a,u)-s*e.get(r,u);e.set(a,u,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new A(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){g(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return A.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){g(this,e),t=m(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){g(this,e),g(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){v(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return A.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){v(this,e),t=y(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){v(this,e),v(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=m(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=m(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=m(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=m(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=y(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=y(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=y(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=y(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){g(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){v(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t[n]&&(t[n]=this.get(n,r));return t;case"column":for(var i=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),o=0;o<this.rows;o++)for(var a=0;a<this.columns;a++)this.get(o,a)>i[a]&&(i[a]=this.get(o,a));return i;case void 0:for(var s=this.get(0,0),u=0;u<this.rows;u++)for(var c=0;c<this.columns;c++)this.get(u,c)>s&&(s=this.get(u,c));return s;default:throw new Error("invalid option: ".concat(e))}}},{key:"maxIndex",value:function(){S(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t[n]&&(t[n]=this.get(n,r));return t;case"column":for(var i=new Array(this.columns).fill(Number.POSITIVE_INFINITY),o=0;o<this.rows;o++)for(var a=0;a<this.columns;a++)this.get(o,a)<i[a]&&(i[a]=this.get(o,a));return i;case void 0:for(var s=this.get(0,0),u=0;u<this.rows;u++)for(var c=0;c<this.columns;c++)this.get(u,c)<s&&(s=this.get(u,c));return s;default:throw new Error("invalid option: ".concat(e))}}},{key:"minIndex",value:function(){S(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(g(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){g(this,e),S(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(g(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){g(this,e),S(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(v(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){v(this,e),S(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(v(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){v(this,e),S(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=A.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new A(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var c=0,l=0;l<n;l++)c+=this.get(u,l)*o[l];i.set(u,a,c)}}return i}},{key:"strassen2x2",value:function(e){e=A.checkMatrix(e);var t=new A(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),c=e.get(1,1),l=(n+u)*(r+c),f=(a+u)*r,d=n*(o-c),h=u*(s-r),p=(n+i)*c,g=l+h-p+(i-u)*(s+c),v=d+p,m=f+h,y=l-f+d+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=A.checkMatrix(e);var t=new A(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-o)*(-d+g),_=(-n+o+a)*(f-d+g),w=(o+a)*(-f+d),E=n*f,S=(-n+u+c)*(f-h+v),O=(-n+u)*(h-v),k=(u+c)*(-f+h),M=(-i+c+l)*(g+m-y),C=(i-l)*(g-y),j=i*m,T=(c+l)*(-m+y),I=(-i+a+s)*(v+m-b),N=(i-s)*(v-b),P=(a+s)*(-m+b),D=E+j+r*p,L=(n+r+i-o-a-c-l)*g+_+w+E+M+j+T,R=E+S+k+(n+r+i-a-s-u-c)*v+j+I+P,B=x+a*(-f+d+p-g-v-m+b)+_+E+j+I+N,F=x+_+w+E+s*y,z=j+I+N+P+o*h,G=E+S+O+c*(-f+h+p-g-v-m+y)+M+C+j,U=M+C+j+T+u*d,V=E+S+O+k+l*b;return t.set(0,0,D),t.set(0,1,L),t.set(0,2,R),t.set(1,0,B),t.set(1,1,F),t.set(1,2,z),t.set(2,0,G),t.set(2,1,U),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=A.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,o),c=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,u-1),l=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),g=n.subMatrix(a,n.rows-1,u,n.columns-1),v=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(c,g),e.add(l,v),a,u),y=t(e.add(h,g),l,a,u),b=t(c,e.sub(d,v),a,u),x=t(g,e.sub(p,l),a,u),_=t(e.add(c,f),v,a,u),w=t(e.sub(h,c),e.add(l,d),a,u),E=t(e.sub(f,g),e.add(p,v),a,u),S=e.add(m,x);S.sub(_),S.add(E);var O=e.add(b,_),k=e.add(y,x),M=e.sub(m,y);M.add(b),M.add(w);var C=e.zeros(2*S.rows,2*S.columns);return(C=(C=(C=(C=C.setSubMatrix(S,0,0)).setSubMatrix(O,S.rows,0)).setSubMatrix(k,0,S.columns)).setSubMatrix(M,S.rows,S.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,c),t=s(t,u,c),u,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new A(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&l(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new A(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&l(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=A.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new A(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<i;c++)o.set(r*a+u,i*s+c,this.get(a,s)*e.get(u,c));return o}},{key:"kroneckerSum",value:function(e){if(e=A.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(A.eye(n,n)),i=A.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new A(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){_(this,e,t,n,r);for(var i=new A(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new A(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new A(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=A.checkMatrix(e)).isEmpty())return this;_(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){b(this,e),x(this,t);for(var n=new A(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new A(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=w(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=w(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=w(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=w(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!c(a))throw new TypeError("mean must be an array");return function(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,c=0,l=0;l<i;l++)s+=c=e.get(a,l)-n[a],u+=c*c;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}(this,i,a);case"column":if(!c(a))throw new TypeError("mean must be an array");return function(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,c=0,l=0;l<r;l++)s+=c=e.get(l,a)-n[a],u+=c*c;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return function(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,c=0;c<r;c++)for(var l=0;l<i;l++)a+=u=e.get(c,l)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.center,r=void 0===n?this.mean(e):n;switch(e){case"row":if(!c(r))throw new TypeError("center must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}(this,r),this;case"column":if(!c(r))throw new TypeError("center must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}(this,r),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=function(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}(this);else if(!c(n))throw new TypeError("scale must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}(this,n),this;case"column":if(void 0===n)n=function(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}(this);else if(!c(n))throw new TypeError("scale must be an array");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}(this,n),this;case void 0:if(void 0===n)n=function(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return function(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return h(this,e)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new A(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new A(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new A(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new A(e,t)}},{key:"ones",value:function(e,t){return new A(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new A(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var c=a-i,l=new A(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=i+Math.round(u()*c);l.set(f,d,h)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new A(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new A(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function k(e,t){return e-t}O.prototype.klass="Matrix","undefined"!==typeof Symbol&&(O.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return h(this)}),O.random=O.rand,O.randomInt=O.randInt,O.diagonal=O.diag,O.prototype.diagonal=O.prototype.diag,O.identity=O.eye,O.prototype.negate=O.prototype.neg,O.prototype.tensorProduct=O.prototype.kroneckerProduct;var M,C,A=function(e){function t(e,n){var o;if(Object(a.a)(this,t),o=Object(r.a)(this,Object(i.a)(t).call(this)),t.isMatrix(e))return Object(r.a)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(n)&&n>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)o.data.push(new Float64Array(n))}else{if(!c(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(n=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var l=0;l<e;l++){if(u[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!u[l].every(function(e){return"number"===typeof e}))throw new TypeError("Input data contains non-numeric values");o.data.push(Float64Array.from(u[l]))}}return o.rows=e,o.columns=n,o}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return g(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),g(this,e,!0),t=Float64Array.from(m(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){v(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),v(this,e,!0),t=y(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),t}(O);C=A,(M=O).prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},M.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},M.prototype.addM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e.get(t,n));return this},M.add=function(e,t){return new C(e).add(t)},M.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},M.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},M.prototype.subM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e.get(t,n));return this},M.sub=function(e,t){return new C(e).sub(t)},M.prototype.subtract=M.prototype.sub,M.prototype.subtractS=M.prototype.subS,M.prototype.subtractM=M.prototype.subM,M.subtract=M.sub,M.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},M.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},M.prototype.mulM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e.get(t,n));return this},M.mul=function(e,t){return new C(e).mul(t)},M.prototype.multiply=M.prototype.mul,M.prototype.multiplyS=M.prototype.mulS,M.prototype.multiplyM=M.prototype.mulM,M.multiply=M.mul,M.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},M.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},M.prototype.divM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e.get(t,n));return this},M.div=function(e,t){return new C(e).div(t)},M.prototype.divide=M.prototype.div,M.prototype.divideS=M.prototype.divS,M.prototype.divideM=M.prototype.divM,M.divide=M.div,M.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},M.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},M.prototype.modM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e.get(t,n));return this},M.mod=function(e,t){return new C(e).mod(t)},M.prototype.modulus=M.prototype.mod,M.prototype.modulusS=M.prototype.modS,M.prototype.modulusM=M.prototype.modM,M.modulus=M.mod,M.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},M.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},M.prototype.andM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e.get(t,n));return this},M.and=function(e,t){return new C(e).and(t)},M.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},M.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},M.prototype.orM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e.get(t,n));return this},M.or=function(e,t){return new C(e).or(t)},M.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},M.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},M.prototype.xorM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e.get(t,n));return this},M.xor=function(e,t){return new C(e).xor(t)},M.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},M.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},M.prototype.leftShiftM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e.get(t,n));return this},M.leftShift=function(e,t){return new C(e).leftShift(t)},M.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},M.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},M.prototype.signPropagatingRightShiftM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e.get(t,n));return this},M.signPropagatingRightShift=function(e,t){return new C(e).signPropagatingRightShift(t)},M.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},M.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},M.prototype.rightShiftM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e.get(t,n));return this},M.rightShift=function(e,t){return new C(e).rightShift(t)},M.prototype.zeroFillRightShift=M.prototype.rightShift,M.prototype.zeroFillRightShiftS=M.prototype.rightShiftS,M.prototype.zeroFillRightShiftM=M.prototype.rightShiftM,M.zeroFillRightShift=M.rightShift,M.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},M.not=function(e){return new C(e).not()},M.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},M.abs=function(e){return new C(e).abs()},M.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},M.acos=function(e){return new C(e).acos()},M.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},M.acosh=function(e){return new C(e).acosh()},M.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},M.asin=function(e){return new C(e).asin()},M.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},M.asinh=function(e){return new C(e).asinh()},M.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},M.atan=function(e){return new C(e).atan()},M.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},M.atanh=function(e){return new C(e).atanh()},M.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},M.cbrt=function(e){return new C(e).cbrt()},M.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},M.ceil=function(e){return new C(e).ceil()},M.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},M.clz32=function(e){return new C(e).clz32()},M.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},M.cos=function(e){return new C(e).cos()},M.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},M.cosh=function(e){return new C(e).cosh()},M.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},M.exp=function(e){return new C(e).exp()},M.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},M.expm1=function(e){return new C(e).expm1()},M.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},M.floor=function(e){return new C(e).floor()},M.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},M.fround=function(e){return new C(e).fround()},M.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},M.log=function(e){return new C(e).log()},M.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},M.log1p=function(e){return new C(e).log1p()},M.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},M.log10=function(e){return new C(e).log10()},M.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},M.log2=function(e){return new C(e).log2()},M.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},M.round=function(e){return new C(e).round()},M.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},M.sign=function(e){return new C(e).sign()},M.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},M.sin=function(e){return new C(e).sin()},M.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},M.sinh=function(e){return new C(e).sinh()},M.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},M.sqrt=function(e){return new C(e).sqrt()},M.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},M.tan=function(e){return new C(e).tan()},M.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},M.tanh=function(e){return new C(e).tanh()},M.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},M.trunc=function(e){return new C(e).trunc()},M.pow=function(e,t){return new C(e).pow(t)},M.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},M.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},M.prototype.powM=function(e){if(e=C.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e.get(t,n)));return this};var j=function(e){function t(e,n,o){var s;return Object(a.a)(this,t),(s=Object(r.a)(this,Object(i.a)(t).call(this))).matrix=e,s.rows=n,s.columns=o,s}return Object(o.a)(t,e),t}(O),T=function(e){function t(e,n){var o;return Object(a.a)(this,t),v(e,n),(o=Object(r.a)(this,Object(i.a)(t).call(this,e,e.rows,1))).column=n,o}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),t}(j),I=function(e){function t(e,n){var o;return Object(a.a)(this,t),x(e,n),(o=Object(r.a)(this,Object(i.a)(t).call(this,e,e.rows,n.length))).columnIndices=n,o}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),t}(j),N=function(e){function t(e){return Object(a.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e,e.rows,e.columns))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),t}(j),P=function(e){function t(e){return Object(a.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e,e.rows,e.columns))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),t}(j),D=function(e){function t(e,n){var o;return Object(a.a)(this,t),g(e,n),(o=Object(r.a)(this,Object(i.a)(t).call(this,e,1,e.columns))).row=n,o}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),t}(j),L=function(e){function t(e,n){var o;return Object(a.a)(this,t),b(e,n),(o=Object(r.a)(this,Object(i.a)(t).call(this,e,n.length,e.columns))).rowIndices=n,o}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),t}(j),R=function(e){function t(e,n,o){var s;return Object(a.a)(this,t),b(e,n),x(e,o),(s=Object(r.a)(this,Object(i.a)(t).call(this,e,n.length,o.length))).rowIndices=n,s.columnIndices=o,s}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),t}(j),B=function(e){function t(e,n,o,s,u){var c;return Object(a.a)(this,t),_(e,n,o,s,u),(c=Object(r.a)(this,Object(i.a)(t).call(this,e,o-n+1,u-s+1))).startRow=n,c.startColumn=s,c}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),t}(j),F=function(e){function t(e){return Object(a.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e,e.columns,e.rows))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),t}(j),z=function(e){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t);var s=o.rows,u=void 0===s?1:s;if(e.length%u!==0)throw new Error("the data length is not divisible by the number of rows");return(n=Object(r.a)(this,Object(i.a)(t).call(this))).rows=u,n.columns=e.length/u,n.data=e,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),t}(O),G=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this))).data=e,n.rows=e.length,n.columns=e[0].length,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),t}(O);function U(e,t){if(c(e))return e[0]&&c(e[0])?new G(e):new z(e,t);throw new Error("the argument is not an array")}var V=function(){function e(t){Object(a.a)(this,e);var n,r,i,o,s,u,c,l,f,d=(t=G.checkMatrix(t)).clone(),h=d.rows,p=d.columns,g=new Float64Array(h),v=1;for(n=0;n<h;n++)g[n]=n;for(l=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)l[n]=d.get(n,r);for(n=0;n<h;n++){for(f=Math.min(n,r),s=0,i=0;i<f;i++)s+=d.get(n,i)*l[i];l[n]-=s,d.set(n,r,l[n])}for(o=r,n=r+1;n<h;n++)Math.abs(l[n])>Math.abs(l[o])&&(o=n);if(o!==r){for(i=0;i<p;i++)u=d.get(o,i),d.set(o,i,d.get(r,i)),d.set(r,i,u);c=g[o],g[o]=g[r],g[r]=c,v=-v}if(r<h&&0!==d.get(r,r))for(n=r+1;n<h;n++)d.set(n,r,d.get(n,r)/d.get(r,r))}this.LU=d,this.pivotVector=g,this.pivotSign=v}return Object(s.a)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=A.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new A(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i>o?r.set(i,o,e.get(i,o)):i===o?r.set(i,o,1):r.set(i,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new A(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i<=o?r.set(i,o,e.get(i,o)):r.set(i,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function W(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var Y=function(){function e(t){Object(a.a)(this,e);var n,r,i,o,s=(t=G.checkMatrix(t)).clone(),u=t.rows,c=t.columns,l=new Float64Array(c);for(i=0;i<c;i++){var f=0;for(n=i;n<u;n++)f=W(f,s.get(n,i));if(0!==f){for(s.get(i,i)<0&&(f=-f),n=i;n<u;n++)s.set(n,i,s.get(n,i)/f);for(s.set(i,i,s.get(i,i)+1),r=i+1;r<c;r++){for(o=0,n=i;n<u;n++)o+=s.get(n,i)*s.get(n,r);for(o=-o/s.get(i,i),n=i;n<u;n++)s.set(n,r,s.get(n,r)+o*s.get(n,i))}}l[i]=-f}this.QR=s,this.Rdiag=l}return Object(s.a)(e,[{key:"solve",value:function(e){e=A.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,i,o,a,s=e.columns,u=e.clone(),c=t.columns;for(o=0;o<c;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*u.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*t.get(r,o))}for(o=c-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*t.get(r,o))}return u.subMatrix(0,c-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,i=new A(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new A(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}]),e}(),X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(a.a)(this,e),(t=G.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,i=t.rows,o=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,c=n.computeRightSingularVectors,l=void 0===c||c,f=n.autoTranspose,d=void 0!==f&&f,h=Boolean(u),p=Boolean(l),g=!1;if(i<o)if(d){i=(r=t.transpose()).rows,o=r.columns,g=!0;var v=h;h=p,p=v}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(i,o),y=Math.min(i+1,o),b=new Float64Array(y),x=new A(i,m),_=new A(o,o),w=new Float64Array(o),E=new Float64Array(i),S=new Float64Array(y),O=0;O<y;O++)S[O]=O;for(var k=Math.min(i-1,o),M=Math.max(0,Math.min(o-2,i)),C=Math.max(k,M),j=0;j<C;j++){if(j<k){b[j]=0;for(var T=j;T<i;T++)b[j]=W(b[j],r.get(T,j));if(0!==b[j]){r.get(j,j)<0&&(b[j]=-b[j]);for(var I=j;I<i;I++)r.set(I,j,r.get(I,j)/b[j]);r.set(j,j,r.get(j,j)+1)}b[j]=-b[j]}for(var N=j+1;N<o;N++){if(j<k&&0!==b[j]){for(var P=0,D=j;D<i;D++)P+=r.get(D,j)*r.get(D,N);P=-P/r.get(j,j);for(var L=j;L<i;L++)r.set(L,N,r.get(L,N)+P*r.get(L,j))}w[N]=r.get(j,N)}if(h&&j<k)for(var R=j;R<i;R++)x.set(R,j,r.get(R,j));if(j<M){w[j]=0;for(var B=j+1;B<o;B++)w[j]=W(w[j],w[B]);if(0!==w[j]){w[j+1]<0&&(w[j]=0-w[j]);for(var F=j+1;F<o;F++)w[F]/=w[j];w[j+1]+=1}if(w[j]=-w[j],j+1<i&&0!==w[j]){for(var z=j+1;z<i;z++)E[z]=0;for(var U=j+1;U<i;U++)for(var V=j+1;V<o;V++)E[U]+=w[V]*r.get(U,V);for(var Y=j+1;Y<o;Y++)for(var X=-w[Y]/w[j+1],H=j+1;H<i;H++)r.set(H,Y,r.get(H,Y)+X*E[H])}if(p)for(var q=j+1;q<o;q++)_.set(q,j,w[q])}}var K=Math.min(o,i+1);if(k<o&&(b[k]=r.get(k,k)),i<K&&(b[K-1]=0),M+1<K&&(w[M]=r.get(M,K-1)),w[K-1]=0,h){for(var Z=k;Z<m;Z++){for(var Q=0;Q<i;Q++)x.set(Q,Z,0);x.set(Z,Z,1)}for(var $=k-1;$>=0;$--)if(0!==b[$]){for(var J=$+1;J<m;J++){for(var ee=0,te=$;te<i;te++)ee+=x.get(te,$)*x.get(te,J);ee=-ee/x.get($,$);for(var ne=$;ne<i;ne++)x.set(ne,J,x.get(ne,J)+ee*x.get(ne,$))}for(var re=$;re<i;re++)x.set(re,$,-x.get(re,$));x.set($,$,1+x.get($,$));for(var ie=0;ie<$-1;ie++)x.set(ie,$,0)}else{for(var oe=0;oe<i;oe++)x.set(oe,$,0);x.set($,$,1)}}if(p)for(var ae=o-1;ae>=0;ae--){if(ae<M&&0!==w[ae])for(var se=ae+1;se<o;se++){for(var ue=0,ce=ae+1;ce<o;ce++)ue+=_.get(ce,ae)*_.get(ce,se);ue=-ue/_.get(ae+1,ae);for(var le=ae+1;le<o;le++)_.set(le,se,_.get(le,se)+ue*_.get(le,ae))}for(var fe=0;fe<o;fe++)_.set(fe,ae,0);_.set(ae,ae,1)}for(var de=K-1,he=Number.EPSILON;K>0;){var pe=void 0,ge=void 0;for(pe=K-2;pe>=-1&&-1!==pe;pe--){var ve=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(w[pe])<=ve||Number.isNaN(w[pe])){w[pe]=0;break}}if(pe===K-2)ge=4;else{var me=void 0;for(me=K-1;me>=pe&&me!==pe;me--){var ye=(me!==K?Math.abs(w[me]):0)+(me!==pe+1?Math.abs(w[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ge=3:me===K-1?ge=1:(ge=2,pe=me)}switch(pe++,ge){case 1:var be=w[K-2];w[K-2]=0;for(var xe=K-2;xe>=pe;xe--){var _e=W(b[xe],be),we=b[xe]/_e,Ee=be/_e;if(b[xe]=_e,xe!==pe&&(be=-Ee*w[xe-1],w[xe-1]=we*w[xe-1]),p)for(var Se=0;Se<o;Se++)_e=we*_.get(Se,xe)+Ee*_.get(Se,K-1),_.set(Se,K-1,-Ee*_.get(Se,xe)+we*_.get(Se,K-1)),_.set(Se,xe,_e)}break;case 2:var Oe=w[pe-1];w[pe-1]=0;for(var ke=pe;ke<K;ke++){var Me=W(b[ke],Oe),Ce=b[ke]/Me,Ae=Oe/Me;if(b[ke]=Me,Oe=-Ae*w[ke],w[ke]=Ce*w[ke],h)for(var je=0;je<i;je++)Me=Ce*x.get(je,ke)+Ae*x.get(je,pe-1),x.set(je,pe-1,-Ae*x.get(je,ke)+Ce*x.get(je,pe-1)),x.set(je,ke,Me)}break;case 3:var Te=Math.max(Math.abs(b[K-1]),Math.abs(b[K-2]),Math.abs(w[K-2]),Math.abs(b[pe]),Math.abs(w[pe])),Ie=b[K-1]/Te,Ne=b[K-2]/Te,Pe=w[K-2]/Te,De=b[pe]/Te,Le=w[pe]/Te,Re=((Ne+Ie)*(Ne-Ie)+Pe*Pe)/2,Be=Ie*Pe*(Ie*Pe),Fe=0;0===Re&&0===Be||(Fe=Be/(Re+(Fe=Re<0?0-Math.sqrt(Re*Re+Be):Math.sqrt(Re*Re+Be))));for(var ze=(De+Ie)*(De-Ie)+Fe,Ge=De*Le,Ue=pe;Ue<K-1;Ue++){var Ve=W(ze,Ge);0===Ve&&(Ve=Number.MIN_VALUE);var We=ze/Ve,Ye=Ge/Ve;if(Ue!==pe&&(w[Ue-1]=Ve),ze=We*b[Ue]+Ye*w[Ue],w[Ue]=We*w[Ue]-Ye*b[Ue],Ge=Ye*b[Ue+1],b[Ue+1]=We*b[Ue+1],p)for(var Xe=0;Xe<o;Xe++)Ve=We*_.get(Xe,Ue)+Ye*_.get(Xe,Ue+1),_.set(Xe,Ue+1,-Ye*_.get(Xe,Ue)+We*_.get(Xe,Ue+1)),_.set(Xe,Ue,Ve);if(0===(Ve=W(ze,Ge))&&(Ve=Number.MIN_VALUE),We=ze/Ve,Ye=Ge/Ve,b[Ue]=Ve,ze=We*w[Ue]+Ye*b[Ue+1],b[Ue+1]=-Ye*w[Ue]+We*b[Ue+1],Ge=Ye*w[Ue+1],w[Ue+1]=We*w[Ue+1],h&&Ue<i-1)for(var He=0;He<i;He++)Ve=We*x.get(He,Ue)+Ye*x.get(He,Ue+1),x.set(He,Ue+1,-Ye*x.get(He,Ue)+We*x.get(He,Ue+1)),x.set(He,Ue,Ve)}w[K-2]=ze,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var qe=0;qe<=de;qe++)_.set(qe,pe,-_.get(qe,pe));for(;pe<de&&!(b[pe]>=b[pe+1]);){var Ke=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Ke,p&&pe<o-1)for(var Ze=0;Ze<o;Ze++)Ke=_.get(Ze,pe+1),_.set(Ze,pe+1,_.get(Ze,pe)),_.set(Ze,pe,Ke);if(h&&pe<i-1)for(var Qe=0;Qe<i;Qe++)Ke=x.get(Qe,pe+1),x.set(Qe,pe+1,x.get(Qe,pe)),x.set(Qe,pe,Ke);pe++}0,K--}}if(g){var $e=_;_=x,x=$e}this.m=i,this.n=o,this.s=b,this.U=x,this.V=_}return Object(s.a)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,i=A.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),c=s.rows,l=a.rows,f=A.zeros(c,l),d=0;d<c;d++)for(var h=0;h<l;h++){for(var p=0,g=0;g<r;g++)p+=u.get(d,g)*a.get(h,g);f.set(d,h,p)}return f.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(A.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new A(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&i.set(o,a,e.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,c=s.columns,l=new A(n,u),f=0;f<n;f++)for(var d=0;d<u;d++){for(var h=0,p=0;p<c;p++)h+=i.get(f,p)*s.get(d,p);l.set(f,d,h)}return l}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return A.diag(this.s)}}]),e}();function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=G.checkMatrix(e),t?new X(e).inverse():q(e,A.eye(e.rows))}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=G.checkMatrix(e),t=G.checkMatrix(t),n?new X(e).solve(t):e.isSquare()?new V(e).solve(t):new Y(e).solve(t)}function K(e){var t,n,r,i,o,a;if((e=A.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(i=new R(e,[1,2],[1,2]),o=new R(e,[1,2],[0,2]),a=new R(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*K(i)-n*K(o)+r*K(a)):new V(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function Z(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function Q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9;if(e>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9))return new Array(t.rows+1).fill(0);for(var i=t.addRow(n,[0]),o=0;o<i.rows;o++)Math.abs(i.get(o,0))<r&&i.set(o,0,0);return i.to1DArray()}function $(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,a=(e=A.checkMatrix(e)).rows,s=new A(a,a),u=0;u<a;u++){var c=A.columnVector(e.getRow(u)),l=e.subMatrixRow(Z(a,u)).transpose(),f=new X(l).solve(c),d=A.sub(c,l.mmul(f)).abs().max();s.setRow(u,Q(d,f,u,r,o))}return s}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=A.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new X(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,a=0;a<o.length;a++)Math.abs(o[a])>t?o[a]=1/o[a]:o[a]=0;return i.mmul(A.diag(o).mmul(r.transpose()))}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new A(e);var r=!1;if("object"!==typeof t||A.isMatrix(t)||c(t)?t=new A(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n.center;(void 0===i||i)&&(e=e.center("column"),r||(t=t.center("column")));for(var o=e.transpose().mmul(t),a=0;a<o.rows;a++)for(var s=0;s<o.columns;s++)o.set(a,s,o.get(a,s)*(1/(e.rows-1)));return o}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new A(e);var r=!1;if("object"!==typeof t||A.isMatrix(t)||c(t)?t=new A(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o,s=i.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var l=e.standardDeviation("column",{unbiased:!0}),f=r?l:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(l[h]*f[p]))*(1/(e.rows-1)));return d}var ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,e);var r=n.assumeSymmetric,i=void 0!==r&&r;if(!(t=G.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var o,s,u=t.columns,c=new A(u,u),l=new Float64Array(u),f=new Float64Array(u),d=t;if(!!i||t.isSymmetric()){for(o=0;o<u;o++)for(s=0;s<u;s++)c.set(o,s,d.get(o,s));!function(e,t,n,r){var i,o,a,s,u,c,l,f;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(f=0,a=0,c=0;c<s;c++)f+=Math.abs(n[c]);if(0===f)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(c=0;c<s;c++)n[c]/=f,a+=n[c]*n[c];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=f*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=t[u]+r.get(u,u)*i,c=u+1;c<=s-1;c++)o+=r.get(c,u)*n[c],t[c]+=r.get(c,u)*i;t[u]=o}for(i=0,u=0;u<s;u++)t[u]/=a,i+=t[u]*n[u];for(l=i/(a+a),u=0;u<s;u++)t[u]-=l*n[u];for(u=0;u<s;u++){for(i=n[u],o=t[u],c=u;c<=s-1;c++)r.set(c,u,r.get(c,u)-(i*t[c]+o*n[c]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(c=0;c<=s;c++)n[c]=r.get(c,s+1)/a;for(u=0;u<=s;u++){for(o=0,c=0;c<=s;c++)o+=r.get(c,s+1)*r.get(c,u);for(c=0;c<=s;c++)r.set(c,u,r.get(c,u)-o*n[c])}}for(c=0;c<=s;c++)r.set(c,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}(u,f,l,c),function(e,t,n,r){var i,o,a,s,u,c,l,f,d,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,_=0,w=Number.EPSILON;for(c=0;c<e;c++){for(_=Math.max(_,Math.abs(n[c])+Math.abs(t[c])),l=c;l<e&&!(Math.abs(t[l])<=w*_);)l++;if(l>c){0;do{for(1,i=n[c],f=(n[c+1]-i)/(2*t[c]),d=W(f,1),f<0&&(d=-d),n[c]=t[c]/(f+d),n[c+1]=t[c]*(f+d),h=n[c+1],o=i-n[c],a=c+2;a<e;a++)n[a]-=o;for(x+=o,f=n[l],g=p=1,v=p,m=t[c+1],y=0,b=0,a=l-1;a>=c;a--)for(v=g,g=p,b=y,i=p*t[a],o=p*f,d=W(f,t[a]),t[a+1]=y*d,y=t[a]/d,f=(p=f/d)*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<e;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);f=-y*b*v*m*t[c]/h,t[c]=y*f,n[c]=p*f}while(Math.abs(t[c])>w*_)}n[c]=n[c]+x,t[c]=0}for(a=0;a<e-1;a++){for(u=a,f=n[a],s=a+1;s<e;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<e;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}(u,f,l,c)}else{var h=new A(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(o=0;o<u;o++)h.set(o,s,d.get(o,s));!function(e,t,n,r){var i,o,a,s,u,c,l,f=e-1;for(c=1;c<=f-1;c++){for(l=0,s=c;s<=f;s++)l+=Math.abs(t.get(s,c-1));if(0!==l){for(a=0,s=f;s>=c;s--)n[s]=t.get(s,c-1)/l,a+=n[s]*n[s];for(o=Math.sqrt(a),n[c]>0&&(o=-o),a-=n[c]*o,n[c]=n[c]-o,u=c;u<e;u++){for(i=0,s=f;s>=c;s--)i+=n[s]*t.get(s,u);for(i/=a,s=c;s<=f;s++)t.set(s,u,t.get(s,u)-i*n[s])}for(s=0;s<=f;s++){for(i=0,u=f;u>=c;u--)i+=n[u]*t.get(s,u);for(i/=a,u=c;u<=f;u++)t.set(s,u,t.get(s,u)-i*n[u])}n[c]=l*n[c],t.set(c,c-1,l*o)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(c=f-1;c>=1;c--)if(0!==t.get(c,c-1)){for(s=c+1;s<=f;s++)n[s]=t.get(s,c-1);for(u=c;u<=f;u++){for(o=0,s=c;s<=f;s++)o+=n[s]*r.get(s,u);for(o=o/n[c]/t.get(c,c-1),s=c;s<=f;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}(u,h,p,c),function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,p,g,v,m,y,b,x=e-1,_=e-1,w=Number.EPSILON,E=0,S=0,O=0,k=0,M=0,C=0,A=0,j=0;for(o=0;o<e;o++)for((o<0||o>_)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)S+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(C=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(C=S),!(Math.abs(i.get(u,u-1))<w*C));)u--;if(u===x)i.set(x,x,i.get(x,x)+E),n[x]=i.get(x,x),t[x]=0,x--,j=0;else if(u===x-1){if(f=i.get(x,x-1)*i.get(x-1,x),O=(i.get(x-1,x-1)-i.get(x,x))/2,k=O*O+f,A=Math.sqrt(Math.abs(k)),i.set(x,x,i.get(x,x)+E),i.set(x-1,x-1,i.get(x-1,x-1)+E),d=i.get(x,x),k>=0){for(A=O>=0?O+A:O-A,n[x-1]=d+A,n[x]=n[x-1],0!==A&&(n[x]=d-f/A),t[x-1]=0,t[x]=0,d=i.get(x,x-1),C=Math.abs(d)+Math.abs(A),O=d/C,k=A/C,M=Math.sqrt(O*O+k*k),O/=M,k/=M,a=x-1;a<e;a++)A=i.get(x-1,a),i.set(x-1,a,k*A+O*i.get(x,a)),i.set(x,a,k*i.get(x,a)-O*A);for(o=0;o<=x;o++)A=i.get(o,x-1),i.set(o,x-1,k*A+O*i.get(o,x)),i.set(o,x,k*i.get(o,x)-O*A);for(o=0;o<=_;o++)A=r.get(o,x-1),r.set(o,x-1,k*A+O*r.get(o,x)),r.set(o,x,k*r.get(o,x)-O*A)}else n[x-1]=d+O,n[x]=d+O,t[x-1]=A,t[x]=-A;x-=2,j=0}else{if(d=i.get(x,x),h=0,f=0,u<x&&(h=i.get(x-1,x-1),f=i.get(x,x-1)*i.get(x-1,x)),10===j){for(E+=d,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-d);C=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2)),d=h=.75*C,f=-.4375*C*C}if(30===j&&(C=(C=(h-d)/2)*C+f)>0){for(C=Math.sqrt(C),h<d&&(C=-C),C=d-f/((h-d)/2+C),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-C);E+=C,d=h=f=.964}for(j+=1,c=x-2;c>=u&&(A=i.get(c,c),O=((M=d-A)*(C=h-A)-f)/i.get(c+1,c)+i.get(c,c+1),k=i.get(c+1,c+1)-A-M-C,M=i.get(c+2,c+1),C=Math.abs(O)+Math.abs(k)+Math.abs(M),O/=C,k/=C,M/=C,c!==u)&&!(Math.abs(i.get(c,c-1))*(Math.abs(k)+Math.abs(M))<w*(Math.abs(O)*(Math.abs(i.get(c-1,c-1))+Math.abs(A)+Math.abs(i.get(c+1,c+1)))));)c--;for(o=c+2;o<=x;o++)i.set(o,o-2,0),o>c+2&&i.set(o,o-3,0);for(s=c;s<=x-1&&(y=s!==x-1,s!==c&&(O=i.get(s,s-1),k=i.get(s+1,s-1),M=y?i.get(s+2,s-1):0,0!==(d=Math.abs(O)+Math.abs(k)+Math.abs(M))&&(O/=d,k/=d,M/=d)),0!==d);s++)if(C=Math.sqrt(O*O+k*k+M*M),O<0&&(C=-C),0!==C){for(s!==c?i.set(s,s-1,-C*d):u!==c&&i.set(s,s-1,-i.get(s,s-1)),d=(O+=C)/C,h=k/C,A=M/C,k/=O,M/=O,a=s;a<e;a++)O=i.get(s,a)+k*i.get(s+1,a),y&&(O+=M*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-O*A)),i.set(s,a,i.get(s,a)-O*d),i.set(s+1,a,i.get(s+1,a)-O*h);for(o=0;o<=Math.min(x,s+3);o++)O=d*i.get(o,s)+h*i.get(o,s+1),y&&(O+=A*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-O*M)),i.set(o,s,i.get(o,s)-O),i.set(o,s+1,i.get(o,s+1)-O*k);for(o=0;o<=_;o++)O=d*r.get(o,s)+h*r.get(o,s+1),y&&(O+=A*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-O*M)),r.set(o,s,r.get(o,s)-O),r.set(o,s+1,r.get(o,s+1)-O*k)}}}if(0===S)return;for(x=e-1;x>=0;x--)if(O=n[x],0===(k=t[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(f=i.get(o,o)-O,M=0,a=u;a<=x;a++)M+=i.get(o,a)*i.get(a,x);if(t[o]<0)A=f,C=M;else if(u=o,0===t[o]?i.set(o,x,0!==f?-M/f:-M/(w*S)):(d=i.get(o,o+1),h=i.get(o+1,o),k=(n[o]-O)*(n[o]-O)+t[o]*t[o],l=(d*C-A*M)/k,i.set(o,x,l),i.set(o+1,x,Math.abs(d)>Math.abs(A)?(-M-f*l)/d:(-C-h*l)/A)),l=Math.abs(i.get(o,x)),w*l*l>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/l)}else if(k<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,k/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-O)/i.get(x,x-1))):(b=re(0,-i.get(x-1,x),i.get(x-1,x-1)-O,k),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(f=i.get(o,o)-O,t[o]<0)A=f,M=p,C=g;else if(u=o,0===t[o]?(b=re(-p,-g,f,k),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),h=i.get(o+1,o),v=(n[o]-O)*(n[o]-O)+t[o]*t[o]-k*k,m=2*(n[o]-O)*k,0===v&&0===m&&(v=w*S*(Math.abs(f)+Math.abs(k)+Math.abs(d)+Math.abs(h)+Math.abs(A))),b=re(d*M-A*p+k*g,d*C-A*g-k*p,v,m),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(A)+Math.abs(k)?(i.set(o+1,x-1,(-p-f*i.get(o,x-1)+k*i.get(o,x))/d),i.set(o+1,x,(-g-f*i.get(o,x)-k*i.get(o,x-1))/d)):(b=re(-M-h*i.get(o,x-1),-C-h*i.get(o,x),A,k),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),l=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))),w*l*l>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/l),i.set(a,x,i.get(a,x)/l)}for(o=0;o<e;o++)if(o<0||o>_)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=0;a--)for(o=0;o<=_;o++){for(A=0,s=0;s<=Math.min(a,_);s++)A+=r.get(o,s)*i.get(s,a);r.set(o,a,A)}}(u,f,l,c,h)}this.n=u,this.e=f,this.d=l,this.V=c}return Object(s.a)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,i=this.d,o=new A(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}]),e}();function re(e,t,n,r){var i,o;return Math.abs(n)>Math.abs(r)?[(e+(i=r/n)*t)/(o=n+i*r),(t-i*e)/o]:[((i=n/r)*e+t)/(o=r+i*n),(i*t-e)/o]}var ie=function(){function e(t){if(Object(a.a)(this,e),!(t=G.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,i,o=t,s=o.rows,u=new A(s,s),c=!0;for(r=0;r<s;r++){var l=0;for(i=0;i<r;i++){var f=0;for(n=0;n<i;n++)f+=u.get(i,n)*u.get(r,n);f=(o.get(r,i)-f)/u.get(i,i),u.set(r,i,f),l+=f*f}for(c&=(l=o.get(r,r)-l)>0,u.set(r,r,Math.sqrt(Math.max(l,0))),i=r+1;i<s;i++)u.set(r,i,0)}this.L=u,this.positiveDefinite=Boolean(c)}return Object(s.a)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),oe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,e),t=G.checkMatrix(t);var r,i=n.Y,o=n.scaleScores,s=void 0!==o&&o,u=n.maxIterations,l=void 0===u?1e3:u,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(i){if((i=c(i)&&"number"===typeof i[0]?A.columnVector(i):G.checkMatrix(i)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=i.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,g,v,m=1,y=0;y<l&&m>d;y++)g=(g=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(g.norm()),h=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),y>0&&(m=h.clone().sub(v).pow(2).sum()),v=h.clone(),i?(p=(p=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=i.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(i){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),_=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),w=i.clone().sub(h.clone().mulS(_.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=g.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=w,this.betas=_}else this.w=g.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(g.transpose()))};n.d(t,"AbstractMatrix",function(){return O}),n.d(t,"default",function(){return A}),n.d(t,"Matrix",function(){return A}),n.d(t,"MatrixColumnView",function(){return T}),n.d(t,"MatrixColumnSelectionView",function(){return I}),n.d(t,"MatrixFlipColumnView",function(){return N}),n.d(t,"MatrixFlipRowView",function(){return P}),n.d(t,"MatrixRowView",function(){return D}),n.d(t,"MatrixRowSelectionView",function(){return L}),n.d(t,"MatrixSelectionView",function(){return R}),n.d(t,"MatrixSubView",function(){return B}),n.d(t,"MatrixTransposeView",function(){return F}),n.d(t,"wrap",function(){return U}),n.d(t,"WrapperMatrix1D",function(){return z}),n.d(t,"WrapperMatrix2D",function(){return G}),n.d(t,"solve",function(){return q}),n.d(t,"inverse",function(){return H}),n.d(t,"determinant",function(){return K}),n.d(t,"linearDependencies",function(){return $}),n.d(t,"pseudoInverse",function(){return J}),n.d(t,"covariance",function(){return ee}),n.d(t,"correlation",function(){return te}),n.d(t,"SingularValueDecomposition",function(){return X}),n.d(t,"SVD",function(){return X}),n.d(t,"EigenvalueDecomposition",function(){return ne}),n.d(t,"EVD",function(){return ne}),n.d(t,"CholeskyDecomposition",function(){return ie}),n.d(t,"CHO",function(){return ie}),n.d(t,"LuDecomposition",function(){return V}),n.d(t,"LU",function(){return V}),n.d(t,"QrDecomposition",function(){return Y}),n.d(t,"QR",function(){return Y}),n.d(t,"Nipals",function(){return oe}),n.d(t,"NIPALS",function(){return oe})},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(47);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u,c=function(e){var t=e.bindType,n=void 0===t?"node":t,s=e.container,u=i.a.useContext(o.a).graph,c=a(i.a.useState({visible:!1,x:0,y:0,item:null,selectedItems:[]}),2),l=c[0],f=c[1],d=function(e){e.preventDefault(),e.stopPropagation();var t=u.get("width"),r=u.get("height");if(s.current){var i=s.current.getBoundingClientRect(),o=u.get("offsetX")||0,a=u.get("offsetY")||0,c=u.getContainer().offsetTop,l=u.getContainer().offsetLeft,d=e.canvasX+l+o,h=e.canvasY+c+a;if(d+i.width>t&&(d=e.canvasX-i.width-o+l),h+i.height>r&&(h=e.canvasY-i.height-a+c),"node"===n){var p=e.item&&e.item.getModel(),g=p.x,v=p.y,m=u.getCanvasByPoint(g,v),y=e.canvasX-m.x,b=e.canvasY-m.y;d-=y,h-=b}f(function(t){return Object.assign(Object.assign({},t),{visible:!0,x:d,y:h,item:e.item})})}},h=function(){f(function(e){return e.visible?Object.assign(Object.assign({},e),{visible:!1,x:0,y:0}):e})};Object(r.useEffect)(function(){var e=function(e){f(function(t){return Object.assign(Object.assign({},t),{selectedItems:e.selectedItems})})};return u.on("".concat(n,":contextmenu"),d),u.on("canvas:click",h),u.on("canvas:drag",h),u.on("wheelzoom",h),"canvas"===n&&u.on("nodeselectchange",e),function(){u.off("".concat(n,":contextmenu"),d),u.off("canvas:click",h),u.off("canvas:drag",h),u.off("wheelzoom",h),u.off("nodeselectchange",e)}},[u,n]);var p=l.x,g=l.y,v=l.visible,m=l.item,y=l.selectedItems;return{oneShow:d,onClose:h,item:m,selectedItems:y,visible:v,x:p,y:g}},l={width:"120px",boxShadow:"0 4px 12px rgb(0 0 0 / 15%)"},f=i.a.createRef(),d=function(e){var t=e.bindType,n=e.children,r=e.style,o=c({bindType:t,container:f}),a=o.visible,s=o.x,u=o.y,d=o.item,h={position:"absolute",left:s,top:u};if("function"!==typeof n)return console.error("<ContextMenu /> children should be a function"),null;var p=d&&!d.destroyed&&d.getModel&&d.getModel().id||"";return i.a.createElement("div",{ref:f,className:"graphin-components-contextmenu",style:Object.assign(Object.assign(Object.assign({},l),r),h),key:p},a&&n(Object.assign(Object.assign({},o),{id:p})))},h=n(49),p={r:249,scaleRByWheel:!0,minR:100,maxR:500,delegateStyle:{stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},showLabel:!1},g=function(e){var t=i.a.useContext(o.a).graph,n=e.options,r=e.visible,a=e.handleEscListener;return i.a.useEffect(function(){var e=Object.assign(Object.assign({},p),n);e.showLabel&&t.getNodes().forEach(function(e){e.getContainer().getChildren().forEach(function(e){"text"===e.get("type")&&e.hide()})});var i=new h.a.Fisheye(e),o=function(e){27===e.keyCode&&a&&(a(),t.get("canvas").setCursor("default"))};return r&&(t.addPlugin(i),t.get("canvas").setCursor("zoom-in")),a&&window.addEventListener("keydown",o),function(){t&&!t.destroyed&&(t.get("canvas").setCursor("default"),t.removePlugin(i)),a&&window.removeEventListener("keydown",o)}},[t,n,r,a]),null},v=n(0),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},y={members:[],type:"round-convex",nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10},b=function(e,t){var n=e.style,r=void 0===n?{}:n,i=m(e,["style"]),o=t.style,a=void 0===o?{}:o,s=m(t,["style"]);return Object.assign(Object.assign(Object.assign({},i),s),{style:Object.assign(Object.assign({},r),a)})},x=function(e){var t=i.a.useContext(o.a).graph,n=e.options;return i.a.useEffect(function(){u&&u.length&&u.forEach(function(e){return t.removeHull(e)}),u=n.map(function(e){return t.createHull(b(y,Object.assign({id:"".concat(Math.random())},e)))});var e=Object(v.debounce)(function(){u.forEach(function(e,r){e.group.destroyed?u[r]=t.createHull(b(y,Object.assign({id:"".concat(Math.random())},n[r]))):e.updateData(e.members)})});return t.on("afterupdateitem",e),t.on("aftergraphrefreshposition",e),function(){t.off("afterupdateitem",e),t.off("aftergraphrefreshposition",e)}},[t,n]),null};n(393);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=i.a.useContext(o.a),n=t.graph,a=t.theme,s=e.options,u=e.dataMap,c=e.onChange,l=a.mode,f=_(i.a.useState({options:s}),2),d=f[0],h=f[1];Object(r.useEffect)(function(){h({options:s})},[s]);var p=d.options,g=function(e){var t=Object.assign(Object.assign({},e),{checked:!e.checked}),r=p.map(function(n){return n.value===e.value?t:n});h({options:r}),u.get(t.value).forEach(function(e){n.setItemState(e.id,"active",t.checked),n.setItemState(e.id,"inactive",!t.checked);var r=e.id;n.findById(r).getEdges().forEach(function(e){n.setItemState(e,"normal",t.checked),n.setItemState(e,"inactive",!t.checked)})}),c(t,r)};return i.a.createElement("ul",{className:"graphin-components-legend-content"},p.map(function(e){var t=e.label,n=e.checked,r=e.color,o={light:{active:r,inactive:"#ddd"},dark:{active:r,inactive:"#2f2f2f"}},a=n?"active":"inactive";return i.a.createElement("li",{key:e.value,className:"item",onClick:function(){g(e)},onKeyDown:function(){g(e)}},i.a.createElement("span",{className:"dot",style:{background:o[l][a]}}),i.a.createElement("span",{className:"label",style:{color:{light:{active:"#000",inactive:"#ddd"},dark:{active:"#fff",inactive:"#2f2f2f"}}[l][a]}},t))}))},S=n(52);function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=S.a.getEnumValue,C=S.a.getEnumDataMap,A=function(e){var t=e.bindType,n=void 0===t?"node":t,r=e.sortKey,a=i.a.useContext(o.a).graph.save();if(a.children)return console.error("not support tree graph"),{dataMap:new Map,options:{}};var s=C(a["".concat(n,"s")],r),u=O(s.keys()).map(function(e){var t=(s.get(e)||[{}])[0],n=M(t,"style.keyshape.fill"),r=M(t,"style.color");return{color:n||r,value:e,label:e,checked:!0}});return{dataMap:s,options:u}},j={position:"absolute",top:"0px",right:"0px"},T=function(e){var t=e.bindType,n=void 0===t?"node":t,r=e.sortKey,o=e.children,a=e.style,s=A({bindType:n,sortKey:r}),u=s.dataMap,c=s.options;return i.a.createElement("div",{className:"graphin-components-legend",style:Object.assign(Object.assign({},j),a)},o({bindType:n,sortKey:r,dataMap:u,options:c}))};T.Node=E;var I=T,N={className:"graphin-minimap",viewportClassName:"graphin-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0},P={position:"absolute",bottom:0,left:0,background:"#fff",boxShadow:"0px 8px 10px -5px rgba(0,0,0,0.2), 0px 16px 24px 2px rgba(0,0,0,0.14), 0px 6px 30px 5px rgba(0,0,0,0.12)"},D=null,L=function(e){var t=i.a.useContext(o.a).graph,n=e.options,r=e.style,a=void 0===r?{}:r;i.a.useEffect(function(){var e=t.getWidth(),r=t.getHeight(),i=t.get("fitViewPadding"),o=[(e-2*i)/(r-2*i)*120,120],a=Object.assign(Object.assign(Object.assign({container:D},N),{size:o}),n),s=new h.a.Minimap(a);return t.addPlugin(s),function(){s&&!s.destroyed&&t.removePlugin(s)}},[n]);var s=Object.assign(Object.assign({},P),a);return i.a.createElement("div",{ref:function(e){D=e},style:s})},R={line:{stroke:"#FA8C16",lineWidth:.5},itemAlignType:"center"},B=function(e){var t=i.a.useContext(o.a).graph,n=e.options,r=e.visible;return i.a.useEffect(function(){var e=Object.assign(Object.assign({},R),n),i=new h.a.SnapLine(e);return r&&t.addPlugin(i),function(){t&&!t.destroyed&&t.removePlugin(i)}},[t,n,r]),null},F=function(e){var t=e.placement,n=e.nodeSize,r=e.x,i=e.y,o=e.bindType,a=void 0===o?"node":o,s=e.visible;return"edge"===a?s?{left:r,top:i}:{visibility:"hidden",left:r,top:i}:"top"===t?s?{left:r,top:i-n/2,opacity:1,transform:"translate(-50%,calc(-100% - 6px))",transition:"opacity 0.5s,transform 0.5s"}:{visibility:"hidden",left:0,top:0,opacity:.5,transform:"translate(-50%,-100%)",transition:"opacity 0.5s,transform 0.5s"}:"bottom"===t?s?{left:r,top:i+n/2,opacity:1,transform:"translate(-50%,6px)",transition:"opacity 0.5s,transform 0.5s"}:{visibility:"hidden",left:r,top:i+n/2,opacity:.5,transform:"translate(-50%,0px)",transition:"opacity 0.5s,transform 0.5s"}:"left"===t?s?{left:r-n/2,top:i,transform:"translate(calc(-100% - 6px),-50%)",opacity:1,transition:"opacity 0.5s,transform 0.5s"}:{visibility:"hidden",opacity:0,left:r-n/2,top:i,transform:"translate(-100%,-50%)",transition:"opacity 0.5s,transform 0.5s"}:"right"===t?s?{left:r+n/2,top:i,transform:"translate(6px,-50%)",opacity:1,transition:"opacity 0.5s,transform 0.5s"}:{visibility:"hidden",left:r+n/2,top:i,transform:"translate(0,-50%)",opacity:0,transition:"opacity 0.5s,transform 0.5s"}:"center"===t?s?{left:r,top:i,opacity:1,transition:"opacity 0.5s,transform 0.5s"}:{visibility:"hidden",left:r,top:i,opacity:0,transition:"opacity 0.5s,transform 0.5s"}:{left:r,top:i}};n(391);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.bindType,n=void 0===t?"node":t,a=e.container,s=i.a.useContext(o.a).graph,u=Object(r.useRef)(),c=z(i.a.useState({visible:!1,x:0,y:0,item:null}),2),l=c[0],f=c[1],d=function(e){e.preventDefault(),e.stopPropagation(),u.current&&window.clearTimeout(u.current);var t=s.getPointByClient(e.clientX,e.clientY),r=s.getCanvasByPoint(t.x,t.y),i=r.x,o=r.y;if("node"===n&&e.item){var a=e.item.getModel(),c=a.x,l=void 0===c?0:c,d=a.y,h=void 0===d?0:d,p=s.getCanvasByPoint(l,h),g=e.canvasX-p.x,v=e.canvasY-p.y;i-=g,o-=v}f(function(t){return Object.assign(Object.assign({},t),{visible:!0,item:e.item,x:i,y:o})})},h=function(){u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(function(){f(function(e){return Object.assign(Object.assign({},e),{visible:!1,item:null,x:0,y:0})})},200)},p=function(){f(Object.assign(Object.assign({},l),{visible:!1,x:0,y:0,item:null}))},g=function(e){var t=s.getPointByClient(e.clientX,e.clientY),r=s.getCanvasByPoint(t.x,t.y),i=r.x,o=r.y;if("node"===n){if(e.item){var a=e.item.getModel(),u=a.x,c=void 0===u?0:u,d=a.y,h=void 0===d?0:d,p=s.getCanvasByPoint(c,h);i-=e.canvasX-p.x,o-=e.canvasY-p.y}f(Object.assign(Object.assign({},l),{visible:!0,x:i,y:o,item:e.item}))}},v=function(){clearTimeout(u.current)};return Object(r.useEffect)(function(){var e,t;return s.on("".concat(n,":mouseenter"),d),s.on("".concat(n,":mouseleave"),h),s.on("afterremoveitem",h),s.on("node:dragstart",p),s.on("node:dragend",g),null===(e=a.current)||void 0===e||e.addEventListener("mouseenter",v),null===(t=a.current)||void 0===t||t.addEventListener("mouseleave",h),function(){var e,t;console.log("effect..remove...."),s.off("".concat(n,":mouseenter"),d),s.off("".concat(n,":mouseleave"),h),s.off("afterremoveitem",h),s.off("node:dragstart",p),s.off("node:dragend",g),null===(e=a.current)||void 0===e||e.removeEventListener("mouseenter",v),null===(t=a.current)||void 0===t||t.removeEventListener("mouseleave",h)}},[]),Object.assign({},l)},V={width:"120px",boxShadow:"0 4px 12px rgb(0 0 0 / 15%)"},W=i.a.createRef(),Y=function(e){var t=e.children,n=e.bindType,r=void 0===n?"node":n,o=e.style,a=e.placement,s=void 0===a?"top":a,u=e.hasArrow,c=U({bindType:r,container:W}),l=c.x,f=c.y,d=c.visible,h=c.item,p=40;try{if(h&&"graphin-cirle"===h.getModel().type){var g=h.getModel().style;g&&(p=g.keyshape.size)}}catch(x){console.log(x)}var v=F({placement:s,nodeSize:p+12,x:l,y:f,bindType:r,visible:d}),m=Object.assign({position:"absolute"},v);if("function"!==typeof t)return console.error("<Tooltip /> children should be a function"),null;var y=h&&!h.destroyed&&h.getModel&&h.getModel()||{},b=y.id||"";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:W,className:"graphin-components-tooltip ".concat(s),style:Object.assign(Object.assign(Object.assign({},V),m),o)},d&&i.a.createElement("div",null,u&&i.a.createElement("div",{className:"tooltip-arrow ".concat(s)}),t({item:h,bindType:r,model:y,id:b}))))};t.a={ContextMenu:d,Hull:x,MiniMap:L,FishEye:g,SnapLine:B,Tooltip:Y,Legend:I,useLegend:A,useTooltip:U,useContextMenu:c}},function(e,t,n){"use strict";var r=n(70),i=n.n(r);n(3);function o(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(e){var t=i()(e,3);return t[0]+256*t[1]+65536*t[2]-1}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a})},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},function(e,t){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},function(e,t){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(39),i=n(128);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],c=(0,i.getEdgeTerminal)(u,"source"),l=(0,i.getEdgeTerminal)(u,"target");r[o[c]].push(o[l]),r[o[l]].push(o[c])}var f=0;for(a=0;a<e.length;a++){var d=n.length,h=r[a],p=h.length;n[4*a+2]=d,n[4*a+3]=h.length,f=Math.max(f,h.length);for(var g=0;g<p;++g){var v=h[g];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:f,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var o=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var c=e[u];s[c.id]=u,o.push(c.x),o.push(c.y),o.push(0),o.push(0),a.push([])}for(u=0;u<t.length;u++){var l=t[u],f=(0,i.getEdgeTerminal)(l,"source"),d=(0,i.getEdgeTerminal)(l,"target");a[s[f]].push(s[d]),a[s[f]].push(n(l)),a[s[f]].push(r(l)),a[s[f]].push(0),a[s[d]].push(s[f]),a[s[d]].push(n(l)),a[s[d]].push(r(l)),a[s[d]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=o.length,g=a[u],v=g.length;o[4*u+2]=p+1048576*v/4,o[4*u+3]=0,h=Math.max(h,v/4);for(var m=0;m<v;++m){var y=g[m];o.push(+y)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:h,array:new Float32Array(o)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,i={};return t.forEach(function(t){e.forEach(function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach(function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)})},o=0;o<r;o++)i(o);return new Float32Array(t)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(41),s=n(39),u=n(195),c=n(210),l=n(128),f=n(381),d=n(91),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,function(){var e,t,n,r,i;return o(this,function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach(function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,i[t.id]=n}),e.nodeMap=r,e.nodeIdxMap=i,e.nodeStrength=(0,c.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,c.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}})})},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach(function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),o[e.id]=e,a[e.id]=t}),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,c.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return i(this,void 0,void 0,function(){var n,r,a,h,p,g,v,m,y,b,x,_,w,E,S,O,k,M,C,A,j,T,I,N,P,D,L=this;return o(this,function(R){switch(R.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,c.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength),g=(0,c.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,m=g.array,n.degrees=(0,l.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],_=[],w=[],E=[],S=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),O=n.gravity,k=n.center,r.forEach(function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[k[0],k[1],O];if(n.getCenter){var i=n.getCenter(e,n.degrees[t]);i&&(0,s.isNumber)(i[0])&&(0,s.isNumber)(i[1])&&(0,s.isNumber)(i[2])&&(r=i)}x.push(r[0]),_.push(r[1]),w.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(E.push(e.fx||.001),S.push(e.fy||.001)):(E.push(0),S.push(0))}),M=(0,c.arrayToTextureData)([y,n.degrees,b,E]),C=(0,c.arrayToTextureData)([x,_,w,S]),A=n.workerEnabled,j=A?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),T=n.onLayoutEnd,I=[],m.forEach(function(e){I.push(e)}),N=0;N<4;N++)I.push(0);return P=j.createKernel(f.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:M,u_NodeAttributeArray2:C,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:I,u_interval:n.interval}),D=j.createKernel(f.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),[4,function(){return i(L,void 0,void 0,function(){var i,a,s;return o(this,function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<h?[4,P.execute()]:[3,5];case 2:return o.sent(),D.setBinding({u_Data:P}),[4,D.execute()];case 3:o.sent(),a=Math.max(.02,n.interval-.002*i),P.setBinding({u_interval:a,u_AveMovement:D}),o.label=4;case 4:return i++,[3,1];case 5:return[4,P.getOutput()];case 6:return s=o.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach(function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r}),T&&T(),[2]}})})}()];case 1:return R.sent(),[2]}})})},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var i=n(41),o=n(39),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this.nodes,t=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},e&&0!==e.length){if(1===e.length)return e[0].x=t[0],e[0].y=t[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,i=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach(function(e,t){r[t]={x:0,y:0}}),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach(function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=r[t].x*i,e.y+=r[t].y*i)}),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var c=[0,0];t.forEach(function(e){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(c[0]+=e.x,c[1]+=e.y)}),c[0]/=t.length,c[1]/=t.length;var l=[r[0]-c[0],r[1]-c[1]];t.forEach(function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=l[0],e.y+=l[1])}),e.combos.forEach(function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)}),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this.edges,t=this.nodes,n=this.combos,r={},i={},a={};t.forEach(function(e,t){i[e.id]=e,a[e.id]=t}),this.nodeMap=i,this.indexMap=a;var s={};n.forEach(function(e){s[e.id]=e}),this.oriComboMap=s,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var c=this.collideStrength;c&&(this.comboCollideStrength=c,this.nodeCollideStrength=c),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var l=0;l<e.length;++l){var f=(0,o.getEdgeTerminal)(e[l],"source"),d=(0,o.getEdgeTerminal)(e[l],"target");r[f]?r[f]++:r[f]=1,r[d]?r[d]++:r[d]=1}var h=[];for(l=0;l<e.length;++l){f=(0,o.getEdgeTerminal)(e[l],"source"),d=(0,o.getEdgeTerminal)(e[l],"target");h[l]=r[f]/(r[f]+r[d])}this.bias=h;var p,g,v=this.nodeSize,m=this.nodeSpacing;if(g=(0,o.isNumber)(m)?function(){return m}:(0,o.isFunction)(m)?m:function(){return 0},this.nodeSpacing=g,v)if((0,o.isFunction)(v))p=function(e){return v(e)};else if((0,o.isArray)(v)){var y=(v[0]>v[1]?v[0]:v[1])/2;p=function(e){return y}}else{var b=v/2;p=function(e){return b}}else p=function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=p;var x,_=this.comboSpacing;x=(0,o.isNumber)(_)?function(){return _}:(0,o.isFunction)(_)?_:function(){return 0},this.comboSpacing=x;var w,E=this.comboPadding;w=(0,o.isNumber)(E)?function(){return E}:(0,o.isArray)(E)?function(){return Math.max.apply(null,E)}:(0,o.isFunction)(E)?E:function(){return 0},this.comboPadding=w;var S,O=this.linkDistance;O||(O=10),S=(0,o.isNumber)(O)?function(e){return O}:O,this.linkDistance=S;var k,M=this.edgeStrength;M||(M=1),k=(0,o.isNumber)(M)?function(e){return M}:M,this.edgeStrength=k;var C,A=this.nodeStrength;A||(A=30),C=(0,o.isNumber)(A)?function(e){return A}:A,this.nodeStrength=C},t.prototype.initPos=function(e){this.nodes.forEach(function(t,n){var r=t.comboId,i=e[r];r&&i?(t.x=i.cx+100/(n+1),t.y=i.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))})},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,i={};return(n||[]).forEach(function(n){var a=[];(0,o.traverseTreeUp)(n,function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach(function(e){if(!i[e.id]&&!t[e.id])return!0;a.push(e)});var c=i[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var l=r[n.id];c.cx=l.x,c.cy=l.y}return a.forEach(function(e){if(c.count++,"node"!==e.itemType){var n=i[e.id];return(0,o.isNumber)(n.cx)&&(c.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(c.cy+=n.cy))}var r=t[e.id];r&&((0,o.isNumber)(r.x)&&(c.cx+=r.x),(0,o.isNumber)(r.y)&&(c.cy+=r.y))}),c.cx/=c.count||1,c.cy/=c.count||1,c.children=a,!0})}),i},t.prototype.applyComboCenterForce=function(e){var t=this.gravity,n=this.comboGravity||t,r=this.alpha,i=this.comboTrees,a=this.indexMap,s=this.nodeMap,u=this.comboMap;(i||[]).forEach(function(t){(0,o.traverseTreeUp)(t,function(t){if("node"===t.itemType)return!0;if(!u[t.id])return!0;var i=u[t.id],c=(i.depth+1)/10*.5,l=i.cx,f=i.cy;return i.cx=0,i.cy=0,i.children.forEach(function(t){if("node"!==t.itemType){var d=u[t.id];return d&&(0,o.isNumber)(d.cx)&&(i.cx+=d.cx),void(d&&(0,o.isNumber)(d.cy)&&(i.cy+=d.cy))}var h=s[t.id],p=h.x-l||.005,g=h.y-f||.005,v=Math.sqrt(p*p+g*g),m=a[h.id],y=n*r/v*c;e[m].x-=p*y,e[m].y-=g*y,(0,o.isNumber)(h.x)&&(i.cx+=h.x),(0,o.isNumber)(h.y)&&(i.cy+=h.y)}),i.cx/=i.count||1,i.cy/=i.count||1,!0})})},t.prototype.applyCalculate=function(e){var t=this.comboMap,n=this.nodes,r={};n.forEach(function(e,t){n.forEach(function(n,i){if(!(t<i)){var o=e.x-n.x||.005,a=e.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),r["".concat(e.id,"-").concat(n.id)]={vx:o,vy:a,vl2:s,vl:u},r["".concat(n.id,"-").concat(e.id)]={vl2:s,vl:u,vx:-o,vy:-a}}})}),this.updateComboSizes(t),this.calRepulsive(e,r),this.calAttractive(e,r),this.preventComboOverlap&&this.comboNonOverlapping(e,t)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,i=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach(function(n){var u=[];(0,o.traverseTreeUp)(n,function(n){if("node"===n.itemType)return!0;var c=e[n.id];if(!c)return!1;var l=n.children;l&&l.forEach(function(t){(e[t.id]||r[t.id])&&u.push(t)}),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0,u.forEach(function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=i(t),o=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;c.minX>o&&(c.minX=o),c.minY>a&&(c.minY=a),c.maxX<s&&(c.maxX=s),c.maxY<u&&(c.maxY=u)});var f=t.oriComboMap[n.id].size||10;(0,o.isArray)(f)&&(f=f[0]);var d=Math.max(c.maxX-c.minX,c.maxY-c.minY,f);return c.r=d/2+a(c)/2+s(c),!0})})},t.prototype.comboNonOverlapping=function(e,t){var n=this.comboTree,r=this.comboCollideStrength,i=this.indexMap,a=this.nodeMap;(0,o.traverseTreeUp)(n,function(n){if(!t[n.id]&&!a[n.id]&&"comboTreeRoot"!==n.id)return!1;var o=n.children;return o&&o.length>1&&o.forEach(function(n,s){if("node"===n.itemType)return!1;var u=t[n.id];u&&o.forEach(function(o,c){if(s<=c)return!1;if("node"===o.itemType)return!1;var l=t[o.id];if(!l)return!1;var f=u.cx-l.cx||.005,d=u.cy-l.cy||.005,h=f*f+d*d,p=u.r||1,g=l.r||1,v=p+g,m=g*g,y=p*p;if(h<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=o.children;if(!x||0===x.length)return!1;var _=Math.sqrt(h),w=(v-_)/_*r,E=f*w,S=d*w,O=m/(y+m),k=1-O;b.forEach(function(t){if("node"!==t.itemType)return!1;if(a[t.id]){var n=i[t.id];x.forEach(function(t){if("node"!==t.itemType)return!1;if(!a[t.id])return!1;var r=i[t.id];e[n].x+=E*O,e[n].y+=S*O,e[r].x-=E*k,e[r].y-=S*k})}})}})}),!0})},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,c=n.nodeSize,l=n.nodeSpacing,f=n.depthRepulsiveForceScale,d=n.center;r.forEach(function(h,p){if(h.x&&h.y){if(d){var g=n.gravity,v=h.x-d[0]||.005,m=h.y-d[1]||.005,y=Math.sqrt(v*v+m*m);e[p].x-=v*g*a/y,e[p].y-=m*g*a/y}r.forEach(function(n,r){if(p!==r&&n.x&&n.y){var d=t["".concat(h.id,"-").concat(n.id)],g=d.vl2,v=d.vl;if(!(v>i)){var m=t["".concat(h.id,"-").concat(n.id)],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var _=x?Math.pow(f,x):1,w=o(n)*a/g*_;if(e[p].x+=y*w,e[p].y+=b*w,p<r&&u){var E=c(h)+l(h)||1,S=c(n)+l(n)||1,O=E+S;if(g<O*O){var k=(O-v)/v*s,M=S*S,C=M/(E*E+M),A=y*k,j=b*k;e[p].x+=A*C,e[p].y+=j*C,C=1-C,e[r].x-=A*C,e[r].y-=j*C}}}}})}})},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,i=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,c=n.depthAttractiveForceScale;r.forEach(function(r,l){var f=(0,o.getEdgeTerminal)(r,"source"),d=(0,o.getEdgeTerminal)(r,"target");if(f&&d&&f!==d){var h=n.indexMap[f],p=n.indexMap[d],g=n.nodeMap[f],v=n.nodeMap[d];if(g&&v){var m=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(m/=2);var y=m?Math.pow(c,m):1;if(g.comboId!==v.comboId&&1===y?y=c/2:g.comboId===v.comboId&&(y=2),(0,o.isNumber)(v.x)&&(0,o.isNumber)(g.x)&&(0,o.isNumber)(v.y)&&(0,o.isNumber)(g.y)){var b=t["".concat(d,"-").concat(f)],x=b.vl,_=b.vx,w=b.vy,E=(x-i(r))/x*a*s(r)*y,S=_*E,O=w*E,k=u[l];e[p].x-=S*k,e[p].y-=O*k,e[h].x+=S*(1-k),e[h].y+=O*(1-k)}}}})},t.prototype.getType=function(){return"comboForce"},t}(i.Base);t.ComboForceLayout=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var o=n(91),a=n(41),s=n(39),u=n(148),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this.nodes,t=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=t[0],e[0].y=t[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},t.prototype.run=function(){var e,t=this.nodes,n=this.edges,r=this.combos,a=this.comboEdges,c=this.center,l={};t.forEach(function(e){l[e.id]=e});var f={};r.forEach(function(e){f[e.id]=e});var d=this.getInnerGraphs(l),h=[],p=[],g={},v=!0;this.comboTrees.forEach(function(e){var t=d[e.id],n=i(i({},e),{x:t.x||f[e.id].x,y:t.y||f[e.id].y,fx:t.fx||f[e.id].fx,fy:t.fy||f[e.id].fy,mass:t.mass||f[e.id].mass,size:t.size});p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,h.push(e.id),(0,s.traverseTreeUp)(e,function(t){return t.id!==e.id&&(g[t.id]=e.id),!0})}),t.forEach(function(e){if(!e.comboId||!f[e.comboId]){var t=i({},e);p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):v=!1,h.push(e.id)}});var m=[];if(n.concat(a).forEach(function(e){var t=g[e.source]||e.source,n=g[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})}),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=c[0],p[0].y=c[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,i,o=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:c,kg:5,preventOverlap:!0,animate:!1}),v&&o.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach(function(e){var t=d[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach(function(t){t.x+=e.x,t.y+=e.y});else{var n=l[e.id];n&&(n.x=e.x,n.y=e.y)}})}for(var _=Object.keys(d),w=function(e){var t=_[e],n=d[t];if(!n)return"continue";n.nodes.forEach(function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),l[e.id]&&(l[e.id].x=e.x,l[e.id].y=e.y)}),f[t]&&(f[t].x=n.x,f[t].y=n.y)},E=_.length-1;E>=0;E--)w(E);return{nodes:t,edges:n,combos:r,comboEdges:a}},t.prototype.getInnerGraphs=function(e){var t=this.comboTrees,n=this.nodeSize,r=this.edges,o=this.comboPadding,a=this.spacing,c={},l=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return l.center=[0,0],l.preventOverlap=!0,l.nodeSpacing=a,(t||[]).forEach(function(t){(0,s.traverseTreeUp)(t,function(t){var a,u=(null===o||void 0===o?void 0:o(t))||10;if((0,s.isArray)(u)&&(u=Math.max.apply(Math,u)),null===(a=t.children)||void 0===a?void 0:a.length){var f=t.children.map(function(t){if("combo"===t.itemType)return c[t.id];var n=e[t.id]||{};return i(i({},n),t)}),d=f.map(function(e){return e.id}),h={nodes:f,edges:r.filter(function(e){return d.includes(e.source)&&d.includes(e.target)})},p=1/0;f.forEach(function(e){var t;e.size||(e.size=(null===(t=c[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),p>e.size[0]&&(p=e.size[0]),p>e.size[1]&&(p=e.size[1])}),l.layout(h);var g=(0,s.findMinMaxNodeXY)(f),v=g.minX,m=g.minY,y=g.maxX,b=g.maxY,x=Math.max(y-v,b-m,p)+2*u;c[t.id]={id:t.id,nodes:f,size:[x,x]}}else if("combo"===t.itemType){var _=u?[2*u,2*u]:[30,30];c[t.id]={id:t.id,nodes:[],size:_}}return!0})}),c},t.prototype.initVals=function(){var e,t,n=this.nodeSize,r=this.spacing;if(t=(0,s.isNumber)(r)?function(){return r}:(0,s.isFunction)(r)?r:function(){return 0},this.spacing=t,n)if((0,s.isFunction)(n))e=function(e){var r=n(e),i=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+i)/2:((r||10)+i)/2};else if((0,s.isArray)(n)){var i=(n[0]>n[1]?n[0]:n[1])/2;e=function(e){return i+t(e)/2}}else{var o=n/2;e=function(e){return o+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var a,u=this.comboPadding;a=(0,s.isNumber)(u)?function(){return u}:(0,s.isArray)(u)?function(){return Math.max.apply(null,u)}:(0,s.isFunction)(u)?u:function(){return 0},this.comboPadding=a},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var o=n(41),a=n(39),s=i(n(382)),u=i(n(383)),c=i(n(384)),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this.nodes,t=this.onLayoutEnd,n=this.prune,r=this.maxIteration;this.width||"undefined"===typeof window||(this.width=window.innerWidth),this.height||"undefined"===typeof window||(this.height=window.innerHeight);for(var i=[],o=e.length,s=0;s<o;s+=1){var u=e[s],c=10,l=10;(0,a.isNumber)(u.size)&&(c=u.size,l=u.size),(0,a.isArray)(u.size)?(isNaN(u.size[0])||(c=u.size[0]),isNaN(u.size[1])||(l=u.size[1])):(0,a.isObject)(u.size)&&(c=u.size.width,l=u.size.height),this.getWidth&&!isNaN(this.getWidth(u))&&(l=this.getWidth(u)),this.getHeight&&!isNaN(this.getHeight(u))&&(c=this.getHeight(u));var f=Math.max(c,l);i.push(f)}void 0===this.barnesHut&&o>250&&(this.barnesHut=!0),void 0===this.prune&&o>100&&(this.prune=!0),0!==this.maxIteration||this.prune?0===this.maxIteration&&n&&(r=100,o<=200&&o>100?r=500:o>200&&(r=950),this.maxIteration=r):(r=250,o<=200&&o>100?r=1e3:o>200&&(r=1200),this.maxIteration=r),this.kr||(this.kr=50,o>100&&o<=500?this.kr=20:o>500&&(this.kr=1)),this.kg||(this.kg=20,o>100&&o<=500?this.kg=10:o>500&&(this.kg=1)),this.nodes=this.updateNodesByForces(i),t()},t.prototype.updateNodesByForces=function(e){for(var t=this.edges,n=this.maxIteration,r=this.nodes,i=t.filter(function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")}),o=r.length,s=i.length,u=[],c={},l={},f=[],d=0;d<o;d+=1)c[r[d].id]=d,u[d]=0,(void 0===r[d].x||isNaN(r[d].x))&&(r[d].x=1e3*Math.random()),(void 0===r[d].y||isNaN(r[d].y))&&(r[d].y=1e3*Math.random()),f.push({x:r[d].x,y:r[d].y});for(d=0;d<s;d+=1){for(var h=void 0,p=void 0,g=0,v=0,m=0;m<o;m+=1){var y=(0,a.getEdgeTerminal)(i[d],"source"),b=(0,a.getEdgeTerminal)(i[d],"target");r[m].id===y?(h=r[m],g=m):r[m].id===b&&(p=r[m],v=m),l[d]={sourceIdx:g,targetIdx:v}}h&&(u[c[h.id]]+=1),p&&(u[c[p.id]]+=1)}var x=n;if(r=this.iterate(x,c,l,s,u,e),this.prune){for(m=0;m<s;m+=1)u[l[m].sourceIdx]<=1?(r[l[m].sourceIdx].x=r[l[m].targetIdx].x,r[l[m].sourceIdx].y=r[l[m].targetIdx].y):u[l[m].targetIdx]<=1&&(r[l[m].targetIdx].x=r[l[m].sourceIdx].x,r[l[m].targetIdx].y=r[l[m].sourceIdx].y);this.prune=!1,this.barnesHut=!1,x=100,r=this.iterate(x,c,l,s,u,e)}return r},t.prototype.iterate=function(e,t,n,r,i,o){for(var a=this.nodes,u=this.kr,c=this.preventOverlap,l=this.barnesHut,f=a.length,d=0,h=e,p=[],g=[],v=[],m=0;m<f;m+=1)if(p[2*m]=0,p[2*m+1]=0,l){var y={id:m,rx:a[m].x,ry:a[m].y,mass:1,g:u,degree:i[m]};v[m]=new s.default(y)}for(;h>0;){for(m=0;m<f;m+=1)g[2*m]=p[2*m],g[2*m+1]=p[2*m+1],p[2*m]=0,p[2*m+1]=0;p=this.getAttrForces(h,50,r,t,n,i,o,p),p=l&&(c&&h>50||!c)?this.getOptRepGraForces(p,v,i):this.getRepGraForces(h,50,p,100,o,i);var b=this.updatePos(p,g,d,i);a=b.nodes,d=b.sg,h--,this.tick&&this.tick()}return a},t.prototype.getAttrForces=function(e,t,n,r,i,o,a,s){for(var u=this.nodes,c=this.preventOverlap,l=this.dissuadeHubs,f=this.mode,d=this.prune,h=0;h<n;h+=1){var p=u[i[h].sourceIdx],g=i[h].sourceIdx,v=u[i[h].targetIdx],m=i[h].targetIdx;if(!d||!(o[g]<=1||o[m]<=1)){var y=[v.x-p.x,v.y-p.y],b=Math.hypot(y[0],y[1]);b=b<1e-4?1e-4:b,y[0]=y[0]/b,y[1]=y[1]/b,c&&e<t&&(b=b-a[g]-a[m]);var x=b,_=x;"linlog"===f&&(_=x=Math.log(1+b)),l&&(x=b/o[g],_=b/o[m]),c&&e<t&&b<=0?(x=0,_=0):c&&e<t&&b>0&&(x=b,_=b),s[2*r[p.id]]+=x*y[0],s[2*r[v.id]]-=_*y[0],s[2*r[p.id]+1]+=x*y[1],s[2*r[v.id]+1]-=_*y[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,i,o){for(var a=this.nodes,s=this.preventOverlap,u=this.kr,c=this.kg,l=this.center,f=this.prune,d=a.length,h=0;h<d;h+=1){for(var p=h+1;p<d;p+=1)if(!f||!(o[h]<=1||o[p]<=1)){var g=[a[p].x-a[h].x,a[p].y-a[h].y],v=Math.hypot(g[0],g[1]);v=v<1e-4?1e-4:v,g[0]=g[0]/v,g[1]=g[1]/v,s&&e<t&&(v=v-i[h]-i[p]);var m=u*(o[h]+1)*(o[p]+1)/v;s&&e<t&&v<0?m=r*(o[h]+1)*(o[p]+1):s&&e<t&&0===v?m=0:s&&e<t&&v>0&&(m=u*(o[h]+1)*(o[p]+1)/v),n[2*h]-=m*g[0],n[2*p]+=m*g[0],n[2*h+1]-=m*g[1],n[2*p+1]+=m*g[1]}var y=[a[h].x-l[0],a[h].y-l[1]],b=Math.hypot(y[0],y[1]);y[0]=y[0]/b,y[1]=y[1]/b;var x=c*(o[h]+1);n[2*h]-=x*y[0],n[2*h+1]-=x*y[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this.nodes,i=this.kg,o=this.center,a=this.prune,s=r.length,l=9e10,f=-9e10,d=9e10,h=-9e10,p=0;p<s;p+=1)a&&n[p]<=1||(t[p].setPos(r[p].x,r[p].y),r[p].x>=f&&(f=r[p].x),r[p].x<=l&&(l=r[p].x),r[p].y>=h&&(h=r[p].y),r[p].y<=d&&(d=r[p].y));var g={xmid:(f+l)/2,ymid:(h+d)/2,length:Math.max(f-l,h-d),massCenter:o,mass:s},v=new u.default(g),m=new c.default(v);for(p=0;p<s;p+=1)a&&n[p]<=1||t[p].in(v)&&m.insert(t[p]);for(p=0;p<s;p+=1)if(!(a&&n[p]<=1)){t[p].resetForce(),m.updateForce(t[p]),e[2*p]-=t[p].fx,e[2*p+1]-=t[p].fy;var y=[r[p].x-o[0],r[p].y-o[1]],b=Math.hypot(y[0],y[1]);b=b<1e-4?1e-4:b,y[0]=y[0]/b,y[1]=y[1]/b;var x=i*(n[p]+1);e[2*p]-=x*y[0],e[2*p+1]-=x*y[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var i=this.nodes,o=this.ks,a=this.tao,s=this.prune,u=this.ksmax,c=i.length,l=[],f=[],d=0,h=0,p=0;p<c;p+=1)if(!(s&&r[p]<=1)){var g=[e[2*p]-t[2*p],e[2*p+1]-t[2*p+1]],v=Math.hypot(g[0],g[1]),m=[e[2*p]+t[2*p],e[2*p+1]+t[2*p+1]],y=Math.hypot(m[0],m[1]);l[p]=v,f[p]=y/2,d+=(r[p]+1)*l[p],h+=(r[p]+1)*f[p]}var b=n;n=a*h/d,0!==b&&(n=n>1.5*b?1.5*b:n);for(p=0;p<c;p+=1)if(!(s&&r[p]<=1)){var x=o*n/(1+n*Math.sqrt(l[p])),_=Math.hypot(e[2*p],e[2*p+1]),w=u/(_=_<1e-4?1e-4:_),E=(x=x>w?w:x)*e[2*p],S=x*e[2*p+1];i[p].x+=E,i[p].y+=S}return{nodes:i,sg:n}},t}(o.Base);t.ForceAtlas2Layout=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var o=n(41),a=i(n(385)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach(function(e){e.size||(e.size=[50,50])}),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){e.onLayoutEnd&&e.onLayoutEnd()})},t.prototype.getType=function(){return"er"},t}(o.Base);t.ERLayout=s},function(e,t,n){"use strict";n(108),n(109),n(111)},function(e,t,n){"use strict";var r=n(77),i=(n(7),n(9),n(3)),o=(i.vec3.create(),n(67));n(103),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create(),i.vec3.create();n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";var r=n(62);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)(function(){t.current=e},[e]),t}},function(e,t,n){"use strict";(function(e){var r=n(1),i="undefined"!==typeof e&&e.navigator&&"ReactNative"===e.navigator.product,o="undefined"!==typeof document;t.a=o||i?r.useLayoutEffect:r.useEffect}).call(this,n(74))},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(345);t.default=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||r(t)}function o(e){return e?": "+e:""}function a(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function s(e,t,n){t.indexOf(e)<0&&r("invalid value"+o(n)+". must be one of: "+t)}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(e,t){for(e+="";e.length<t;)e=" "+e;return e}function l(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function f(e,t){this.number=e,this.line=t,this.errors=[]}function d(e,t,n){this.file=e,this.line=t,this.message=n}function h(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function g(e,t){var n,r=e.split("\n"),i=1,o=0,a={unknown:new l,0:new l};a.unknown.name=a[0].name=t||h(),a.unknown.lines.push(new f(0,""));for(var s=0;s<r.length;++s){var u=r[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(c)switch(c[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(c[2]);d&&(i=0|d[1],d[2]&&((o=0|d[2])in a||(a[o]=new l)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);p&&(a[o].name=p[1]?(n=p[2],"undefined"!==typeof atob?atob(n):"base64:"+n):p[2])}a[o].lines.push(new f(i++,u))}return Object.keys(a).forEach(function(e){var t=a[e];t.lines.forEach(function(e){t.index[e.number]=e})}),a}function v(e){e._commandRef=h()}function m(e,t){var n=p();r(e+" in command "+(t||h())+("unknown"===n?"":" called from "+n))}function y(e,t,n,r){a(e,t)||m("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||h())}var b=33071,x=9728,_=9984,w=9985,E=9986,S=9987,O=5126,k=32819,M=32820,C=33635,A=34042,j={};function T(e,t){return e===M||e===k||e===C?2:e===A?4:j[e]*t}function I(e){return!(e&e-1)&&!!e}j[5120]=j[5121]=1,j[5122]=j[5123]=j[36193]=j[C]=j[k]=j[M]=2,j[5124]=j[5125]=j[O]=j[A]=4;var N=t(i,{optional:function(e){e()},raise:r,commandRaise:m,command:function(e,t,n){e||m(t,n||h())},parameter:function(e,t,n){e in t||r("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,n,r){e in t||m("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join(),r||h())},constructor:function(e){Object.keys(e).forEach(function(e){u.indexOf(e)<0&&r('invalid regl constructor argument "'+e+'". must be one of '+u)})},type:function(e,t,n){a(e,t)||r("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e)},commandType:y,isTypedArray:function(t,n){e(t)||r("invalid parameter type"+o(n)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||r("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")},oneOf:s,shaderError:function(e,t,r,o,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=o===e.FRAGMENT_SHADER?"fragment":"vertex";y(r,"string",u+" shader source must be a string",a);var l=g(r,a),f=function(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new d(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new d("unknown",0,e))}}),t}(s);!function(e,t){t.forEach(function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}(l,f),Object.keys(l).forEach(function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){o(c(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];switch(i=a[2],s){case"assign":s="="}t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(c("| ",6)),o(c("^^^",t+3)+n,"font-weight:bold"),o(c("| ",6)),o(i+n,"font-weight:bold")}),o(c("| ",6)+n)}else o(c(e.number,4)+"|  "),o(e.line+n,"color:red")}),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}}),i.raise("Error compiling "+u+" shader, "+l[0].name)}},linkError:function(e,t,r,o,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=g(r,a),c=g(o,a),l='Error linking program with vertex shader, "'+c[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+s),i.raise(l)}},callSite:p,saveCommandRef:v,saveDrawInfo:function(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}v(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,n){e.texture?s(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):s(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:h,texture2D:function(e,t,n){var r,o=t.width,a=t.height,s=t.channels;i(o>0&&o<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),(e.wrapS!==b||e.wrapT!==b)&&i(I(o)&&I(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==o&&1!==a&&i(e.minFilter!==_&&e.minFilter!==E&&e.minFilter!==w&&e.minFilter!==S,"min filter requires mipmap"):(i(I(o)&&I(a),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),t.type===O&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===x&&e.magFilter===x,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var c=o>>r,l=a>>r;i(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(i(f.width===c&&f.height===l,"invalid shape for mip images"),i(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(T(f.type,s)*c/f.unpackAlignment)*f.unpackAlignment;i(f.data.byteLength===d*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||i(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,r){var o=e.width,a=e.height,s=e.channels;i(o>0&&o<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),i(o===a,"cube map must be square"),i(t.wrapS===b&&t.wrapT===b,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];i(c.width===o&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(i(!c.compressed,"can not generate mipmap for compressed textures"),i(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var d=l[f];if(d){var h=o>>f,p=a>>f;i(c.mipmask&1<<f,"missing mipmap data"),i(d.width===h&&d.height===p,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===h*p*Math.max(T(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),P=0,D=0,L=5,R=6;function B(e,t){this.id=P++,this.type=e,this.data=t}function F(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function z(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(t.length>1&&n===r&&('"'===n||"'"===n))return['"'+F(t.substr(1,t.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(i)return e(t.substr(0,i.index)).concat(e(i[1])).concat(e(t.substr(i.index+i[0].length)));var o=t.split(".");if(1===o.length)return['"'+F(t)+'"'];for(var a=[],s=0;s<o.length;++s)a=a.concat(e(o[s]));return a}(e).join("][")+"]"}var G={DynamicVariable:B,define:function(e,t){return new B(e,z(t+""))},isDynamic:function(e){return"function"===typeof e&&!e._reglType||e instanceof B},unbox:function e(t,n){return"function"===typeof t?new B(D,t):"number"===typeof t||"boolean"===typeof t?new B(L,t):Array.isArray(t)?new B(R,t.map(function(t,r){return e(t,n+"["+r+"]")})):t instanceof B?t:void N(!1,"invalid option type in uniform "+n)},accessor:z},U={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},V="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function W(e){return"string"===typeof e?e.split():(N(Array.isArray(e),"invalid extension array"),e)}function Y(e){return"string"===typeof e?(N("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function X(e){var n,r,i,o,a,s=e||{},u={},c=[],l=[],f="undefined"===typeof window?1:window.devicePixelRatio,d=!1,h=function(e){e&&N.raise(e)},p=function(){};if("string"===typeof s?(N("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),N(n,"invalid query string for element")):"object"===typeof s?"string"===typeof(a=s).nodeName&&"function"===typeof a.appendChild&&"function"===typeof a.getBoundingClientRect?n=s:function(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}(s)?i=(o=s).canvas:(N.constructor(s),"gl"in s?o=s.gl:"canvas"in s?i=Y(s.canvas):"container"in s&&(r=Y(s.container)),"attributes"in s&&(u=s.attributes,N.type(u,"object","invalid context attributes")),"extensions"in s&&(c=W(s.extensions)),"optionalExtensions"in s&&(l=W(s.optionalExtensions)),"onDone"in s&&(N.type(s.onDone,"function","invalid or missing onDone callback"),h=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(f=+s.pixelRatio,N(f>0,"invalid pixel ratio"))):N.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?i=n:r=n),!o){if(!i){N("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var g=function(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver(function(){setTimeout(a)})).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}}}(r||document.body,0,f);if(!g)return null;i=g.canvas,p=g.onDestroy}void 0===u.premultipliedAlpha&&(u.premultipliedAlpha=!0),o=function(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(i,u)}return o?{gl:o,canvas:i,container:r,extensions:c,optionalExtensions:l,pixelRatio:f,profile:d,onDone:h,onDestroy:p}:(p(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function H(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var q=5120,K=5121,Z=5122,Q=5123,$=5124,J=5125,ee=5126;function te(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function ne(){var e=H(8,function(){return[]});function t(t){var n=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),r=e[te(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[te(t.byteLength)>>2].push(t)}return{alloc:t,free:n,allocType:function(e,n){var r=null;switch(e){case q:r=new Int8Array(t(n),0,n);break;case K:r=new Uint8Array(t(n),0,n);break;case Z:r=new Int16Array(t(2*n),0,n);break;case Q:r=new Uint16Array(t(2*n),0,n);break;case $:r=new Int32Array(t(4*n),0,n);break;case J:r=new Uint32Array(t(4*n),0,n);break;case ee:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){n(e.buffer)}}}var re=ne();re.zero=ne();var ie=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(3553,a),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=e.createFramebuffer();if(e.bindFramebuffer(36160,s),e.framebufferTexture2D(36160,36064,3553,a,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var u=re.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),re.freeType(u)}}var c="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),l=!0;if(!c){var f=e.createTexture(),d=re.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,f),e.texImage2D(34069,0,6408,3,3,0,6408,5121,d),re.freeType(d),e.bindTexture(34067,null),e.deleteTexture(f),l=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:o,npotTextureCube:l}};function oe(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var ae=function(e){return Object.keys(e).map(function(t){return e[t]})},se={shape:function(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t},flatten:function(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||re.allocType(n,i);switch(t.length){case 0:break;case 1:!function(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}(e,t[0],a);break;case 2:!function(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}(e,t[0],t[1],a);break;case 3:ue(e,t[0],t[1],t[2],a,0);break;default:!function e(t,n,r,i,o){for(var a=1,s=r+1;s<n.length;++s)a*=n[s];var u=n[r];if(n.length-r===4){var c=n[r+1],l=n[r+2],f=n[r+3];for(s=0;s<u;++s)ue(t[s],c,l,f,i,o),o+=a}else for(s=0;s<u;++s)e(t[s],n,r+1,i,o),o+=a}(e,t,0,a,0)}return a}};function ue(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],c=0;c<n;++c)for(var l=u[c],f=0;f<r;++f)i[a++]=l[f]}var ce={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},le={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},fe={dynamic:35048,stream:35040,static:35044},de=se.flatten,he=se.shape,pe=35044,ge=35040,ve=5121,me=5126,ye=[];function be(e){return 0|ce[Object.prototype.toString.call(e)]}function xe(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function _e(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)e[s++]=t[i*u+o*c+a]}ye[5120]=1,ye[5122]=2,ye[5124]=4,ye[5121]=1,ye[5123]=2,ye[5125]=4,ye[5126]=4;var we={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ee=0,Se=1,Oe=4,ke=5120,Me=5121,Ce=5122,Ae=5123,je=5124,Te=5125,Ie=34963,Ne=35040,Pe=35044,De=new Float32Array(1),Le=new Uint32Array(De.buffer),Re=5123;function Be(e){for(var t=re.allocType(Re,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{De[0]=e[n];var r=Le[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function Fe(t){return Array.isArray(t)||e(t)}var ze=function(e){return!(e&e-1)&&!!e},Ge=34467,Ue=3553,Ve=34067,We=34069,Ye=6408,Xe=6406,He=6407,qe=6409,Ke=6410,Ze=32854,Qe=32855,$e=36194,Je=32819,et=32820,tt=33635,nt=34042,rt=6402,it=34041,ot=35904,at=35906,st=36193,ut=33776,ct=33777,lt=33778,ft=33779,dt=35986,ht=35987,pt=34798,gt=35840,vt=35841,mt=35842,yt=35843,bt=36196,xt=5121,_t=5123,wt=5125,Et=5126,St=10242,Ot=10243,kt=10497,Mt=33071,Ct=33648,At=10240,jt=10241,Tt=9728,It=9729,Nt=9984,Pt=9985,Dt=9986,Lt=9987,Rt=33170,Bt=4352,Ft=4353,zt=4354,Gt=34046,Ut=3317,Vt=37440,Wt=37441,Yt=37443,Xt=37444,Ht=33984,qt=[Nt,Dt,Pt,Lt],Kt=[0,qe,Ke,He,Ye],Zt={};function Qt(e){return"[object "+e+"]"}Zt[qe]=Zt[Xe]=Zt[rt]=1,Zt[it]=Zt[Ke]=2,Zt[He]=Zt[ot]=3,Zt[Ye]=Zt[at]=4;var $t=Qt("HTMLCanvasElement"),Jt=Qt("OffscreenCanvas"),en=Qt("CanvasRenderingContext2D"),tn=Qt("ImageBitmap"),nn=Qt("HTMLImageElement"),rn=Qt("HTMLVideoElement"),on=Object.keys(ce).concat([$t,Jt,en,tn,nn,rn]),an=[];an[xt]=1,an[Et]=4,an[st]=2,an[_t]=2,an[wt]=4;var sn=[];function un(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function cn(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!Fe(e[0]))}function ln(e){return Object.prototype.toString.call(e)}function fn(e){return ln(e)===$t}function dn(e){return ln(e)===Jt}function hn(e){if(!e)return!1;var t=ln(e);return on.indexOf(t)>=0||un(e)||cn(e)||oe(e)}function pn(e){return 0|ce[Object.prototype.toString.call(e)]}function gn(e,t){return re.allocType(e.type===st?Et:e.type,t)}function vn(e,t){e.type===st?(e.data=Be(t),re.freeType(t)):e.data=t}function mn(e,t,n,r,i,o){var a;if(a="undefined"!==typeof sn[e]?sn[e]:Zt[e]*an[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function yn(n,r,i,o,a,s,u){var c={"don't care":Bt,"dont care":Bt,nice:zt,fast:Ft},l={repeat:kt,clamp:Mt,mirror:Ct},f={nearest:Tt,linear:It},d=t({mipmap:Lt,"nearest mipmap nearest":Nt,"linear mipmap nearest":Pt,"nearest mipmap linear":Dt,"linear mipmap linear":Lt},f),h={none:0,browser:Xt},p={uint8:xt,rgba4:Je,rgb565:tt,"rgb5 a1":et},g={alpha:Xe,luminance:qe,"luminance alpha":Ke,rgb:He,rgba:Ye,rgba4:Ze,"rgb5 a1":Qe,rgb565:$e},v={};r.ext_srgb&&(g.srgb=ot,g.srgba=at),r.oes_texture_float&&(p.float32=p.float=Et),r.oes_texture_half_float&&(p.float16=p["half float"]=st),r.webgl_depth_texture&&(t(g,{depth:rt,"depth stencil":it}),t(p,{uint16:_t,uint32:wt,"depth stencil":nt})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":ut,"rgba s3tc dxt1":ct,"rgba s3tc dxt3":lt,"rgba s3tc dxt5":ft}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":dt,"rgba atc explicit alpha":ht,"rgba atc interpolated alpha":pt}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":gt,"rgb pvrtc 2bppv1":vt,"rgba pvrtc 4bppv1":mt,"rgba pvrtc 2bppv1":yt}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=bt);var m=Array.prototype.slice.call(n.getParameter(Ge));Object.keys(v).forEach(function(e){var t=v[e];m.indexOf(t)>=0&&(g[e]=t)});var y=Object.keys(g);i.textureFormats=y;var b=[];Object.keys(g).forEach(function(e){var t=g[e];b[t]=e});var x=[];Object.keys(p).forEach(function(e){var t=p[e];x[t]=e});var _=[];Object.keys(f).forEach(function(e){var t=f[e];_[t]=e});var w=[];Object.keys(d).forEach(function(e){var t=d[e];w[t]=e});var E=[];Object.keys(l).forEach(function(e){var t=l[e];E[t]=e});var S=y.reduce(function(e,t){var n=g[t];return n===qe||n===Xe||n===qe||n===Ke||n===rt||n===it||r.ext_srgb&&(n===ot||n===at)?e[n]=n:n===Qe||t.indexOf("rgba")>=0?e[n]=Ye:e[n]=He,e},{});function O(){this.internalformat=Ye,this.format=Ye,this.type=xt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Xt,this.width=0,this.height=0,this.channels=0}function k(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function M(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(N.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(N.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(N.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(N.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;N(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),N(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),N(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),N.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(N(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],N(s>0&&s<=4,"invalid number of channels"),u=!0),N(o>=0&&o<=i.maxTextureSize,"invalid width"),N(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,N(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,N(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,N(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,N(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var l=t.format;N(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),N.parameter(l,g,"invalid texture format");var f=e.internalformat=g[l];e.format=S[f],l in p&&("type"in t||(e.type=p[l])),l in v&&(e.compressed=!0),c=!0}!u&&c?e.channels=Zt[e.format]:u&&!c?e.channels!==Kt[e.format]&&(e.format=e.internalformat=Kt[e.channels]):c&&u&&N(e.channels===Zt[e.format],"number of channels inconsistent with specified format")}}function C(e){n.pixelStorei(Vt,e.flipY),n.pixelStorei(Wt,e.premultiplyAlpha),n.pixelStorei(Yt,e.colorSpace),n.pixelStorei(Ut,e.unpackAlignment)}function A(){O.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function j(t,n){var r=null;if(hn(n)?r=n:n&&(N.type(n,"object","invalid pixel data type"),M(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),hn(n.data)&&(r=n.data)),N(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){N(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,N(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==xt||(t.type=pn(r));else if(un(r))t.channels=t.channels||4,function(e,t){var n=t.length;switch(e.type){case xt:case _t:case wt:case Et:var r=re.allocType(e.type,n);r.set(t),e.data=r;break;case st:e.data=Be(t);break;default:N.raise("unsupported texture type, must specify a typed array")}}(t,r),t.alignment=1,t.needsFree=!0;else if(oe(r)){var u=r.data;Array.isArray(u)||t.type!==xt||(t.type=pn(u));var c,l,f,d,h,p,g=r.shape,v=r.stride;3===g.length?(f=g[2],p=v[2]):(N(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=g[0],l=g[1],d=v[0],h=v[1],t.alignment=1,t.width=c,t.height=l,t.channels=f,t.format=t.internalformat=Kt[f],t.needsFree=!0,function(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,c=gn(e,a*s*u),l=0,f=0;f<s;++f)for(var d=0;d<a;++d)for(var h=0;h<u;++h)c[l++]=t[n*d+r*f+i*h+o];vn(e,c)}(t,u,d,h,p,r.offset)}else if(fn(r)||dn(r)||ln(r)===en)fn(r)||dn(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return ln(e)===tn}(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(function(e){return ln(e)===nn}(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(function(e){return ln(e)===rn}(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(cn(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=Fe(r[0][0])?b||r[0][0].length:b||1;for(var x=se.shape(r),_=1,w=0;w<x.length;++w)_*=x[w];var E=gn(t,_);se.flatten(r,x,"",E),vn(t,E),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=Kt[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Et?N(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===st&&N(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function T(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,c=e.type,l=e.width,f=e.height;C(e),i?n.texImage2D(t,r,u,u,c,i):e.compressed?n.compressedTexImage2D(t,r,s,l,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,u,l,f,0,u,c,a||null)}function I(e,t,r,i,a){var s=e.element,u=e.data,c=e.internalformat,l=e.format,f=e.type,d=e.width,h=e.height;C(e),s?n.texSubImage2D(t,a,r,i,l,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,c,d,h,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,i,d,h,l,f,u)}var P=[];function D(){return P.pop()||new A}function L(e){e.needsFree&&re.freeType(e.data),A.call(e),P.push(e)}function R(){O.call(this),this.genMipmaps=!1,this.mipmapHint=Bt,this.mipmask=0,this.images=Array(16)}function B(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(hn(t))k(n=e.images[0]=D(),e),j(n,t),e.mipmask=1;else if(M(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)k(n=e.images[i]=D(),e),n.width>>=i,n.height>>=i,j(n,r[i]),e.mipmask|=1<<i;else k(n=e.images[0]=D(),e),j(n,t),e.mipmask=1;k(e,e.images[0]),!e.compressed||e.internalformat!==ut&&e.internalformat!==ct&&e.internalformat!==lt&&e.internalformat!==ft||N(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;T(n[r],t,r)}}var G=[];function U(){var e=G.pop()||new R;O.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&L(t[n]),t[n]=null;G.push(e)}function W(){this.minFilter=Tt,this.magFilter=Tt,this.wrapS=Mt,this.wrapT=Mt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Bt}function Y(e,t){if("min"in t){var n=t.min;N.parameter(n,d),e.minFilter=d[n],qt.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;N.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(N.parameter(s,l),o=a=l[s]):Array.isArray(s)&&(N.parameter(s[0],l),N.parameter(s[1],l),o=l[s[0]],a=l[s[1]])}else{if("wrapS"in t){var u=t.wrapS;N.parameter(u,l),o=l[u]}if("wrapT"in t){var h=t.wrapT;N.parameter(h,l),a=l[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;N("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":N.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":N(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:N.raise("invalid mipmap type")}!g||"min"in t||(e.minFilter=Nt)}}function X(e,t){n.texParameteri(t,jt,e.minFilter),n.texParameteri(t,At,e.magFilter),n.texParameteri(t,St,e.wrapS),n.texParameteri(t,Ot,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,Gt,e.anisotropic),e.genMipmaps&&(n.hint(Rt,e.mipmapHint),n.generateMipmap(t))}var H=0,q={},K=i.maxTextureUnits,Z=Array(K).map(function(){return null});function Q(e){O.call(this),this.mipmask=0,this.internalformat=Ye,this.id=H++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new W,u.profile&&(this.stats={size:0})}function $(e){n.activeTexture(Ht),n.bindTexture(e.target,e.texture)}function J(){var e=Z[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(Ue,null)}function ee(e){var t=e.texture;N(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(Ht+r),n.bindTexture(i,null),Z[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete q[e.id],s.textureCount--}return t(Q.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<K;++t){var r=Z[t];if(r){if(r.bindCount>0)continue;r.unit=-1}Z[t]=this,e=t;break}e>=K&&N.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<e+1&&(s.maxTextureUnits=e+1),this.unit=e,n.activeTexture(Ht+e),n.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ee(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(q).forEach(function(t){e+=q[t].stats.size}),e}),{create2D:function(e,t){var r=new Q(Ue);function o(e,t){var n=r.texInfo;W.call(n);var a=U();return"number"===typeof e?B(a,0|e,"number"===typeof t?0|t:0|e):e?(N.type(e,"object","invalid arguments to regl.texture"),Y(n,e),F(a,e)):B(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),N.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,$(r),z(a,Ue),X(n,Ue),J(),V(a),u.profile&&(r.stats.size=mn(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=_[n.magFilter],o.min=w[n.minFilter],o.wrapS=E[n.wrapS],o.wrapT=E[n.wrapT],o}return q[r.id]=r,s.textureCount++,o(e,t),o.subimage=function(e,t,n,i){N(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,c=D();return k(c,r),c.width=0,c.height=0,j(c,e),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,N(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),N(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),N(r.mipmask&1<<u,"missing mipmap data"),N(c.data||c.element||c.needsCopy,"missing image data"),$(r),I(c,Ue,a,s,u),J(),L(c),o},o.resize=function(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,$(r);for(var s=0;r.mipmask>>s;++s){var c=i>>s,l=a>>s;if(!c||!l)break;n.texImage2D(Ue,s,r.format,c,l,0,r.format,r.type,null)}return J(),u.profile&&(r.stats.size=mn(r.internalformat,r.type,i,a,!1,!1)),o},o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(e,t,r,o,a,c){var l=new Q(Ve);q[l.id]=l,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,o,a){var s,c=l.texInfo;for(W.call(c),s=0;s<6;++s)f[s]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],o),F(f[5],a);else if(Y(c,e),M(l,e),"faces"in e){var h=e.faces;for(N(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)N("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),k(f[s],l),F(f[s],h[s])}else for(s=0;s<6;++s)F(f[s],e);else N.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)B(f[s],p,p)}for(k(l,f[0]),i.npotTextureCube||N(ze(l.width)&&ze(l.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,N.textureCube(l,c,f,i),l.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,$(l),s=0;s<6;++s)z(f[s],We+s);for(X(c,Ve),J(),u.profile&&(l.stats.size=mn(l.internalformat,l.type,d.width,d.height,c.genMipmaps,!0)),d.format=b[l.internalformat],d.type=x[l.type],d.mag=_[c.magFilter],d.min=w[c.minFilter],d.wrapS=E[c.wrapS],d.wrapT=E[c.wrapT],s=0;s<6;++s)V(f[s]);return d}return d(e,t,r,o,a,c),d.subimage=function(e,t,n,r,i){N(!!t,"must specify image data"),N("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=D();return k(u,l),u.width=0,u.height=0,j(u,t),u.width=u.width||(l.width>>s)-o,u.height=u.height||(l.height>>s)-a,N(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),N(o>=0&&a>=0&&o+u.width<=l.width&&a+u.height<=l.height,"texture.subimage write out of bounds"),N(l.mipmask&1<<s,"missing mipmap data"),N(u.data||u.element||u.needsCopy,"missing image data"),$(l),I(u,We+e,o,a,s),J(),L(u),d},d.resize=function(e){var t=0|e;if(t!==l.width){d.width=l.width=t,d.height=l.height=t,$(l);for(var r=0;r<6;++r)for(var i=0;l.mipmask>>i;++i)n.texImage2D(We+r,i,l.format,t>>i,t>>i,0,l.format,l.type,null);return J(),u.profile&&(l.stats.size=mn(l.internalformat,l.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=l,u.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d},clear:function(){for(var e=0;e<K;++e)n.activeTexture(Ht+e),n.bindTexture(Ue,null),Z[e]=null;ae(q).forEach(ee),s.cubeCount=0,s.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<K;++e){var t=Z[e];t&&(t.bindCount=0,t.unit=-1,Z[e]=null)}ae(q).forEach(function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===Ue)n.texImage2D(Ue,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(We+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);X(e.texInfo,e.target)})},refresh:function(){for(var e=0;e<K;++e){var t=Z[e];t&&(t.bindCount=0,t.unit=-1,Z[e]=null),n.activeTexture(Ht+e),n.bindTexture(Ue,null),n.bindTexture(Ve,null)}}}}sn[Ze]=2,sn[Qe]=2,sn[$e]=2,sn[it]=4,sn[ut]=.5,sn[ct]=.5,sn[lt]=1,sn[ft]=1,sn[dt]=.5,sn[ht]=1,sn[pt]=1,sn[gt]=.5,sn[vt]=.25,sn[mt]=.5,sn[yt]=.25,sn[bt]=.5;var bn=36161,xn=32854,_n=[];function wn(e,t,n){return _n[e]*t*n}_n[xn]=2,_n[32855]=2,_n[36194]=2,_n[33189]=2,_n[36168]=1,_n[34041]=4,_n[35907]=4,_n[34836]=16,_n[34842]=8,_n[34843]=6;var En=function(e,t,n,r,i){var o={rgba4:xn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(o.srgba=35907),t.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),t.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach(function(e){var t=o[e];a[t]=e});var s=0,u={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=xn,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;N(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(bn,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach(function(t){e+=u[t].stats.size}),e}),{create:function(t,s){var l=new c(e.createRenderbuffer());function f(t,r){var s=0,u=0,c=xn;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;N(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(N.parameter(d.format,o,"invalid renderbuffer format"),c=o[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?N.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(N(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||u!==l.height||c!==l.format)return f.width=l.width=s,f.height=l.height=u,l.format=c,e.bindRenderbuffer(bn,l.renderbuffer),e.renderbufferStorage(bn,c,s,u),N(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=wn(l.format,l.width,l.height)),f.format=a[l.format],f}return u[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=function(t,r){var o=0|t,a=0|r||o;return o===l.width&&a===l.height?f:(N(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=o,f.height=l.height=a,e.bindRenderbuffer(bn,l.renderbuffer),e.renderbufferStorage(bn,l.format,o,a),N(0===e.getError(),"invalid render buffer format"),i.profile&&(l.stats.size=wn(l.format,l.width,l.height)),f)},f._reglType="renderbuffer",f._renderbuffer=l,i.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f},clear:function(){ae(u).forEach(l)},restore:function(){ae(u).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(bn,t.renderbuffer),e.renderbufferStorage(bn,t.format,t.width,t.height)}),e.bindRenderbuffer(bn,null)}}},Sn=36160,On=36161,kn=3553,Mn=34069,Cn=36064,An=36096,jn=36128,Tn=33306,In=36053,Nn=6402,Pn=[6407,6408],Dn=[];Dn[6408]=4,Dn[6407]=3;var Ln=[];Ln[5121]=1,Ln[5126]=4,Ln[36193]=2;var Rn=33189,Bn=36168,Fn=34041,zn=[32854,32855,36194,35907,34842,34843,34836],Gn={};Gn[In]="complete",Gn[36054]="incomplete attachment",Gn[36057]="incomplete dimensions",Gn[36055]="incomplete, missing attachment",Gn[36061]="unsupported";var Un=5126,Vn=34962;function Wn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Un,this.offset=0,this.stride=0,this.divisor=0}var Yn=35632,Xn=35633,Hn=35718,qn=35721,Kn=6408,Zn=5121,Qn=3333,$n=5126;function Jn(t,n,r,i,o,a,s){function u(u){var c;null===n.next?(N(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Zn):(N(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(N(c===Zn||c===$n,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===$n&&N(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):N(c===Zn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(u)?p=u:u&&(N.type(u,"object","invalid arguments to regl.read()"),l=0|u.x,f=0|u.y,N(l>=0&&l<i.framebufferWidth,"invalid x offset for regl.read"),N(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||i.framebufferWidth-l),h=0|(u.height||i.framebufferHeight-f),p=u.data||null),p&&(c===Zn?N(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===$n&&N(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),N(d>0&&d+l<=i.framebufferWidth,"invalid width for read pixels"),N(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var g=d*h*4;return p||(c===Zn?p=new Uint8Array(g):c===$n&&(p=p||new Float32Array(g))),N.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),N(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(Qn,4),t.readPixels(l,f,d,h,Kn,c,p),p}return function(e){return e&&"framebuffer"in e?function(e){var t;return n.setFBO({framebuffer:e.framebuffer},function(){t=u(e)}),t}(e):u(e)}}function er(e){return Array.prototype.slice.call(e)}function tr(e){return er(e).join("")}var nr="xyzw".split(""),rr=5121,ir=1,or=2,ar=0,sr=1,ur=2,cr=3,lr=4,fr=5,dr=6,hr="dither",pr="blend.enable",gr="blend.color",vr="blend.equation",mr="blend.func",yr="depth.enable",br="depth.func",xr="depth.range",_r="depth.mask",wr="colorMask",Er="cull.enable",Sr="cull.face",Or="frontFace",kr="lineWidth",Mr="polygonOffset.enable",Cr="polygonOffset.offset",Ar="sample.alpha",jr="sample.enable",Tr="sample.coverage",Ir="stencil.enable",Nr="stencil.mask",Pr="stencil.func",Dr="stencil.opFront",Lr="stencil.opBack",Rr="scissor.enable",Br="scissor.box",Fr="viewport",zr="profile",Gr="framebuffer",Ur="vert",Vr="frag",Wr="elements",Yr="primitive",Xr="count",Hr="offset",qr="instances",Kr="vao",Zr=Gr+"Width",Qr=Gr+"Height",$r=Fr+"Width",Jr=Fr+"Height",ei="drawingBufferWidth",ti="drawingBufferHeight",ni=[mr,vr,Pr,Dr,Lr,Tr,Fr,Br,Cr],ri=34962,ii=34963,oi=3553,ai=34067,si=2884,ui=3042,ci=3024,li=2960,fi=2929,di=3089,hi=32823,pi=32926,gi=32928,vi=5126,mi=35664,yi=35665,bi=35666,xi=5124,_i=35667,wi=35668,Ei=35669,Si=35670,Oi=35671,ki=35672,Mi=35673,Ci=35674,Ai=35675,ji=35676,Ti=35678,Ii=35680,Ni=4,Pi=1028,Di=1029,Li=2304,Ri=2305,Bi=32775,Fi=32776,zi=519,Gi=7680,Ui=0,Vi=1,Wi=32774,Yi=513,Xi=36160,Hi=36064,qi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ki=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Zi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Qi={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$i={frag:35632,vert:35633},Ji={cw:Li,ccw:Ri};function eo(t){return Array.isArray(t)||e(t)||oe(t)}function to(e){return e.sort(function(e,t){return e===Fr?-1:t===Fr?1:e<t?-1:1})}function no(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function ro(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function io(e){return new no(!1,!1,!1,e)}function oo(e,t){var n=e.type;if(n===ar){var r=e.data.length;return new no(!0,r>=1,r>=2,t)}if(n===lr){var i=e.data;return new no(i.thisDep,i.contextDep,i.propDep,t)}if(n===fr)return new no(!1,!1,!1,t);if(n===dr){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var c=e.data[u];if(c.type===sr)s=!0;else if(c.type===ur)a=!0;else if(c.type===cr)o=!0;else if(c.type===ar){o=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(s=!0)}else c.type===lr&&(o=o||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new no(o,a,s,t)}return new no(n===cr,n===ur,n===sr,t)}var ao=new no(!1,!1,!1,function(){});function so(e,n,r,i,o,a,s,u,c,l,f,d,h,p,g){var v=l.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Bi,m.max=Fi);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},_={},w=[],E={},S={};function O(e){return e.replace(".","_")}function k(e,t,n){var r=O(e);w.push(e),_[r]=x[r]=!!n,E[r]=t}function M(e,t,n){var r=O(e);w.push(e),Array.isArray(n)?(x[r]=n.slice(),_[r]=n.slice()):x[r]=_[r]=n,S[r]=t}k(hr,ci),k(pr,ui),M(gr,"blendColor",[0,0,0,0]),M(vr,"blendEquationSeparate",[Wi,Wi]),M(mr,"blendFuncSeparate",[Vi,Ui,Vi,Ui]),k(yr,fi,!0),M(br,"depthFunc",Yi),M(xr,"depthRange",[0,1]),M(_r,"depthMask",!0),M(wr,wr,[!0,!0,!0,!0]),k(Er,si),M(Sr,"cullFace",Di),M(Or,Or,Ri),M(kr,kr,1),k(Mr,hi),M(Cr,"polygonOffset",[0,0]),k(Ar,pi),k(jr,gi),M(Tr,"sampleCoverage",[1,!1]),k(Ir,li),M(Nr,"stencilMask",-1),M(Pr,"stencilFunc",[zi,0,-1]),M(Dr,"stencilOpSeparate",[Pi,Gi,Gi,Gi]),M(Lr,"stencilOpSeparate",[Di,Gi,Gi,Gi]),k(Rr,di),M(Br,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),M(Fr,Fr,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var C={gl:e,context:h,strings:n,next:_,current:x,draw:d,elements:a,buffer:o,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:u,extensions:r,timer:p,isBufferArgs:eo},A={primTypes:we,compareFuncs:Zi,blendFuncs:qi,blendEquations:m,stencilOps:Qi,glTypes:le,orientationType:Ji};N.optional(function(){C.isArrayLike=Fe}),b&&(A.backBuffer=[Di],A.drawBuffer=H(i.maxDrawbuffers,function(e){return 0===e?[0]:H(e,function(e){return Hi+e})}));var j=0;function T(){var e=function(){var e=0,n=[],r=[];function i(){var n=[],r=[];return t(function(){n.push.apply(n,er(arguments))},{def:function(){var t="v"+e++;return r.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,er(arguments)),n.push(";")),t},toString:function(){return tr([r.length>0?"var "+r.join(",")+";":"",tr(n)])}})}function o(){var e=i(),n=i(),r=e.toString,o=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t(function(){e.apply(e,er(arguments))},{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),s={};return{global:a,link:function(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o},block:i,proc:function(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var a=0;a<n;++a)i();var u=o(),c=u.toString;return s[e]=t(u,{arg:i,toString:function(){return tr(["function(",r.join(),"){",c(),"}"])}})},scope:o,cond:function(){var e=tr(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,er(arguments)),this},else:function(){return r.apply(r,er(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),tr(["if(",e,"){",i(),"}",t])}})},compile:function(){var e=['"use strict";',a,"return {"];Object.keys(s).forEach(function(t){e.push('"',t,'":',s[t].toString(),",")}),e.push("}");var t=tr(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}}}(),r=e.link,i=e.global;e.id=j++,e.batchId="0";var o=r(C),a=e.shared={props:"a0"};Object.keys(C).forEach(function(e){a[e]=i.def(o,".",e)}),N.optional(function(){e.CHECK=r(N),e.commandStr=N.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},A.invalidBlendCombinations=Ki});var s=e.next={},u=e.current={};Object.keys(S).forEach(function(e){Array.isArray(x[e])&&(s[e]=i.def(a.next,".",e),u[e]=i.def(a.current,".",e))});var c=e.constants={};Object.keys(A).forEach(function(e){c[e]=i.def(JSON.stringify(A[e]))}),e.invoke=function(t,n){switch(n.type){case ar:var i=["this",a.context,a.props,e.batchId];return t.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case sr:return t.def(a.props,n.data);case ur:return t.def(a.context,n.data);case cr:return t.def("this",n.data);case lr:return n.data.append(e,t),n.data.ref;case fr:return n.data.toString();case dr:return n.data.map(function(n){return e.invoke(t,n)})}},e.attribCache={};var f={};return e.scopeAttrib=function(e){var t=n.id(e);if(t in f)return f[t];var i=l.scope[t];i||(i=l.scope[t]=new v);var o=f[t]=r(i);return o},e}function I(e,t,s,c,d){var h=e.static,p=e.dynamic;N.optional(function(){var e=[Gr,Ur,Vr,Wr,Yr,Hr,Xr,qr,zr,Kr].concat(w);function t(t){Object.keys(t).forEach(function(t){N.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',d.commandStr)})}t(h),t(p)});var g=function(e,t){var n=e.static;if("string"===typeof n[Vr]&&"string"===typeof n[Ur]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)N("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}(e,t),b=function(e,t){var n=e.static,r=e.dynamic;if(Gr in n){var i=n[Gr];return i?(i=u.getFramebuffer(i),N.command(i,"invalid framebuffer object"),io(function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+Zr,n+".width"),t.set(o,"."+Qr,n+".height"),n})):io(function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Zr,r+"."+ei),t.set(r,"."+Qr,r+"."+ti),"null"})}if(Gr in r){var o=r[Gr];return oo(o,function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");N.optional(function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")}),t.set(i,".next",a);var s=r.context;return t.set(s,"."+Zr,a+"?"+a+".width:"+s+"."+ei),t.set(s,"."+Qr,a+"?"+a+".height:"+s+"."+ti),a})}return null}(e),x=function(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];N.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,c=0|o.x,l=0|o.y;return"width"in o?(a=0|o.width,N.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,N.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new no(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",Zr,"-",c));var i=s;return"height"in o||(i=t.def(n,".",Qr,"-",l)),[c,l,r,i]})}if(e in i){var f=i[e],d=oo(f,function(t,n){var r=t.invoke(n,f);N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)});var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Zr,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Qr,"-",a,")");return N.optional(function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)}),[o,a,s,u]});return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new no(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Zr),t.def(n,".",Qr)]}):null}var a=o(Fr);if(a){var s=a;a=new no(a.thisDep,a.contextDep,a.propDep,function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+$r,n[2]),t.set(r,"."+Jr,n[3]),n})}return{viewport:a,scissor_box:o(Br)}}(e,b,d),_=function(e,t){var n=e.static,r=e.dynamic,i=function(){if(Wr in n){var e=n[Wr];eo(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),N.command(e,"invalid elements",t.commandStr));var i=io(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null});return i.value=e,i}if(Wr in r){var o=r[Wr];return oo(o,function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),c=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return N.optional(function(){e.assert(c.else,"!"+a+"||"+s,"invalid elements")}),t.entry(c),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s})}return null}();function o(e,o){if(e in n){var a=0|n[e];return N.command(!o||a>=0,"invalid "+e,t.commandStr),io(function(e,t){return o&&(e.OFFSET=a),a})}if(e in r){var s=r[e];return oo(s,function(t,n){var r=t.invoke(n,s);return o&&(t.OFFSET=r,N.optional(function(){t.assert(n,r+">=0","invalid "+e)})),r})}return o&&i?io(function(e,t){return e.OFFSET="0",0}):null}var s=o(Hr,!0);return{elements:i,primitive:function(){if(Yr in n){var e=n[Yr];return N.commandParameter(e,we,"invalid primitve",t.commandStr),io(function(t,n){return we[e]})}if(Yr in r){var o=r[Yr];return oo(o,function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return N.optional(function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(we))}),t.def(n,"[",r,"]")})}return i?ro(i)?i.value?io(function(e,t){return t.def(e.ELEMENTS,".primType")}):io(function(){return Ni}):new no(i.thisDep,i.contextDep,i.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Ni)}):null}(),count:function(){if(Xr in n){var e=0|n[Xr];return N.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),io(function(){return e})}if(Xr in r){var o=r[Xr];return oo(o,function(e,t){var n=e.invoke(t,o);return N.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(i){if(ro(i)){if(i)return s?new no(s.thisDep,s.contextDep,s.propDep,function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return N.optional(function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")}),n}):io(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var a=io(function(){return-1});return N.optional(function(){a.MISSING=!0}),a}var u=new no(i.thisDep||s.thisDep,i.contextDep||s.contextDep,i.propDep||s.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")});return N.optional(function(){u.DYNAMIC=!0}),u}return null}(),instances:o(qr,!1),offset:s}}(e,d),E=function(e,t){var n=e.static,r=e.dynamic,o={};return w.forEach(function(e){var a=O(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=io(function(){return s})}else if(e in r){var u=r[e];o[a]=oo(u,function(e,t){return i(e,t,e.invoke(t,u))})}}switch(e){case Er:case pr:case hr:case Ir:case yr:case Rr:case Mr:case Ar:case jr:case _r:return s(function(n){return N.commandType(n,"boolean",e,t.commandStr),n},function(t,n,r){return N.optional(function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)}),r});case br:return s(function(n){return N.commandParameter(n,Zi,"invalid "+e,t.commandStr),Zi[n]},function(t,n,r){var i=t.constants.compareFuncs;return N.optional(function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Zi))}),n.def(i,"[",r,"]")});case xr:return s(function(e){return N.command(Fe(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]});case mr:return s(function(e){N.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return N.commandParameter(n,qi,a+".srcRGB",t.commandStr),N.commandParameter(r,qi,a+".srcAlpha",t.commandStr),N.commandParameter(i,qi,a+".dstRGB",t.commandStr),N.commandParameter(o,qi,a+".dstAlpha",t.commandStr),N.command(-1===Ki.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[qi[n],qi[i],qi[r],qi[o]]},function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return N.optional(function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(qi))}),s}N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),s=o("dst","RGB");N.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var u=n.def(i,"[",a,"]"),c=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),c,n.def(i,"[",o("dst","Alpha"),"]")]});case vr:return s(function(n){return"string"===typeof n?(N.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(N.commandParameter(n.rgb,m,e+".rgb",t.commandStr),N.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void N.commandRaise("invalid blend.equation",t.commandStr)},function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return N.optional(function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")}),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]});case gr:return s(function(e){return N.command(Fe(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),H(4,function(t){return+e[t]})},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),H(4,function(e){return t.def("+",n,"[",e,"]")})});case Nr:return s(function(e){return N.commandType(e,"number",a,t.commandStr),0|e},function(e,t,n){return N.optional(function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")}),t.def(n,"|0")});case Pr:return s(function(n){N.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return N.commandParameter(r,Zi,e+".cmp",t.commandStr),N.commandType(i,"number",e+".ref",t.commandStr),N.commandType(o,"number",e+".mask",t.commandStr),[Zi[r],i,o]},function(e,t,n){var r=e.constants.compareFuncs;return N.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Gi),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Dr:case Lr:return s(function(n){N.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return N.commandParameter(r,Qi,e+".fail",t.commandStr),N.commandParameter(i,Qi,e+".zfail",t.commandStr),N.commandParameter(o,Qi,e+".zpass",t.commandStr),[e===Lr?Di:Pi,Qi[r],Qi[i],Qi[o]]},function(t,n,r){var i=t.constants.stencilOps;function o(o){return N.optional(function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(Qi))}),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Gi)}return N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[e===Lr?Di:Pi,o("fail"),o("zfail"),o("zpass")]});case Cr:return s(function(e){N.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return N.commandType(n,"number",a+".factor",t.commandStr),N.commandType(r,"number",a+".units",t.commandStr),[n,r]},function(t,n,r){return N.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[n.def(r,".factor|0"),n.def(r,".units|0")]});case Sr:return s(function(e){var n=0;return"front"===e?n=Pi:"back"===e&&(n=Di),N.command(!!n,a,t.commandStr),n},function(e,t,n){return N.optional(function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),t.def(n,'==="front"?',Pi,":",Di)});case kr:return s(function(e){return N.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e},function(e,t,n){return N.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")}),n});case Or:return s(function(e){return N.commandParameter(e,Ji,a,t.commandStr),Ji[e]},function(e,t,n){return N.optional(function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(n+'==="cw"?'+Li+":"+Ri)});case wr:return s(function(e){return N.command(Fe(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,n){return N.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),H(4,function(e){return"!!"+n+"["+e+"]"})});case Tr:return s(function(e){N.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return N.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]},function(e,t,n){return N.optional(function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]})}}),o}(e,d),S=function(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);N.optional(function(){f.shader($i[e],t,N.guessCommand())});var r=io(function(){return t});return r.id=t,r}if(e in o){var a=o[e];return oo(a,function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return N.optional(function(){n(t.shared.shader,".shader(",$i[e],",",i,",",t.command,");")}),i})}return null}var s,u=a(Vr),c=a(Ur),l=null;return ro(u)&&ro(c)?(l=f.program(c.id,u.id,null,r),s=io(function(e,t){return e.link(l)})):s=new no(u&&u.thisDep||c&&c.thisDep,u&&u.contextDep||c&&c.contextDep,u&&u.propDep||c&&c.propDep,function(e,t){var n,r,i=e.shared.shader;n=u?u.append(e,t):t.def(i,".",Vr),r=c?c.append(e,t):t.def(i,".",Ur);var o=i+".program("+r+","+n;return N.optional(function(){o+=","+e.command}),t.def(o+")")}),{frag:u,vert:c,progVar:s,program:l}}(e,0,g);function k(e){var t=x[e];t&&(E[e]=t)}k(Fr),k(O(Br));var M=Object.keys(E).length>0,C={framebuffer:b,draw:_,shader:S,state:E,dirty:M,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(C.profile=function(e){var t,n=e.static,r=e.dynamic;if(zr in n){var i=!!n[zr];(t=io(function(e,t){return i})).enable=i}else if(zr in r){var o=r[zr];t=oo(o,function(e,t){return e.invoke(t,o)})}return t}(e),C.uniforms=function(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=io(function(){return o});else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=io(function(e){return e.link(o)}):"framebuffer"===a||"framebufferCube"===a?(N.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=io(function(e){return e.link(o.color[0])})):N.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else Fe(o)?r=io(function(t){return t.global.def("[",H(o.length,function(n){return N.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]}),"]")}):N.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=oo(t,function(e,n){return e.invoke(n,t)})}),i}(s,d),C.drawVAO=C.scopeVAO=function(e,t){var n=e.static,r=e.dynamic;if(Kr in n){var i=n[Kr];return null!==i&&null===l.getVAO(i)&&(i=l.createVAO(i)),io(function(e){return e.link(l.getVAO(i))})}if(Kr in r){var o=r[Kr];return oo(o,function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")})}return null}(e),!C.drawVAO&&S.program&&!g&&r.angle_instanced_arrays){var A=!0,j=S.program.attributes.map(function(e){var n=t.static[e];return A=A&&!!n,n});if(A&&j.length>0){var T=l.getVAO(l.createVAO(j));C.drawVAO=new no(null,null,null,function(e,t){return e.link(T)}),C.useVAO=!0}}return g?C.useVAO=!0:C.attributes=function(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach(function(e){var i=r[e],s=n.id(e),u=new v;if(eo(i))u.state=ir,u.buffer=o.getBuffer(o.create(i,ri,!1,!0)),u.type=0;else{var c=o.getBuffer(i);if(c)u.state=ir,u.buffer=c,u.type=0;else if(N.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var l=i.constant;u.buffer="null",u.state=or,"number"===typeof l?u.x=l:(N.command(Fe(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),nr.forEach(function(e,t){t<l.length&&(u[e]=l[t])}))}else{c=eo(i.buffer)?o.getBuffer(o.create(i.buffer,ri,!1,!0)):o.getBuffer(i.buffer),N.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;N.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;N.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;N.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,g=0;"type"in i&&(N.commandParameter(i.type,le,"invalid type for attribute "+e,t.commandStr),g=le[i.type]);var m=0|i.divisor;"divisor"in i&&(N.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),N.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),N.optional(function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(t){N.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)})}),u.buffer=c,u.state=ir,u.size=h,u.normalized=p,u.type=g||c.dtype,u.offset=f,u.stride=d,u.divisor=m}}a[e]=io(function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach(function(e){r[e]=u[e]}),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r})}),Object.keys(i).forEach(function(e){var t=i[e];a[e]=oo(t,function(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;N.optional(function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')});var c={isStream:r.def(!1)},l=new v;l.state=ir,Object.keys(l).forEach(function(e){c[e]=r.def(""+l[e])});var f=c.buffer,d=c.type;function h(e){r(c[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",c.isStream,"=true;",f,"=",u,".createStream(",ri,",",i,");",d,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",c.state,"=",or,";","if(typeof "+i+'.constant === "number"){',c[nr[0]],"=",i,".constant;",nr.slice(1).map(function(e){return c[e]}).join("="),"=0;","}else{",nr.map(function(e,t){return c[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"}).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",ri,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",c.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",f,");","}"),c})}),a}(t,d),C.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=io(function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=oo(t,function(e,n){return e.invoke(n,t)})}),r}(c),C}function P(e,t,n){var r=e.shared,i=r.context,o=e.scope();Object.keys(n).forEach(function(r){t.save(i,"."+r);var a=n[r],s=a.append(e,t);Array.isArray(s)?o(i,".",r,"=[",s.join(),"];"):o(i,".",r,"=",s,";")}),t(o)}function D(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,c=e.constants,l=c.drawBuffer,f=c.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Xi,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Xi,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function L(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,c=e.cond(s,".dirty");w.forEach(function(t){var r,l,f=O(t);if(!(f in n.state))if(f in a){r=a[f],l=o[f];var d=H(x[f].length,function(e){return c.def(r,"[",e,"]")});c(e.cond(d.map(function(e,t){return e+"!=="+l+"["+t+"]"}).join("||")).then(i,".",S[f],"(",d,");",d.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";"))}else{r=c.def(u,".",f);var h=e.cond(r,"!==",s,".",f);c(h),f in E?h(e.cond(r).then(i,".enable(",E[f],");").else(i,".disable(",E[f],");"),s,".",f,"=",r,";"):h(i,".",S[f],"(",r,");",s,".",f,"=",r,";")}}),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function R(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;to(Object.keys(n)).forEach(function(i){var u=n[i];if(!r||r(u)){var c=u.append(e,t);if(E[i]){var l=E[i];ro(u)?t(s,c?".enable(":".disable(",l,");"):t(e.cond(c).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(a,".",i,"=",c,";")}else if(Fe(c)){var f=o[i];t(s,".",S[i],"(",c,");",c.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";")}else t(s,".",S[i],"(",c,");",a,".",i,"=",c,";")}})}function B(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function F(e,t,n,r,i){var o,a,s,u=e.shared,c=e.stats,l=u.current,f=u.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(e){o=t.def(),e(o,"=",h(),";"),"string"===typeof i?e(c,".count+=",i,";"):e(c,".count++;"),p&&(r?(a=t.def(),e(a,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",c,");"))}function v(e){e(c,".cpuTime+=",h(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function m(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(d){if(ro(d))return void(d.enable?(g(t),v(t.exit),m("true")):m("false"));m(s=d.append(e,t))}else s=t.def(l,".profile");var y=e.block();g(y),t("if(",s,"){",y,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function z(e,t,n,r,i){var o=e.shared;r.forEach(function(r){var a,s=r.name,u=n.attributes[s];if(u){if(!i(u))return;a=u.append(e,t)}else{if(!i(ao))return;var c=e.scopeAttrib(s);N.optional(function(){e.assert(t,c+".state","missing attribute "+s)}),a={},Object.keys(new v).forEach(function(e){a[e]=t.def(c,".",e)})}!function(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),c=i.state,l=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",d.map(function(e){return u+"."+e+"!=="+i[e]}).join("||"),"){",a,".bindBuffer(",ri,",",l,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",d.map(function(e){return u+"."+e+"="+i[e]+";"}).join(""),"}"),y){var c=i.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",nr.map(function(e,t){return u+"."+e+"!=="+f[t]}).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",nr.map(function(e,t){return u+"."+e+"="+f[t]+";"}).join(""),"}")}c===ir?h():c===or?p():(t("if(",c,"===",ir,"){"),h(),t("}else{"),p(),t("}"))}(e.link(r),function(e){switch(e){case mi:case _i:case Oi:return 2;case yi:case wi:case ki:return 3;case bi:case Ei:case Mi:return 4;default:return 1}}(r.info.type),a)})}function U(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,c=0;c<i.length;++c){var l,f=i[c],d=f.name,h=f.info.type,p=r.uniforms[d],g=e.link(f),v=g+".location";if(p){if(!o(p))continue;if(ro(p)){var m=p.value;if(N.command(null!==m&&"undefined"!==typeof m,'missing uniform "'+d+'"',e.commandStr),h===Ti||h===Ii){N.command("function"===typeof m&&(h===Ti&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||h===Ii&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+d,e.commandStr);var y=e.link(m._texture||m.color[0]._texture);t(u,".uniform1i(",v,",",y+".bind());"),t.exit(y,".unbind();")}else if(h===Ci||h===Ai||h===ji){N.optional(function(){N.command(Fe(m),"invalid matrix for uniform "+d,e.commandStr),N.command(h===Ci&&4===m.length||h===Ai&&9===m.length||h===ji&&16===m.length,"invalid length for matrix uniform "+d,e.commandStr)});var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),x=2;h===Ai?x=3:h===ji&&(x=4),t(u,".uniformMatrix",x,"fv(",v,",false,",b,");")}else{switch(h){case vi:N.commandType(m,"number","uniform "+d,e.commandStr),a="1f";break;case mi:N.command(Fe(m)&&2===m.length,"uniform "+d,e.commandStr),a="2f";break;case yi:N.command(Fe(m)&&3===m.length,"uniform "+d,e.commandStr),a="3f";break;case bi:N.command(Fe(m)&&4===m.length,"uniform "+d,e.commandStr),a="4f";break;case Si:N.commandType(m,"boolean","uniform "+d,e.commandStr),a="1i";break;case xi:N.commandType(m,"number","uniform "+d,e.commandStr),a="1i";break;case Oi:case _i:N.command(Fe(m)&&2===m.length,"uniform "+d,e.commandStr),a="2i";break;case ki:case wi:N.command(Fe(m)&&3===m.length,"uniform "+d,e.commandStr),a="3i";break;case Mi:case Ei:N.command(Fe(m)&&4===m.length,"uniform "+d,e.commandStr),a="4i"}t(u,".uniform",a,"(",v,",",Fe(m)?Array.prototype.slice.call(m):m,");")}continue}l=p.append(e,t)}else{if(!o(ao))continue;l=t.def(s.uniforms,"[",n.id(d),"]")}h===Ti?(N(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):h===Ii&&(N(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),N.optional(function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){N(!Array.isArray(l),"must not specify an array type for uniform"),n("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(l)?N(l.length===t,"must have length "+t):n(s.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){N(!Array.isArray(l),"must not specify a value type"),n("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===oi?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case xi:r("number");break;case _i:i(2);break;case wi:i(3);break;case Ei:i(4);break;case vi:r("number");break;case mi:i(2);break;case yi:i(3);break;case bi:i(4);break;case Si:r("boolean");break;case Oi:i(2);break;case ki:i(3);break;case Mi:case Ci:i(4);break;case Ai:i(9);break;case ji:i(16);break;case Ti:o(oi);break;case Ii:o(ai)}});var _=1;switch(h){case Ti:case Ii:var w=t.def(l,"._texture");t(u,".uniform1i(",v,",",w,".bind());"),t.exit(w,".unbind();");continue;case xi:case Si:a="1i";break;case _i:case Oi:a="2i",_=2;break;case wi:case ki:a="3i",_=3;break;case Ei:case Mi:a="4i",_=4;break;case vi:a="1f";break;case mi:a="2f",_=2;break;case yi:a="3f",_=3;break;case bi:a="4f",_=4;break;case Ci:a="Matrix2fv";break;case Ai:a="Matrix3fv";break;case ji:a="Matrix4fv"}if(t(u,".uniform",a,"(",v,","),"M"===a.charAt(0)){var E=Math.pow(h-Ci+2,2),S=e.global.def("new Float32Array(",E,")");Array.isArray(l)?t("false,(",H(E,function(e){return S+"["+e+"]="+l[e]}),",",S,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",H(E,function(e){return S+"["+e+"]="+l+"["+e+"]"}),",",S,")")}else _>1?t(H(_,function(e){return Array.isArray(l)?l[e]:l+"["+e+"]"})):(N(!Array.isArray(l),"uniform value must not be an array"),t(l));t(");")}}function V(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw,u=function(){var i,u=s.elements,c=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),i=u.append(e,c)):i=c.def(a,".",Wr),i&&c("if("+i+")"+o+".bindBuffer("+ii+","+i+".buffer.buffer);"),i}();function c(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var l,f,d=c(Yr),h=c(Hr),p=function(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),N.optional(function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")})):(i=u.def(a,".",Xr),N.optional(function(){e.assert(u,i+">=0","missing vertex count")})),i}();if("number"===typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");y&&(l=c(qr),f=e.instancing);var g=u+".type",v=s.elements&&ro(s.elements);function m(){function e(){n(f,".drawElementsInstancedANGLE(",[d,p,g,h+"<<(("+g+"-"+rr+")>>1)",l],");")}function t(){n(f,".drawArraysInstancedANGLE(",[d,h,p,l],");")}u?v?e():(n("if(",u,"){"),e(),n("}else{"),t(),n("}")):t()}function b(){function e(){n(o+".drawElements("+[d,p,g,h+"<<(("+g+"-"+rr+")>>1)"]+");")}function t(){n(o+".drawArrays("+[d,h,p]+");")}u?v?e():(n("if(",u,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof l||l>=0)?"string"===typeof l?(n("if(",l,">0){"),m(),n("}else if(",l,"<0){"),b(),n("}")):m():b()}function W(e,t,n,r,i){var o=T(),a=o.proc("body",i);return N.optional(function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)}),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function Y(e,t,n,r){B(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),z(e,t,n,r.attributes,function(){return!0})),U(e,t,n,r.uniforms,function(){return!0}),V(e,t,t,n)}function X(e,t,n,r){function i(){return!0}e.batchId="a1",B(e,t),z(e,t,n,r.attributes,i),U(e,t,n,r.uniforms,i),V(e,t,t,n)}function q(e,t,n,r){B(e,t);var i=n.contextDep,o=t.def(),a=t.def();e.shared.props=a,e.batchId=o;var s=e.scope(),u=e.scope();function c(e){return e.contextDep&&i||e.propDep}function l(e){return!c(e)}if(t(s.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",u,"}",s.exit),n.needsContext&&P(e,u,n.context),n.needsFramebuffer&&D(e,u,n.framebuffer),R(e,u,n.state,c),n.profile&&c(n.profile)&&F(e,u,n,!1,!0),r)n.useVAO?n.drawVAO?c(n.drawVAO)?u(e.shared.vao,".setVAO(",n.drawVAO.append(e,u),");"):s(e.shared.vao,".setVAO(",n.drawVAO.append(e,s),");"):s(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(s(e.shared.vao,".setVAO(null);"),z(e,s,n,r.attributes,l),z(e,u,n,r.attributes,c)),U(e,s,n,r.uniforms,l),U(e,u,n,r.uniforms,c),V(e,s,u,n);else{var f=e.global.def("{}"),d=n.shader.progVar.append(e,u),h=u.def(d,".id"),p=u.def(f,"[",h,"]");u(e.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",f,"[",h,"]=",e.link(function(t){return W(X,e,n,t,2)}),"(",d,");}",p,".call(this,a0[",o,"],",o,");")}}function K(e,t,n){var r=t.static[n];if(r&&function(e){if("object"===typeof e&&!Fe(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(G.isDynamic(e[t[n]]))return!0;return!1}}(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,c=e.global.def("{}");o.forEach(function(t){var n=r[t];if(G.isDynamic(n)){"function"===typeof n&&(n=r[t]=G.unbox(n));var o=oo(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(c,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}}),t.dynamic[n]=new G.DynamicVariable(lr,{thisDep:a,contextDep:s,propDep:u,ref:c,append:function(e,t){o.forEach(function(n){var i=r[n];if(G.isDynamic(i)){var o=e.invoke(t,i);t(c,".",n,"=",o,";")}})}}),delete t.static[n]}}return{next:_,current:x,procs:function(){var e=T(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,c=s.next,l=s.current;o(l,".dirty=false;"),D(e,t),D(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",ri,",",d,".buffer.buffer);",u,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(E).forEach(function(r){var i=E[r],a=o.def(c,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",l,".",r,"=",a,";"),n(s),t("if(",a,"!==",l,".",r,"){",s,"}")}),Object.keys(S).forEach(function(r){var i,a,s=S[r],f=x[r],d=e.block();if(d(u,".",s,"("),Fe(f)){var h=f.length;i=e.global.def(c,".",r),a=e.global.def(l,".",r),d(H(h,function(e){return i+"["+e+"]"}),");",H(h,function(e){return a+"["+e+"]="+i+"["+e+"];"}).join("")),t("if(",H(h,function(e){return i+"["+e+"]!=="+a+"["+e+"]"}).join("||"),"){",d,"}")}else i=o.def(c,".",r),a=o.def(l,".",r),d(i,");",l,".",r,"=",i,";"),t("if(",i,"!==",a,"){",d,"}");n(d)}),e.compile()}(),compile:function(e,r,i,o,a){var s=T();s.stats=s.link(a),Object.keys(r.static).forEach(function(e){K(s,r,e)}),ni.forEach(function(t){K(s,e,t)});var u=I(e,r,i,o,s);return function(e,t){var n=e.proc("draw",1);B(e,n),P(e,n,t.context),D(e,n,t.framebuffer),L(e,n,t),R(e,n,t.state),F(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)Y(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link(function(n){return W(Y,e,t,n,1)}),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(s,u),function(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}P(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),to(Object.keys(t.state)).forEach(function(n){var o=t.state[n].append(e,r);Fe(o)?o.forEach(function(t,i){r.set(e.next[n],"["+i+"]",t)}):r.set(i.next,"."+n,o)}),F(e,r,t,!0,!0),[Wr,Hr,Xr,qr,Yr].forEach(function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))}),Object.keys(t.uniforms).forEach(function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)}),Object.keys(t.attributes).forEach(function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new v).forEach(function(e){r.set(o,"."+e,i[e])})}),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Ur),a(Vr),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}(s,u),function(e,t){var n=e.proc("batch",2);e.batchId="0",B(e,n);var r=!1,i=!0;Object.keys(t.context).forEach(function(e){r=r||t.context[e].propDep}),r||(P(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||D(e,n,o)):D(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),L(e,n,t),R(e,n,t.state,function(e){return!s(e)}),t.profile&&s(t.profile)||F(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)q(e,n,t,null);else{var c=u.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)q(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),d=n.def(l,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",l,"[",f,"]=",e.link(function(n){return W(q,e,t,n,2)}),"(",c,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(s,u),t(s.compile(),{destroy:function(){u.shader.program.destroy()}})}}}var uo=34918,co=34919,lo=35007,fo=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(e){n.push(e)}var i=[];function o(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function s(e){a.push(e)}var u=[];function c(e,t,n){var r=a.pop()||new o;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,u.push(r)}var l=[],f=[];return{beginQuery:function(e){var r=n.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(lo,r),i.push(r),c(i.length-1,i.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(lo)},pushScopeStats:c,update:function(){var e,n,o=i.length;if(0!==o){f.length=Math.max(f.length,o+1),l.length=Math.max(l.length,o+1),l[0]=0,f[0]=0;var a=0;for(e=0,n=0;n<i.length;++n){var c=i[n];t.ext_disjoint_timer_query.getQueryObjectEXT(c,co)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,uo),r(c)):i[e++]=c,l[n+1]=a,f[n+1]=e}for(i.length=e,e=0,n=0;n<u.length;++n){var d=u[n],h=d.startQueryIndex,p=d.endQueryIndex;d.sum+=l[p]-l[h];var g=f[h],v=f[p];v===g?(d.stats.gpuTime+=d.sum/1e6,s(d)):(d.startQueryIndex=g,d.endQueryIndex=v,u[e++]=d)}u.length=e}},getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},ho=16384,po=256,go=1024,vo=34962,mo="webglcontextlost",yo="webglcontextrestored",bo=1,xo=2,_o=3;function wo(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}return function(n){var r=X(n);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),s=function(e,t){var n={};function r(t){N.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)})}}}(i,r);if(!s)return null;var u=function(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}(),c={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},l=s.extensions,f=fo(i,l),d=V(),h=i.drawingBufferWidth,p=i.drawingBufferHeight,g={tick:0,time:0,viewportWidth:h,viewportHeight:p,framebufferWidth:h,framebufferHeight:p,drawingBufferWidth:h,drawingBufferHeight:p,pixelRatio:r.pixelRatio},v=ie(i,l),m=function(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=pe,this.byteLength=0,this.dimension=1,this.dtype=ve,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){f(this)};var u=[];function c(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function l(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||me,n.length>0)if(Array.isArray(n[0])){s=he(n);for(var l=1,f=1;f<s.length;++f)l*=s[f];t.dimension=l,u=de(n,s,t.dtype),c(t,u,r),a?t.persistentData=u:re.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var d=re.allocType(t.dtype,n.length);xe(d,n),c(t,d,r),a?t.persistentData=d:re.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||be(n[0])||me,u=de(n,[n.length,n[0].length],t.dtype),c(t,u,r),a?t.persistentData=u:re.freeType(u)):N.raise("invalid buffer data")}else if(e(n))t.dtype=i||be(n),t.dimension=o,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(oe(n)){s=n.shape;var h=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=h[0],y=0):2===s.length?(g=s[0],v=s[1],m=h[0],y=h[1]):N.raise("invalid shape"),t.dtype=i||be(n.data)||me,t.dimension=v;var b=re.allocType(t.dtype,g*v);_e(b,n.data,g,v,m,y,p),c(t,b,r),a?t.persistentData=b:re.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=ve,t.dimension=o,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):N.raise("invalid buffer data")}function f(e){n.bufferCount--,i(e);var r=e.buffer;N(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach(function(t){e+=a[t].stats.size}),e}),{create:function(i,o,u,c){n.bufferCount++;var d=new s(o);function h(n){var i=pe,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||oe(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(N.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(N(null===o||Array.isArray(o)||e(o)||oe(o),"invalid data for buffer"),o=n.data),"usage"in n&&(N.parameter(n.usage,fe,"invalid buffer usage"),i=fe[n.usage]),"type"in n&&(N.parameter(n.type,le,"invalid buffer type"),s=le[n.type]),"dimension"in n&&(N.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(N.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),d.bind(),o?l(d,o,i,s,u,c):(a&&t.bufferData(d.type,a,i),d.dtype=s||ve,d.usage=i,d.dimension=u,d.byteLength=a),r.profile&&(d.stats.size=d.byteLength*ye[d.dtype]),h}function p(e,n){N(n+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,n,e)}return a[d.id]=d,u||h(i),h._reglType="buffer",h._buffer=d,h.subdata=function(t,n){var r,i=0|(n||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=re.allocType(d.dtype,t.length);xe(o,t),p(o,i),re.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=he(t);var a=de(t,r,d.dtype);p(a,i),re.freeType(a)}else N.raise("invalid buffer data")}else if(oe(t)){r=t.shape;var s=t.stride,u=0,c=0,l=0,f=0;1===r.length?(u=r[0],c=1,l=s[0],f=0):2===r.length?(u=r[0],c=r[1],l=s[0],f=s[1]):N.raise("invalid shape");var g=Array.isArray(t.data)?d.dtype:be(t.data),v=re.allocType(g,u*c);_e(v,t.data,u,c,l,f,t.offset),p(v,i),re.freeType(v)}else N.raise("invalid data for buffer subdata");return h},r.profile&&(h.stats=d.stats),h.destroy=function(){f(d)},h},createStream:function(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),l(n,t,ge,0,1,!1),n},destroyStream:function(e){u.push(e)},clear:function(){ae(a).forEach(f),u.forEach(f)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:function(){ae(a).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:l}}(i,c,r,function(e){return y.destroyBuffer(e)}),y=function(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new Wn;var c=0,l={},f={Record:Wn,scope:{},state:s,currentVAO:null,targetVAO:null,restore:d()?function(){d()&&ae(l).forEach(function(e){e.refresh()})}:function(){},createVAO:function(t){var r=new p;function s(t){N(Array.isArray(t),"arguments to vertex array constructor must be an array"),N(t.length<a,"too many attributes"),N(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var c=0;c<t.length;++c){var l,f=t[c],d=u[c]=new Wn,h=f.data||f;Array.isArray(h)||e(h)||oe(h)?(r.buffers[c]&&(l=r.buffers[c],e(h)&&l._buffer.byteLength>=h.byteLength?l.subdata(h):(l.destroy(),r.buffers[c]=null)),r.buffers[c]||(l=r.buffers[c]=o.create(f,Vn,!1,!0)),d.buffer=o.getBuffer(l),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[c]=1):o.getBuffer(f)?(d.buffer=o.getBuffer(f),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(f.buffer)?(d.buffer=o.getBuffer(f.buffer),d.size=0|(+f.size||d.buffer.dimension),d.normalized=!!f.normalized||!1,"type"in f?(N.parameter(f.type,le,"invalid buffer type"),d.type=le[f.type]):d.type=d.buffer.dtype,d.offset=0|(f.offset||0),d.stride=0|(f.stride||0),d.divisor=0|(f.divisor||0),d.state=1,N(d.size>=1&&d.size<=4,"size must be between 1 and 4"),N(d.offset>=0,"invalid offset"),N(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),N(d.divisor>=0,"divisor must be positive"),N(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(N(c>0,"first attribute must not be a constant"),d.x=+f.x||0,d.y=+f.y||0,d.z=+f.z||0,d.w=+f.w||0,d.state=2):N(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)},getVAO:function(e){return"function"===typeof e&&e._vao?e._vao:null},destroyBuffer:function(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}},setVAO:d()?function(e){if(e!==f.currentVAO){var t=d();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}:function(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=h(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}},clear:d()?function(){ae(l).forEach(function(e){e.destroy()})}:function(){}};function d(){return n.oes_vertex_array_object}function h(){return n.angle_instanced_arrays}function p(){this.id=++c,this.attributes=[];var e=d();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var e=h(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Vn,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},p.prototype.refresh=function(){var e=d();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var e=d();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}l[this.id]&&(delete l[this.id],i.vaoCount-=1)},f}(i,l,v,c,m),b=function(t,n,r,i){var o={},a=0,s={uint8:Me,uint16:Ae};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Oe,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=Te),u.prototype.bind=function(){this.buffer.bind()};var c=[];function l(i,o,a,s,u,c,l){var f;if(i.buffer.bind(),o){var d=l;l||e(o)&&(!oe(o)||e(o.data))||(d=n.oes_element_index_uint?Te:Ae),r._initBuffer(i.buffer,o,a,d,3)}else t.bufferData(Ie,c,a),i.buffer.dtype=f||Me,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;if(f=l,!l){switch(i.buffer.dtype){case Me:case ke:f=Me;break;case Ae:case Ce:f=Ae;break;case Te:case je:f=Te;break;default:N.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,N(f!==Te||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===Ae?h>>=1:f===Te&&(h>>=2)),i.vertCount=h;var p=s;if(s<0){p=Oe;var g=i.buffer.dimension;1===g&&(p=Ee),2===g&&(p=Se),3===g&&(p=Oe)}i.primType=p}function f(e){i.elementsCount--,N(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,n){var o=r.create(null,Ie,!0),a=new u(o._buffer);function c(t){if(t)if("number"===typeof t)o(t),a.primType=Oe,a.vertCount=0|t,a.type=Me;else{var n=null,r=Pe,i=-1,u=-1,f=0,d=0;Array.isArray(t)||e(t)||oe(t)?n=t:(N.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,N(Array.isArray(n)||e(n)||oe(n),"invalid data for element buffer")),"usage"in t&&(N.parameter(t.usage,fe,"invalid element buffer usage"),r=fe[t.usage]),"primitive"in t&&(N.parameter(t.primitive,we,"invalid element buffer primitive"),i=we[t.primitive]),"count"in t&&(N("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(N.parameter(t.type,s,"invalid buffer type"),d=s[t.type]),"length"in t?f=0|t.length:(f=u,d===Ae||d===Ce?f*=2:d!==Te&&d!==je||(f*=4))),l(a,n,r,i,u,f,d)}else o(),a.primType=Oe,a.vertCount=0,a.type=Me;return c}return i.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return o.subdata(e,t),c},c.destroy=function(){f(a)},c},createStream:function(e){var t=c.pop();return t||(t=new u(r.create(null,Ie,!0,!1)._buffer)),l(t,e,Ne,-1,-1,0,0),t},destroyStream:function(e){c.push(e)},getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){ae(o).forEach(f)}}}(i,l,m,c),x=function(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,i){var s=t===Yn?o:a,u=s[r];if(!u){var c=n.str(r);u=e.createShader(t),e.shaderSource(u,c),e.compileShader(u),N.shaderError(e,u,c,t,i),s[r]=u}return u}var l={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,l,f=c(Yn,t.fragId),d=c(Xn,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),N.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var g=e.getProgramParameter(h,Hn);i.profile&&(t.stats.uniformsCount=g);var v=t.uniforms;for(a=0;a<g;++a)if(l=e.getActiveUniform(h,a))if(l.size>1)for(var m=0;m<l.size;++m){var y=l.name.replace("[0]","["+m+"]");u(v,new s(y,n.id(y),e.getUniformLocation(h,y),l))}else u(v,new s(l.name,n.id(l.name),e.getUniformLocation(h,l.name),l));var b=e.getProgramParameter(h,qn);i.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(l=e.getActiveAttrib(h,a))&&u(x,new s(l.name,n.id(l.name),e.getAttribLocation(h,l.name),l))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);ae(o).forEach(t),o={},ae(a).forEach(t),a={},f.forEach(function(t){e.deleteProgram(t.program)}),f.length=0,l={},r.shaderCount=0},program:function(n,i,s,u){N.command(n>=0,"missing vertex shader",s),N.command(i>=0,"missing fragment shader",s);var c=l[i];c||(c=l[i]={});var d=c[n];if(d&&(d.refCount++,!u))return d;var g=new h(i,n);return r.shaderCount++,p(g,s,u),d||(c[n]=g),f.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=f.indexOf(g);f.splice(t,1),r.shaderCount--}c[g.vertId].refCount<=0&&(e.deleteShader(a[g.vertId]),delete a[g.vertId],delete l[g.fragId][g.vertId]),Object.keys(l[g.fragId]).length||(e.deleteShader(o[g.fragId]),delete o[g.fragId],delete l[g.fragId])}})},restore:function(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map(function(e){return[e.location,e.name]}))},shader:c,frag:-1,vert:-1}}(i,u,c,r),_=yn(i,l,v,function(){S.procs.poll()},g,c,r),w=En(i,l,v,c,r),E=function(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);N(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;N(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(Sn,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(Sn,t,On,n.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=kn,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),N.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,N(t===kn)):"textureCube"===o?(n=i,N(t>=Mn&&t<Mn+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=On):N.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(kn,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(On,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var b=0,x={};function _(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function E(t){var n=t.framebuffer;N(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function S(t){var n;e.bindFramebuffer(Sn,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(Cn+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(Sn,Cn+n,kn,null,0);e.framebufferTexture2D(Sn,Tn,kn,null,0),e.framebufferTexture2D(Sn,An,kn,null,0),e.framebufferTexture2D(Sn,jn,kn,null,0),p(An,t.depthAttachment),p(jn,t.stencilAttachment),p(Tn,t.depthStencilAttachment);var o=e.checkFramebufferStatus(Sn);e.isContextLost()||o===In||N.raise("framebuffer configuration not supported, status = "+Gn[o]),e.bindFramebuffer(Sn,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function O(e,i){var o=new _;function f(e,t){var i;N(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,_="rgba",E="uint8",O=1,k=null,M=null,C=null,A=!1;if("number"===typeof e)a=0|e,d=0|t||a;else if(e){N.type(e,"object","invalid arguments for framebuffer");var j=e;if("shape"in j){var T=j.shape;N(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),a=T[0],d=T[1]}else"radius"in j&&(a=d=j.radius),"width"in j&&(a=j.width),"height"in j&&(d=j.height);("color"in j||"colors"in j)&&(b=j.color||j.colors,Array.isArray(b)&&N(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in j&&(O=0|j.colorCount,N(O>0,"invalid color buffer count")),"colorTexture"in j&&(x=!!j.colorTexture,_="rgba4"),"colorType"in j&&(E=j.colorType,x?(N(n.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),N(n.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(N(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),_="rgba16f"):"float"!==E&&"float32"!==E||(N(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),_="rgba32f"),N.oneOf(E,l,"invalid color type")),"colorFormat"in j&&(_=j.colorFormat,u.indexOf(_)>=0?x=!0:c.indexOf(_)>=0?x=!1:x?N.oneOf(j.colorFormat,u,"invalid color format for texture"):N.oneOf(j.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in j||"depthStencilTexture"in j)&&(A=!(!j.depthTexture&&!j.depthStencilTexture),N(!A||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"===typeof j.depth?p=j.depth:(k=j.depth,y=!1)),"stencil"in j&&("boolean"===typeof j.stencil?y=j.stencil:(M=j.stencil,p=!1)),"depthStencil"in j&&("boolean"===typeof j.depthStencil?p=y=j.depthStencil:(C=j.depthStencil,p=!1,y=!1))}else a=d=1;var I=null,P=null,D=null,L=null;if(Array.isArray(b))I=b.map(g);else if(b)I=[g(b)];else for(I=new Array(O),i=0;i<O;++i)I[i]=v(a,d,x,_,E);N(n.webgl_draw_buffers||I.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),N(I.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||I[0].width,d=d||I[0].height,k?P=g(k):p&&!y&&(P=v(a,d,A,"depth","uint32")),M?D=g(M):y&&!p&&(D=v(a,d,!1,"stencil","uint8")),C?L=g(C):!k&&!M&&y&&p&&(L=v(a,d,A,"depth stencil","depth stencil")),N(!!k+!!M+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(i=0;i<I.length;++i)if(h(I[i],a,d),N(!I[i]||I[i].texture&&Pn.indexOf(I[i].texture._texture.format)>=0||I[i].renderbuffer&&zn.indexOf(I[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),I[i]&&I[i].texture){var B=Dn[I[i].texture._texture.format]*Ln[I[i].texture._texture.type];null===R?R=B:N(R===B,"all color attachments much have the same number of bits per pixel.")}return h(P,a,d),N(!P||P.texture&&P.texture._texture.format===Nn||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Rn,"invalid depth attachment for framebuffer object"),h(D,a,d),N(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Bn,"invalid stencil attachment for framebuffer object"),h(L,a,d),N(!L||L.texture&&L.texture._texture.format===Fn||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Fn,"invalid depth-stencil attachment for framebuffer object"),w(o),o.width=a,o.height=d,o.colorAttachments=I,o.depthAttachment=P,o.stencilAttachment=D,o.depthStencilAttachment=L,f.color=I.map(m),f.depth=m(P),f.stencil=m(D),f.depthStencil=m(L),f.width=o.width,f.height=o.height,S(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:function(e,t){N(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,S(o),f},_reglType:"framebuffer",_framebuffer:o,destroy:function(){E(o),w(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof _)return t}return null},create:O,createCube:function(e){var o=Array(6);function a(e){var r;N(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},d=0,h=null,p="rgba",g="uint8",v=1;if("number"===typeof e)d=0|e;else if(e){N.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;N(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),N(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&N(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&N(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(v=0|m.colorCount,N(v>0,"invalid color buffer count")),"colorType"in m&&(N.oneOf(m.colorType,l,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,N.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(f.depth=m.depth),"stencil"in m&&(f.stencil=m.stencil),"depthStencil"in m&&(f.depthStencil=m.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(v);var b={radius:d,format:p,type:g};for(r=0;r<v;++r)c[r]=i.createCube(b)}for(f.color=Array(c.length),r=0;r<c.length;++r){var x=c[r];N("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,N(x.width===d&&x.height===d,"invalid cube map shape"),f.color[r]={target:Mn,data:c[r]}}for(r=0;r<6;++r){for(var _=0;_<c.length;++_)f.color[_].target=Mn+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=O(f)}return t(a,{width:d,height:d,color:c})}return a(e),t(a,{faces:o,resize:function(e){var t,n=0|e;if(N(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){o.forEach(function(e){e.destroy()})}})},clear:function(){ae(x).forEach(E)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,ae(x).forEach(function(t){t.framebuffer=e.createFramebuffer(),S(t)})}})}(i,l,v,_,w,c),S=so(i,u,l,v,m,b,0,E,{},y,x,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,f,r),O=Jn(i,E,S.procs.poll,g,o,l,v),k=S.next,M=i.canvas,C=[],A=[],j=[],T=[r.onDestroy],I=null;function P(){if(0===C.length)return f&&f.update(),void(I=null);I=U.next(P),q();for(var e=C.length-1;e>=0;--e){var t=C[e];t&&t(g,null,0)}i.flush(),f&&f.update()}function D(){!I&&C.length>0&&(I=U.next(P))}function L(){I&&(U.cancel(P),I=null)}function R(e){e.preventDefault(),a=!0,L(),A.forEach(function(e){e()})}function B(e){i.getError(),a=!1,s.restore(),x.restore(),m.restore(),_.restore(),w.restore(),E.restore(),y.restore(),f&&f.restore(),S.procs.refresh(),D(),j.forEach(function(e){e()})}function F(e){function n(e,t){var n={},r={};return Object.keys(e).forEach(function(i){var o=e[i];if(G.isDynamic(o))r[i]=G.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(G.isDynamic(o[a]))return void(r[i]=G.unbox(o,i));n[i]=o}}),{dynamic:r,static:n}}N(!!e,"invalid args to regl({...})"),N.type(e,"object","invalid args to regl({...})");var r=n(e.context||{},!0),i=n(e.uniforms||{},!0),o=n(e.attributes||{},!1),s=n(function(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}(e),!1),u={gpuTime:0,cpuTime:0,count:0},c=S.compile(s,o,i,r,u),l=c.draw,f=c.batch,d=c.scope,h=[];return t(function(e,t){var n;if(a&&N.raise("context lost"),"function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)d.call(this,null,t,n);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(n=0;n<e.length;++n)d.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return f.call(this,function(e){for(;h.length<e;)h.push(null);return h}(0|e),0|e)}else{if(!Array.isArray(e))return l.call(this,e);if(e.length)return f.call(this,e,e.length)}},{stats:u,destroy:function(){c.destroy()}})}M&&(M.addEventListener(mo,R,!1),M.addEventListener(yo,B,!1));var z=E.setFBO=F({framebuffer:G.define.call(null,bo,"framebuffer")});function W(e,t){var n=0;S.procs.poll();var r=t.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=ho),"depth"in t&&(i.clearDepth(+t.depth),n|=po),"stencil"in t&&(i.clearStencil(0|t.stencil),n|=go),N(!!n,"called regl.clear with no buffer specified"),i.clear(n)}function Y(e){return N.type(e,"function","regl.frame() callback must be a function"),C.push(e),D(),{cancel:function(){var t=wo(C,e);N(t>=0,"cannot cancel a frame twice"),C[t]=function e(){var t=wo(C,e);C[t]=C[C.length-1],C.length-=1,C.length<=0&&L()}}}}function H(){var e=k.viewport,t=k.scissor_box;e[0]=e[1]=t[0]=t[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=e[2]=t[2]=i.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=e[3]=t[3]=i.drawingBufferHeight}function q(){g.tick+=1,g.time=Z(),H(),S.procs.poll()}function K(){_.refresh(),H(),S.procs.refresh(),f&&f.update()}function Z(){return(V()-d)/1e3}K();var Q=t(F,{clear:function(e){if(N("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)z(t({framebuffer:e.framebuffer.faces[n]},e),W);else z(e,W);else W(null,e)},prop:G.define.bind(null,bo),context:G.define.bind(null,xo),this:G.define.bind(null,_o),draw:F({}),buffer:function(e){return m.create(e,vo,!1,!1)},elements:function(e){return b.create(e,!1)},texture:_.create2D,cube:_.createCube,renderbuffer:w.create,framebuffer:E.create,framebufferCube:E.createCube,vao:y.createVAO,attributes:o,frame:Y,on:function(e,t){var n;switch(N.type(t,"function","listener callback must be a function"),e){case"frame":return Y(t);case"lost":n=A;break;case"restore":n=j;break;case"destroy":n=T;break;default:N.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}},limits:v,hasExtension:function(e){return v.extensions.indexOf(e.toLowerCase())>=0},read:O,destroy:function(){C.length=0,L(),M&&(M.removeEventListener(mo,R),M.removeEventListener(yo,B)),x.clear(),E.clear(),w.clear(),_.clear(),b.clear(),m.clear(),y.clear(),f&&f.clear(),T.forEach(function(e){e()})},_gl:i,_refresh:K,poll:function(){q(),f&&f.update()},now:Z,stats:c});return r.onDone(null,Q),Q}}()},function(e,t,n){"use strict";var r={id:"1522921",name:"graphin",font_family:"graphin",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"4765721",name:"check-circle",font_class:"check-circle",unicode:"e77d",unicode_decimal:59261},{icon_id:"4765722",name:"CI",font_class:"CI",unicode:"e77e",unicode_decimal:59262},{icon_id:"4765723",name:"Dollar",font_class:"Dollar",unicode:"e77f",unicode_decimal:59263},{icon_id:"4765724",name:"compass",font_class:"compass",unicode:"e780",unicode_decimal:59264},{icon_id:"4765725",name:"close-circle",font_class:"close-circle",unicode:"e781",unicode_decimal:59265},{icon_id:"4765726",name:"frown",font_class:"frown",unicode:"e782",unicode_decimal:59266},{icon_id:"4765727",name:"info-circle",font_class:"info-circle",unicode:"e783",unicode_decimal:59267},{icon_id:"4765728",name:"left-circle",font_class:"left-circle",unicode:"e784",unicode_decimal:59268},{icon_id:"4765729",name:"down-circle",font_class:"down-circle",unicode:"e785",unicode_decimal:59269},{icon_id:"4765730",name:"EURO",font_class:"EURO",unicode:"e786",unicode_decimal:59270},{icon_id:"4765731",name:"copyright",font_class:"copyright",unicode:"e787",unicode_decimal:59271},{icon_id:"4765732",name:"minus-circle",font_class:"minus-circle",unicode:"e788",unicode_decimal:59272},{icon_id:"4765733",name:"meh",font_class:"meh",unicode:"e789",unicode_decimal:59273},{icon_id:"4765734",name:"plus-circle",font_class:"plus-circle",unicode:"e78a",unicode_decimal:59274},{icon_id:"4765735",name:"play-circle",font_class:"play-circle",unicode:"e78b",unicode_decimal:59275},{icon_id:"4765736",name:"question-circle",font_class:"question-circle",unicode:"e78c",unicode_decimal:59276},{icon_id:"4765737",name:"Pound",font_class:"Pound",unicode:"e78d",unicode_decimal:59277},{icon_id:"4765738",name:"right-circle",font_class:"right-circle",unicode:"e78e",unicode_decimal:59278},{icon_id:"4765739",name:"smile",font_class:"smile",unicode:"e78f",unicode_decimal:59279},{icon_id:"4765740",name:"trademark",font_class:"trademark",unicode:"e790",unicode_decimal:59280},{icon_id:"4765741",name:"time-circle",font_class:"time-circle",unicode:"e791",unicode_decimal:59281},{icon_id:"4765742",name:"time out",font_class:"timeout",unicode:"e792",unicode_decimal:59282},{icon_id:"4765743",name:"earth",font_class:"earth",unicode:"e793",unicode_decimal:59283},{icon_id:"4765744",name:"YUAN",font_class:"YUAN",unicode:"e794",unicode_decimal:59284},{icon_id:"4765745",name:"up-circle",font_class:"up-circle",unicode:"e795",unicode_decimal:59285},{icon_id:"4765746",name:"warning-circle",font_class:"warning-circle",unicode:"e796",unicode_decimal:59286},{icon_id:"4765811",name:"sync",font_class:"sync",unicode:"e797",unicode_decimal:59287},{icon_id:"4765812",name:"transaction",font_class:"transaction",unicode:"e798",unicode_decimal:59288},{icon_id:"4765837",name:"undo",font_class:"undo",unicode:"e799",unicode_decimal:59289},{icon_id:"4765838",name:"redo",font_class:"redo",unicode:"e79a",unicode_decimal:59290},{icon_id:"4765852",name:"reload",font_class:"reload",unicode:"e79b",unicode_decimal:59291},{icon_id:"4765853",name:"reload time",font_class:"reloadtime",unicode:"e79c",unicode_decimal:59292},{icon_id:"4765866",name:"message",font_class:"message",unicode:"e79d",unicode_decimal:59293},{icon_id:"4765881",name:"dashboard",font_class:"dashboard",unicode:"e79e",unicode_decimal:59294},{icon_id:"4765886",name:"issues close",font_class:"issuesclose",unicode:"e79f",unicode_decimal:59295},{icon_id:"4765887",name:"poweroff",font_class:"poweroff",unicode:"e7a0",unicode_decimal:59296},{icon_id:"4765888",name:"logout",font_class:"logout",unicode:"e7a1",unicode_decimal:59297},{icon_id:"4765890",name:"pie chart",font_class:"piechart",unicode:"e7a2",unicode_decimal:59298},{icon_id:"4765891",name:"setting",font_class:"setting",unicode:"e7a3",unicode_decimal:59299},{icon_id:"4765896",name:"eye",font_class:"eye",unicode:"e7a4",unicode_decimal:59300},{icon_id:"4765897",name:"location",font_class:"location",unicode:"e7a5",unicode_decimal:59301},{icon_id:"4765957",name:"edit-square",font_class:"edit-square",unicode:"e7a6",unicode_decimal:59302},{icon_id:"4765958",name:"export",font_class:"export",unicode:"e7a7",unicode_decimal:59303},{icon_id:"4765959",name:"save",font_class:"save",unicode:"e7a8",unicode_decimal:59304},{icon_id:"4765960",name:"Import",font_class:"Import",unicode:"e7a9",unicode_decimal:59305},{icon_id:"4765962",name:"app store",font_class:"appstore",unicode:"e7aa",unicode_decimal:59306},{icon_id:"4765964",name:"close-square",font_class:"close-square",unicode:"e7ab",unicode_decimal:59307},{icon_id:"4765965",name:"down-square",font_class:"down-square",unicode:"e7ac",unicode_decimal:59308},{icon_id:"4765966",name:"layout",font_class:"layout",unicode:"e7ad",unicode_decimal:59309},{icon_id:"4765967",name:"left-square",font_class:"left-square",unicode:"e7ae",unicode_decimal:59310},{icon_id:"4765968",name:"play-square",font_class:"play-square",unicode:"e7af",unicode_decimal:59311},{icon_id:"4765969",name:"control",font_class:"control",unicode:"e7b0",unicode_decimal:59312},{icon_id:"4765970",name:"code library",font_class:"codelibrary",unicode:"e7b1",unicode_decimal:59313},{icon_id:"4765971",name:"detail",font_class:"detail",unicode:"e7b2",unicode_decimal:59314},{icon_id:"4765972",name:"minus-square",font_class:"minus-square",unicode:"e7b3",unicode_decimal:59315},{icon_id:"4765973",name:"plus-square",font_class:"plus-square",unicode:"e7b4",unicode_decimal:59316},{icon_id:"4765974",name:"right-square",font_class:"right-square",unicode:"e7b5",unicode_decimal:59317},{icon_id:"4765975",name:"project",font_class:"project",unicode:"e7b6",unicode_decimal:59318},{icon_id:"4765976",name:"wallet",font_class:"wallet",unicode:"e7b7",unicode_decimal:59319},{icon_id:"4765977",name:"up-square",font_class:"up-square",unicode:"e7b8",unicode_decimal:59320},{icon_id:"4765978",name:"calculator",font_class:"calculator",unicode:"e7b9",unicode_decimal:59321},{icon_id:"4766245",name:"interation",font_class:"interation",unicode:"e7ba",unicode_decimal:59322},{icon_id:"4766253",name:"check-square",font_class:"check-square",unicode:"e7bb",unicode_decimal:59323},{icon_id:"4766265",name:"border",font_class:"border",unicode:"e7bc",unicode_decimal:59324},{icon_id:"4766266",name:"border-outer",font_class:"border-outer",unicode:"e7bd",unicode_decimal:59325},{icon_id:"4766268",name:"border-top",font_class:"border-top",unicode:"e7be",unicode_decimal:59326},{icon_id:"4766269",name:"border-bottom",font_class:"border-bottom",unicode:"e7bf",unicode_decimal:59327},{icon_id:"4766270",name:"border-left",font_class:"border-left",unicode:"e7c0",unicode_decimal:59328},{icon_id:"4766271",name:"border-right",font_class:"border-right",unicode:"e7c1",unicode_decimal:59329},{icon_id:"4766276",name:"border-inner",font_class:"border-inner",unicode:"e7c2",unicode_decimal:59330},{icon_id:"4766277",name:"border-verticle",font_class:"border-verticle",unicode:"e7c3",unicode_decimal:59331},{icon_id:"4766278",name:"border-horizontal",font_class:"border-horizontal",unicode:"e7c4",unicode_decimal:59332},{icon_id:"4766282",name:"radius-bottomleft",font_class:"radius-bottomleft",unicode:"e7c5",unicode_decimal:59333},{icon_id:"4766283",name:"radius-bottomright",font_class:"radius-bottomright",unicode:"e7c6",unicode_decimal:59334},{icon_id:"4766284",name:"radius-upleft",font_class:"radius-upleft",unicode:"e7c7",unicode_decimal:59335},{icon_id:"4766285",name:"radius-upright",font_class:"radius-upright",unicode:"e7c8",unicode_decimal:59336},{icon_id:"4766286",name:"radius-setting",font_class:"radius-setting",unicode:"e7c9",unicode_decimal:59337},{icon_id:"4766289",name:"add user",font_class:"adduser",unicode:"e7ca",unicode_decimal:59338},{icon_id:"4766290",name:"delete team",font_class:"deleteteam",unicode:"e7cb",unicode_decimal:59339},{icon_id:"4766291",name:"delete user",font_class:"deleteuser",unicode:"e7cc",unicode_decimal:59340},{icon_id:"4766292",name:"addteam",font_class:"addteam",unicode:"e7cd",unicode_decimal:59341},{icon_id:"4766293",name:"user",font_class:"user",unicode:"e7ce",unicode_decimal:59342},{icon_id:"4766294",name:"team",font_class:"team",unicode:"e7cf",unicode_decimal:59343},{icon_id:"4766297",name:"area chart",font_class:"areachart",unicode:"e7d0",unicode_decimal:59344},{icon_id:"4766298",name:"line chart",font_class:"linechart",unicode:"e7d1",unicode_decimal:59345},{icon_id:"4766299",name:"bar chart",font_class:"barchart",unicode:"e7d2",unicode_decimal:59346},{icon_id:"4766300",name:"point map",font_class:"pointmap",unicode:"e7d3",unicode_decimal:59347},{icon_id:"4766438",name:"container",font_class:"container",unicode:"e7d4",unicode_decimal:59348},{icon_id:"4766439",name:"database",font_class:"database",unicode:"e7d5",unicode_decimal:59349},{icon_id:"4766440",name:"sever",font_class:"sever",unicode:"e7d6",unicode_decimal:59350},{icon_id:"4766451",name:"mobile",font_class:"mobile",unicode:"e7d7",unicode_decimal:59351},{icon_id:"4766452",name:"tablet",font_class:"tablet",unicode:"e7d8",unicode_decimal:59352},{icon_id:"4766453",name:"red envelope",font_class:"redenvelope",unicode:"e7d9",unicode_decimal:59353},{icon_id:"4766454",name:"book",font_class:"book",unicode:"e7da",unicode_decimal:59354},{icon_id:"4766459",name:"file done",font_class:"filedone",unicode:"e7db",unicode_decimal:59355},{icon_id:"4766460",name:"reconciliation",font_class:"reconciliation",unicode:"e7dc",unicode_decimal:59356},{icon_id:"4766461",name:"file -exception",font_class:"file-exception",unicode:"e7dd",unicode_decimal:59357},{icon_id:"4766462",name:"file sync",font_class:"filesync",unicode:"e7de",unicode_decimal:59358},{icon_id:"4766463",name:"file search",font_class:"filesearch",unicode:"e7df",unicode_decimal:59359},{icon_id:"4766464",name:"solution",font_class:"solution",unicode:"e7e0",unicode_decimal:59360},{icon_id:"4766465",name:"file protect",font_class:"fileprotect",unicode:"e7e1",unicode_decimal:59361},{icon_id:"4766468",name:"file-add",font_class:"file-add",unicode:"e7e2",unicode_decimal:59362},{icon_id:"4766469",name:"file-excel",font_class:"file-excel",unicode:"e7e3",unicode_decimal:59363},{icon_id:"4766470",name:"file-exclamation",font_class:"file-exclamation",unicode:"e7e4",unicode_decimal:59364},{icon_id:"4766472",name:"file-pdf",font_class:"file-pdf",unicode:"e7e5",unicode_decimal:59365},{icon_id:"4766473",name:"file-image",font_class:"file-image",unicode:"e7e6",unicode_decimal:59366},{icon_id:"4766474",name:"file-markdown",font_class:"file-markdown",unicode:"e7e7",unicode_decimal:59367},{icon_id:"4766475",name:"file-unknown",font_class:"file-unknown",unicode:"e7e8",unicode_decimal:59368},{icon_id:"4766476",name:"file-ppt",font_class:"file-ppt",unicode:"e7e9",unicode_decimal:59369},{icon_id:"4766477",name:"file-word",font_class:"file-word",unicode:"e7ea",unicode_decimal:59370},{icon_id:"4766478",name:"file",font_class:"file",unicode:"e7eb",unicode_decimal:59371},{icon_id:"4766479",name:"file-zip",font_class:"file-zip",unicode:"e7ec",unicode_decimal:59372},{icon_id:"4766480",name:"file-text",font_class:"file-text",unicode:"e7ed",unicode_decimal:59373},{icon_id:"4766481",name:"file-copy",font_class:"file-copy",unicode:"e7ee",unicode_decimal:59374},{icon_id:"4766482",name:"snippets",font_class:"snippets",unicode:"e7ef",unicode_decimal:59375},{icon_id:"4766507",name:"audit",font_class:"audit",unicode:"e7f0",unicode_decimal:59376},{icon_id:"4766508",name:"diff",font_class:"diff",unicode:"e7f1",unicode_decimal:59377},{icon_id:"4766509",name:"Batch folding",font_class:"Batchfolding",unicode:"e7f2",unicode_decimal:59378},{icon_id:"4766511",name:"security scan",font_class:"securityscan",unicode:"e7f3",unicode_decimal:59379},{icon_id:"4766512",name:"property safety",font_class:"propertysafety",unicode:"e7f4",unicode_decimal:59380},{icon_id:"4766513",name:"safety certificate",font_class:"safetycertificate",unicode:"e7f5",unicode_decimal:59381},{icon_id:"4766514",name:"insurance ",font_class:"insurance",unicode:"e7f6",unicode_decimal:59382},{icon_id:"4766675",name:"alert",font_class:"alert",unicode:"e7f7",unicode_decimal:59383},{icon_id:"4766676",name:"delete",font_class:"delete",unicode:"e7f8",unicode_decimal:59384},{icon_id:"4766677",name:"hourglass",font_class:"hourglass",unicode:"e7f9",unicode_decimal:59385},{icon_id:"4766678",name:"bulb",font_class:"bulb",unicode:"e7fa",unicode_decimal:59386},{icon_id:"4766679",name:"experiment",font_class:"experiment",unicode:"e7fb",unicode_decimal:59387},{icon_id:"4766680",name:"bell",font_class:"bell",unicode:"e7fc",unicode_decimal:59388},{icon_id:"4766681",name:"trophy",font_class:"trophy",unicode:"e7fd",unicode_decimal:59389},{icon_id:"4766682",name:"rest",font_class:"rest",unicode:"e7fe",unicode_decimal:59390},{icon_id:"4766683",name:"USB",font_class:"USB",unicode:"e7ff",unicode_decimal:59391},{icon_id:"4766684",name:"skin",font_class:"skin",unicode:"e800",unicode_decimal:59392},{icon_id:"4766685",name:"home",font_class:"home",unicode:"e801",unicode_decimal:59393},{icon_id:"4766686",name:"bank",font_class:"bank",unicode:"e802",unicode_decimal:59394},{icon_id:"4766688",name:"filter",font_class:"filter",unicode:"e803",unicode_decimal:59395},{icon_id:"4766689",name:"funnel plot",font_class:"funnelplot",unicode:"e804",unicode_decimal:59396},{icon_id:"4766692",name:"like",font_class:"like",unicode:"e805",unicode_decimal:59397},{icon_id:"4766693",name:"unlike",font_class:"unlike",unicode:"e806",unicode_decimal:59398},{icon_id:"4766694",name:"unlock",font_class:"unlock",unicode:"e807",unicode_decimal:59399},{icon_id:"4766695",name:"lock",font_class:"lock",unicode:"e808",unicode_decimal:59400},{icon_id:"4766762",name:"customerservice",font_class:"customerservice",unicode:"e809",unicode_decimal:59401},{icon_id:"4766767",name:"flag",font_class:"flag",unicode:"e80a",unicode_decimal:59402},{icon_id:"4766773",name:"money collect",font_class:"moneycollect",unicode:"e80b",unicode_decimal:59403},{icon_id:"4766774",name:"medicinebox",font_class:"medicinebox",unicode:"e80c",unicode_decimal:59404},{icon_id:"4766775",name:"shop",font_class:"shop",unicode:"e80d",unicode_decimal:59405},{icon_id:"4766778",name:"rocket",font_class:"rocket",unicode:"e80e",unicode_decimal:59406},{icon_id:"4766779",name:"shopping",font_class:"shopping",unicode:"e80f",unicode_decimal:59407},{icon_id:"4766846",name:"folder",font_class:"folder",unicode:"e810",unicode_decimal:59408},{icon_id:"4766847",name:"folder-open",font_class:"folder-open",unicode:"e811",unicode_decimal:59409},{icon_id:"4766848",name:"folder-add",font_class:"folder-add",unicode:"e812",unicode_decimal:59410},{icon_id:"4766849",name:"deployment unit",font_class:"deploymentunit",unicode:"e813",unicode_decimal:59411},{icon_id:"4766854",name:"account book",font_class:"accountbook",unicode:"e814",unicode_decimal:59412},{icon_id:"4766855",name:"contacts",font_class:"contacts",unicode:"e815",unicode_decimal:59413},{icon_id:"4766856",name:"carry out",font_class:"carryout",unicode:"e816",unicode_decimal:59414},{icon_id:"4766857",name:"calendar-check",font_class:"calendar-check",unicode:"e817",unicode_decimal:59415},{icon_id:"4766858",name:"calendar",font_class:"calendar",unicode:"e818",unicode_decimal:59416},{icon_id:"4766861",name:"scan",font_class:"scan",unicode:"e819",unicode_decimal:59417},{icon_id:"4766862",name:"select",font_class:"select",unicode:"e81a",unicode_decimal:59418},{icon_id:"4766871",name:"box plot",font_class:"boxplot",unicode:"e81b",unicode_decimal:59419},{icon_id:"4766872",name:"build",font_class:"build",unicode:"e81c",unicode_decimal:59420},{icon_id:"4766874",name:"sliders",font_class:"sliders",unicode:"e81d",unicode_decimal:59421},{icon_id:"4766881",name:"laptop",font_class:"laptop",unicode:"e81e",unicode_decimal:59422},{icon_id:"4766882",name:"barcode",font_class:"barcode",unicode:"e81f",unicode_decimal:59423},{icon_id:"4766883",name:"camera",font_class:"camera",unicode:"e820",unicode_decimal:59424},{icon_id:"4766884",name:"cluster",font_class:"cluster",unicode:"e821",unicode_decimal:59425},{icon_id:"4766885",name:"gateway",font_class:"gateway",unicode:"e822",unicode_decimal:59426},{icon_id:"4766886",name:"car",font_class:"car",unicode:"e823",unicode_decimal:59427},{icon_id:"4766887",name:"printer",font_class:"printer",unicode:"e824",unicode_decimal:59428},{icon_id:"4766888",name:"read",font_class:"read",unicode:"e825",unicode_decimal:59429},{icon_id:"4766900",name:"cloud-server",font_class:"cloud-server",unicode:"e826",unicode_decimal:59430},{icon_id:"4766901",name:"cloud-upload",font_class:"cloud-upload",unicode:"e827",unicode_decimal:59431},{icon_id:"4766902",name:"cloud",font_class:"cloud",unicode:"e828",unicode_decimal:59432},{icon_id:"4766903",name:"cloud-download",font_class:"cloud-download",unicode:"e829",unicode_decimal:59433},{icon_id:"4766904",name:"cloud-sync",font_class:"cloud-sync",unicode:"e82a",unicode_decimal:59434},{icon_id:"4766905",name:"video",font_class:"video",unicode:"e82b",unicode_decimal:59435},{icon_id:"4766906",name:"notification",font_class:"notification",unicode:"e82c",unicode_decimal:59436},{icon_id:"4766907",name:"sound",font_class:"sound",unicode:"e82d",unicode_decimal:59437},{icon_id:"4766911",name:"radar chart",font_class:"radarchart",unicode:"e82e",unicode_decimal:59438},{icon_id:"4766912",name:"qrcode",font_class:"qrcode",unicode:"e82f",unicode_decimal:59439},{icon_id:"4766916",name:"fund",font_class:"fund",unicode:"e830",unicode_decimal:59440},{icon_id:"4766917",name:"image",font_class:"image",unicode:"e831",unicode_decimal:59441},{icon_id:"4766918",name:"mail",font_class:"mail",unicode:"e832",unicode_decimal:59442},{icon_id:"4766919",name:"table",font_class:"table",unicode:"e833",unicode_decimal:59443},{icon_id:"4766920",name:"id card",font_class:"idcard",unicode:"e834",unicode_decimal:59444},{icon_id:"4766921",name:"credit card",font_class:"creditcard",unicode:"e835",unicode_decimal:59445},{icon_id:"4766951",name:"heart",font_class:"heart",unicode:"e836",unicode_decimal:59446},{icon_id:"4766952",name:"block",font_class:"block",unicode:"e837",unicode_decimal:59447},{icon_id:"4766953",name:"error",font_class:"error",unicode:"e838",unicode_decimal:59448},{icon_id:"4766954",name:"star",font_class:"star",unicode:"e839",unicode_decimal:59449},{icon_id:"4766955",name:"gold",font_class:"gold",unicode:"e83a",unicode_decimal:59450},{icon_id:"4766956",name:"heat map",font_class:"heatmap",unicode:"e83b",unicode_decimal:59451},{icon_id:"4766957",name:"wifi",font_class:"wifi",unicode:"e83c",unicode_decimal:59452},{icon_id:"4766958",name:"attachment",font_class:"attachment",unicode:"e83d",unicode_decimal:59453},{icon_id:"4766959",name:"edit",font_class:"edit",unicode:"e83e",unicode_decimal:59454},{icon_id:"4766960",name:"key",font_class:"key",unicode:"e83f",unicode_decimal:59455},{icon_id:"4766961",name:"api",font_class:"api",unicode:"e840",unicode_decimal:59456},{icon_id:"4766962",name:"disconnect",font_class:"disconnect",unicode:"e841",unicode_decimal:59457},{icon_id:"4766963",name:"highlight",font_class:"highlight",unicode:"e842",unicode_decimal:59458},{icon_id:"4766964",name:"monitor",font_class:"monitor",unicode:"e843",unicode_decimal:59459},{icon_id:"4766965",name:"link",font_class:"link",unicode:"e844",unicode_decimal:59460},{icon_id:"4766966",name:"man",font_class:"man",unicode:"e845",unicode_decimal:59461},{icon_id:"4766967",name:"percentage",font_class:"percentage",unicode:"e846",unicode_decimal:59462},{icon_id:"4766969",name:"pushpin",font_class:"pushpin",unicode:"e847",unicode_decimal:59463},{icon_id:"4766970",name:"phone",font_class:"phone",unicode:"e848",unicode_decimal:59464},{icon_id:"4766971",name:"shake",font_class:"shake",unicode:"e849",unicode_decimal:59465},{icon_id:"4766972",name:"tag",font_class:"tag",unicode:"e84a",unicode_decimal:59466},{icon_id:"4766973",name:"wrench",font_class:"wrench",unicode:"e84b",unicode_decimal:59467},{icon_id:"4766975",name:"tags",font_class:"tags",unicode:"e84c",unicode_decimal:59468},{icon_id:"4766982",name:"scissor",font_class:"scissor",unicode:"e84d",unicode_decimal:59469},{icon_id:"4766984",name:"mr",font_class:"mr",unicode:"e84e",unicode_decimal:59470},{icon_id:"4766985",name:"share",font_class:"share",unicode:"e84f",unicode_decimal:59471},{icon_id:"4766986",name:"branches",font_class:"branches",unicode:"e850",unicode_decimal:59472},{icon_id:"4766995",name:"fork",font_class:"fork",unicode:"e851",unicode_decimal:59473},{icon_id:"4767006",name:"shrink",font_class:"shrink",unicode:"e852",unicode_decimal:59474},{icon_id:"4767007",name:"arrawsalt",font_class:"arrawsalt",unicode:"e853",unicode_decimal:59475},{icon_id:"4767009",name:"vertical right",font_class:"verticalright",unicode:"e854",unicode_decimal:59476},{icon_id:"4767010",name:"vertical left",font_class:"verticalleft",unicode:"e855",unicode_decimal:59477},{icon_id:"4767011",name:"right",font_class:"right",unicode:"e856",unicode_decimal:59478},{icon_id:"4767012",name:"left",font_class:"left",unicode:"e857",unicode_decimal:59479},{icon_id:"4767013",name:"up",font_class:"up",unicode:"e858",unicode_decimal:59480},{icon_id:"4767014",name:"down",font_class:"down",unicode:"e859",unicode_decimal:59481},{icon_id:"4767015",name:"fullscreen",font_class:"fullscreen",unicode:"e85a",unicode_decimal:59482},{icon_id:"4767016",name:"fullscreen-exit",font_class:"fullscreen-exit",unicode:"e85b",unicode_decimal:59483},{icon_id:"4767018",name:"doubleleft",font_class:"doubleleft",unicode:"e85c",unicode_decimal:59484},{icon_id:"4767019",name:"double right",font_class:"doubleright",unicode:"e85d",unicode_decimal:59485},{icon_id:"4767020",name:"arrowright",font_class:"arrowright",unicode:"e85e",unicode_decimal:59486},{icon_id:"4767021",name:"arrowup",font_class:"arrowup",unicode:"e85f",unicode_decimal:59487},{icon_id:"4767022",name:"arrowleft",font_class:"arrowleft",unicode:"e860",unicode_decimal:59488},{icon_id:"4767023",name:"arrowdown",font_class:"arrowdown",unicode:"e861",unicode_decimal:59489},{icon_id:"4767025",name:"upload",font_class:"upload",unicode:"e862",unicode_decimal:59490},{icon_id:"4767026",name:"colum-height",font_class:"colum-height",unicode:"e863",unicode_decimal:59491},{icon_id:"4767027",name:"vertical-align-botto",font_class:"vertical-align-botto",unicode:"e864",unicode_decimal:59492},{icon_id:"4767028",name:"vertical-align-middl",font_class:"vertical-align-middl",unicode:"e865",unicode_decimal:59493},{icon_id:"4767029",name:"totop",font_class:"totop",unicode:"e866",unicode_decimal:59494},{icon_id:"4767030",name:"vertical-align-top",font_class:"vertical-align-top",unicode:"e867",unicode_decimal:59495},{icon_id:"4767031",name:"download",font_class:"download",unicode:"e868",unicode_decimal:59496},{icon_id:"4767038",name:"sort-descending",font_class:"sort-descending",unicode:"e869",unicode_decimal:59497},{icon_id:"4767039",name:"sort-ascending",font_class:"sort-ascending",unicode:"e86a",unicode_decimal:59498},{icon_id:"4767043",name:"fall",font_class:"fall",unicode:"e86b",unicode_decimal:59499},{icon_id:"4767044",name:"swap",font_class:"swap",unicode:"e86c",unicode_decimal:59500},{icon_id:"4767045",name:"stock",font_class:"stock",unicode:"e86d",unicode_decimal:59501},{icon_id:"4767046",name:"rise",font_class:"rise",unicode:"e86e",unicode_decimal:59502},{icon_id:"4767050",name:"indent",font_class:"indent",unicode:"e86f",unicode_decimal:59503},{icon_id:"4767051",name:"outdent",font_class:"outdent",unicode:"e870",unicode_decimal:59504},{icon_id:"4767059",name:"menu",font_class:"menu",unicode:"e871",unicode_decimal:59505},{icon_id:"4767060",name:"unordered list",font_class:"unorderedlist",unicode:"e872",unicode_decimal:59506},{icon_id:"4767061",name:"ordered list",font_class:"orderedlist",unicode:"e873",unicode_decimal:59507},{icon_id:"4767062",name:"align-right",font_class:"align-right",unicode:"e874",unicode_decimal:59508},{icon_id:"4767063",name:"align-center",font_class:"align-center",unicode:"e875",unicode_decimal:59509},{icon_id:"4767064",name:"align-left",font_class:"align-left",unicode:"e876",unicode_decimal:59510},{icon_id:"4767072",name:"pic-center",font_class:"pic-center",unicode:"e877",unicode_decimal:59511},{icon_id:"4767073",name:"pic-right",font_class:"pic-right",unicode:"e878",unicode_decimal:59512},{icon_id:"4767074",name:"pic-left",font_class:"pic-left",unicode:"e879",unicode_decimal:59513},{icon_id:"4767078",name:"bold",font_class:"bold",unicode:"e87a",unicode_decimal:59514},{icon_id:"4767079",name:"font-colors",font_class:"font-colors",unicode:"e87b",unicode_decimal:59515},{icon_id:"4767080",name:"exclaimination",font_class:"exclaimination",unicode:"e87c",unicode_decimal:59516},{icon_id:"4767081",name:"font-size",font_class:"font-size",unicode:"e87d",unicode_decimal:59517},{icon_id:"4767082",name:"infomation",font_class:"infomation",unicode:"e87e",unicode_decimal:59518},{icon_id:"4767083",name:"line-height",font_class:"line-height",unicode:"e87f",unicode_decimal:59519},{icon_id:"4767084",name:"strikethrough",font_class:"strikethrough",unicode:"e880",unicode_decimal:59520},{icon_id:"4767085",name:"underline",font_class:"underline",unicode:"e881",unicode_decimal:59521},{icon_id:"4767086",name:"number",font_class:"number",unicode:"e882",unicode_decimal:59522},{icon_id:"4767087",name:"italic",font_class:"italic",unicode:"e883",unicode_decimal:59523},{icon_id:"4767091",name:"code",font_class:"code",unicode:"e884",unicode_decimal:59524},{icon_id:"4767092",name:"column-width",font_class:"column-width",unicode:"e885",unicode_decimal:59525},{icon_id:"4767093",name:"check",font_class:"check",unicode:"e886",unicode_decimal:59526},{icon_id:"4767094",name:"ellipsis",font_class:"ellipsis",unicode:"e887",unicode_decimal:59527},{icon_id:"4767095",name:"dash",font_class:"dash",unicode:"e888",unicode_decimal:59528},{icon_id:"4767096",name:"close",font_class:"close",unicode:"e889",unicode_decimal:59529},{icon_id:"4767097",name:"enter",font_class:"enter",unicode:"e88a",unicode_decimal:59530},{icon_id:"4767098",name:"line",font_class:"line",unicode:"e88b",unicode_decimal:59531},{icon_id:"4767099",name:"minus",font_class:"minus",unicode:"e88c",unicode_decimal:59532},{icon_id:"4767100",name:"question",font_class:"question",unicode:"e88d",unicode_decimal:59533},{icon_id:"4767102",name:"rollback",font_class:"rollback",unicode:"e88e",unicode_decimal:59534},{icon_id:"4767103",name:"small-dash",font_class:"small-dash",unicode:"e88f",unicode_decimal:59535},{icon_id:"4767104",name:"pause",font_class:"pause",unicode:"e890",unicode_decimal:59536},{icon_id:"4767106",name:"bg-colors",font_class:"bg-colors",unicode:"e891",unicode_decimal:59537},{icon_id:"4936455",name:"crown",font_class:"crown",unicode:"e892",unicode_decimal:59538},{icon_id:"4936456",name:"drag",font_class:"drag",unicode:"e893",unicode_decimal:59539},{icon_id:"4936457",name:"desktop",font_class:"desktop",unicode:"e894",unicode_decimal:59540},{icon_id:"4936458",name:"gift",font_class:"gift",unicode:"e895",unicode_decimal:59541},{icon_id:"4936459",name:"stop",font_class:"stop",unicode:"e896",unicode_decimal:59542},{icon_id:"4936460",name:"fire",font_class:"fire",unicode:"e897",unicode_decimal:59543},{icon_id:"4936461",name:"thunderbolt",font_class:"thunderbolt",unicode:"e898",unicode_decimal:59544},{icon_id:"4936478",name:"check-circle-fill",font_class:"check-circle-fill",unicode:"e899",unicode_decimal:59545},{icon_id:"4936479",name:"left-circle-fill",font_class:"left-circle-fill",unicode:"e89a",unicode_decimal:59546},{icon_id:"4936480",name:"down-circle-fill",font_class:"down-circle-fill",unicode:"e89b",unicode_decimal:59547},{icon_id:"4936481",name:"minus-circle-fill",font_class:"minus-circle-fill",unicode:"e89c",unicode_decimal:59548},{icon_id:"4936482",name:"close-circle-fill",font_class:"close-circle-fill",unicode:"e89d",unicode_decimal:59549},{icon_id:"4936483",name:"info-circle-fill",font_class:"info-circle-fill",unicode:"e89e",unicode_decimal:59550},{icon_id:"4936484",name:"up-circle-fill",font_class:"up-circle-fill",unicode:"e89f",unicode_decimal:59551},{icon_id:"4936485",name:"right-circle-fill",font_class:"right-circle-fill",unicode:"e8a0",unicode_decimal:59552},{icon_id:"4936486",name:"plus-circle-fill",font_class:"plus-circle-fill",unicode:"e8a1",unicode_decimal:59553},{icon_id:"4936487",name:"question-circle-fill",font_class:"question-circle-fill",unicode:"e8a2",unicode_decimal:59554},{icon_id:"4936499",name:"EURO-circle-fill",font_class:"EURO-circle-fill",unicode:"e8a3",unicode_decimal:59555},{icon_id:"4936500",name:"frown-fill",font_class:"frown-fill",unicode:"e8a4",unicode_decimal:59556},{icon_id:"4936501",name:"copyright-circle-fil",font_class:"copyright-circle-fil",unicode:"e8a5",unicode_decimal:59557},{icon_id:"4936502",name:"CI-circle-fill",font_class:"CI-circle-fill",unicode:"e8a6",unicode_decimal:59558},{icon_id:"4936503",name:"compass-fill",font_class:"compass-fill",unicode:"e8a7",unicode_decimal:59559},{icon_id:"4936504",name:"Dollar-circle-fill",font_class:"Dollar-circle-fill",unicode:"e8a8",unicode_decimal:59560},{icon_id:"4936505",name:"poweroff-circle-fill",font_class:"poweroff-circle-fill",unicode:"e8a9",unicode_decimal:59561},{icon_id:"4936506",name:"meh-fill",font_class:"meh-fill",unicode:"e8aa",unicode_decimal:59562},{icon_id:"4936507",name:"play-circle-fill",font_class:"play-circle-fill",unicode:"e8ab",unicode_decimal:59563},{icon_id:"4936508",name:"Pound-circle-fill",font_class:"Pound-circle-fill",unicode:"e8ac",unicode_decimal:59564},{icon_id:"4936509",name:"smile-fill",font_class:"smile-fill",unicode:"e8ad",unicode_decimal:59565},{icon_id:"4936510",name:"stop-fill",font_class:"stop-fill",unicode:"e8ae",unicode_decimal:59566},{icon_id:"4936511",name:"warning-circle-fill",font_class:"warning-circle-fill",unicode:"e8af",unicode_decimal:59567},{icon_id:"4936512",name:"time-circle-fill",font_class:"time-circle-fill",unicode:"e8b0",unicode_decimal:59568},{icon_id:"4936513",name:"trademark-circle-fil",font_class:"trademark-circle-fil",unicode:"e8b1",unicode_decimal:59569},{icon_id:"4936514",name:"YUAN-circle-fill",font_class:"YUAN-circle-fill",unicode:"e8b2",unicode_decimal:59570},{icon_id:"4936519",name:"heart-fill",font_class:"heart-fill",unicode:"e8b3",unicode_decimal:59571},{icon_id:"4936520",name:"pie chart-circle-fil",font_class:"piechart-circle-fil",unicode:"e8b4",unicode_decimal:59572},{icon_id:"4936521",name:"dashboard-fill",font_class:"dashboard-fill",unicode:"e8b5",unicode_decimal:59573},{icon_id:"4936522",name:"message-fill",font_class:"message-fill",unicode:"e8b6",unicode_decimal:59574},{icon_id:"4936529",name:"check-square-fill",font_class:"check-square-fill",unicode:"e8b7",unicode_decimal:59575},{icon_id:"4936530",name:"down-square-fill",font_class:"down-square-fill",unicode:"e8b8",unicode_decimal:59576},{icon_id:"4936531",name:"minus-square-fill",font_class:"minus-square-fill",unicode:"e8b9",unicode_decimal:59577},{icon_id:"4936532",name:"close-square-fill",font_class:"close-square-fill",unicode:"e8ba",unicode_decimal:59578},{icon_id:"4936533",name:"code library-fill",font_class:"codelibrary-fill",unicode:"e8bb",unicode_decimal:59579},{icon_id:"4936534",name:"left-square-fill",font_class:"left-square-fill",unicode:"e8bc",unicode_decimal:59580},{icon_id:"4936535",name:"play-square-fill",font_class:"play-square-fill",unicode:"e8bd",unicode_decimal:59581},{icon_id:"4936536",name:"up-square-fill",font_class:"up-square-fill",unicode:"e8be",unicode_decimal:59582},{icon_id:"4936537",name:"right-square-fill",font_class:"right-square-fill",unicode:"e8bf",unicode_decimal:59583},{icon_id:"4936538",name:"plus-square-fill",font_class:"plus-square-fill",unicode:"e8c0",unicode_decimal:59584},{icon_id:"4936542",name:"account book-fill",font_class:"accountbook-fill",unicode:"e8c1",unicode_decimal:59585},{icon_id:"4936543",name:"carry out-fill",font_class:"carryout-fill",unicode:"e8c2",unicode_decimal:59586},{icon_id:"4936544",name:"calendar-fill",font_class:"calendar-fill",unicode:"e8c3",unicode_decimal:59587},{icon_id:"4936545",name:"calculator-fill",font_class:"calculator-fill",unicode:"e8c4",unicode_decimal:59588},{icon_id:"4936546",name:"interation-fill",font_class:"interation-fill",unicode:"e8c5",unicode_decimal:59589},{icon_id:"4936550",name:"project-fill",font_class:"project-fill",unicode:"e8c6",unicode_decimal:59590},{icon_id:"4936571",name:"detail-fill",font_class:"detail-fill",unicode:"e8c7",unicode_decimal:59591},{icon_id:"4936575",name:"save-fill",font_class:"save-fill",unicode:"e8c8",unicode_decimal:59592},{icon_id:"4936576",name:"wallet-fill",font_class:"wallet-fill",unicode:"e8c9",unicode_decimal:59593},{icon_id:"4936577",name:"control-fill",font_class:"control-fill",unicode:"e8ca",unicode_decimal:59594},{icon_id:"4936583",name:"layout-fill",font_class:"layout-fill",unicode:"e8cb",unicode_decimal:59595},{icon_id:"4936584",name:"app store-fill",font_class:"appstore-fill",unicode:"e8cc",unicode_decimal:59596},{icon_id:"4936585",name:"mobile-fill",font_class:"mobile-fill",unicode:"e8cd",unicode_decimal:59597},{icon_id:"4936586",name:"tablet-fill",font_class:"tablet-fill",unicode:"e8ce",unicode_decimal:59598},{icon_id:"4936587",name:"book-fill",font_class:"book-fill",unicode:"e8cf",unicode_decimal:59599},{icon_id:"4936588",name:"red envelope-fill",font_class:"redenvelope-fill",unicode:"e8d0",unicode_decimal:59600},{icon_id:"4936591",name:"safety certificate-f",font_class:"safetycertificate-f",unicode:"e8d1",unicode_decimal:59601},{icon_id:"4936592",name:"property safety-fill",font_class:"propertysafety-fill",unicode:"e8d2",unicode_decimal:59602},{icon_id:"4936598",name:"insurance-fill",font_class:"insurance-fill",unicode:"e8d3",unicode_decimal:59603},{icon_id:"4936599",name:"security scan-fill",font_class:"securityscan-fill",unicode:"e8d4",unicode_decimal:59604},{icon_id:"4936602",name:"file-exclamation-fil",font_class:"file-exclamation-fil",unicode:"e8d5",unicode_decimal:59605},{icon_id:"4936604",name:"file-add-fill",font_class:"file-add-fill",unicode:"e8d6",unicode_decimal:59606},{icon_id:"4936605",name:"file-fill",font_class:"file-fill",unicode:"e8d7",unicode_decimal:59607},{icon_id:"4936606",name:"file-excel-fill",font_class:"file-excel-fill",unicode:"e8d8",unicode_decimal:59608},{icon_id:"4936607",name:"file-markdown-fill",font_class:"file-markdown-fill",unicode:"e8d9",unicode_decimal:59609},{icon_id:"4936608",name:"file-text-fill",font_class:"file-text-fill",unicode:"e8da",unicode_decimal:59610},{icon_id:"4936609",name:"file-ppt-fill",font_class:"file-ppt-fill",unicode:"e8db",unicode_decimal:59611},{icon_id:"4936610",name:"file-unknown-fill",font_class:"file-unknown-fill",unicode:"e8dc",unicode_decimal:59612},{icon_id:"4936611",name:"file-word-fill",font_class:"file-word-fill",unicode:"e8dd",unicode_decimal:59613},{icon_id:"4936612",name:"file-zip-fill",font_class:"file-zip-fill",unicode:"e8de",unicode_decimal:59614},{icon_id:"4936613",name:"file-pdf-fill",font_class:"file-pdf-fill",unicode:"e8df",unicode_decimal:59615},{icon_id:"4936615",name:"file-image-fill",font_class:"file-image-fill",unicode:"e8e0",unicode_decimal:59616},{icon_id:"4936617",name:"diff-fill",font_class:"diff-fill",unicode:"e8e1",unicode_decimal:59617},{icon_id:"4936618",name:"file-copy-fill",font_class:"file-copy-fill",unicode:"e8e2",unicode_decimal:59618},{icon_id:"4936619",name:"snippets-fill",font_class:"snippets-fill",unicode:"e8e3",unicode_decimal:59619},{icon_id:"4936620",name:"batch folding-fill",font_class:"batchfolding-fill",unicode:"e8e4",unicode_decimal:59620},{icon_id:"4936621",name:"reconciliation-fill",font_class:"reconciliation-fill",unicode:"e8e5",unicode_decimal:59621},{icon_id:"4936622",name:"folder-add-fill",font_class:"folder-add-fill",unicode:"e8e6",unicode_decimal:59622},{icon_id:"4936623",name:"folder-fill",font_class:"folder-fill",unicode:"e8e7",unicode_decimal:59623},{icon_id:"4936624",name:"folder-open-fill",font_class:"folder-open-fill",unicode:"e8e8",unicode_decimal:59624},{icon_id:"4936626",name:"database-fill",font_class:"database-fill",unicode:"e8e9",unicode_decimal:59625},{icon_id:"4936627",name:"container-fill",font_class:"container-fill",unicode:"e8ea",unicode_decimal:59626},{icon_id:"4936628",name:"sever-fill",font_class:"sever-fill",unicode:"e8eb",unicode_decimal:59627},{icon_id:"4936629",name:"calendar-check-fill",font_class:"calendar-check-fill",unicode:"e8ec",unicode_decimal:59628},{icon_id:"4936630",name:"image-fill",font_class:"image-fill",unicode:"e8ed",unicode_decimal:59629},{icon_id:"4936631",name:"id card-fill",font_class:"idcard-fill",unicode:"e8ee",unicode_decimal:59630},{icon_id:"4936633",name:"credit card-fill",font_class:"creditcard-fill",unicode:"e8ef",unicode_decimal:59631},{icon_id:"4936634",name:"fund-fill",font_class:"fund-fill",unicode:"e8f0",unicode_decimal:59632},{icon_id:"4936635",name:"read-fill",font_class:"read-fill",unicode:"e8f1",unicode_decimal:59633},{icon_id:"4936636",name:"contacts-fill",font_class:"contacts-fill",unicode:"e8f2",unicode_decimal:59634},{icon_id:"4936637",name:"delete-fill",font_class:"delete-fill",unicode:"e8f3",unicode_decimal:59635},{icon_id:"4936638",name:"notification-fill",font_class:"notification-fill",unicode:"e8f4",unicode_decimal:59636},{icon_id:"4936639",name:"flag-fill",font_class:"flag-fill",unicode:"e8f5",unicode_decimal:59637},{icon_id:"4936640",name:"money collect-fill",font_class:"moneycollect-fill",unicode:"e8f6",unicode_decimal:59638},{icon_id:"4936641",name:"medicine box-fill",font_class:"medicinebox-fill",unicode:"e8f7",unicode_decimal:59639},{icon_id:"4936642",name:"rest-fill",font_class:"rest-fill",unicode:"e8f8",unicode_decimal:59640},{icon_id:"4936643",name:"shopping-fill",font_class:"shopping-fill",unicode:"e8f9",unicode_decimal:59641},{icon_id:"4936644",name:"skin-fill",font_class:"skin-fill",unicode:"e8fa",unicode_decimal:59642},{icon_id:"4936645",name:"video-fill",font_class:"video-fill",unicode:"e8fb",unicode_decimal:59643},{icon_id:"4936646",name:"sound-fill",font_class:"sound-fill",unicode:"e8fc",unicode_decimal:59644},{icon_id:"4936649",name:"bulb-fill",font_class:"bulb-fill",unicode:"e8fd",unicode_decimal:59645},{icon_id:"4936650",name:"bell-fill",font_class:"bell-fill",unicode:"e8fe",unicode_decimal:59646},{icon_id:"4936651",name:"filter-fill",font_class:"filter-fill",unicode:"e8ff",unicode_decimal:59647},{icon_id:"4936652",name:"fire-fill",font_class:"fire-fill",unicode:"e900",unicode_decimal:59648},{icon_id:"4936653",name:"funnel plot-fill",font_class:"funnelplot-fill",unicode:"e901",unicode_decimal:59649},{icon_id:"4936654",name:"gift-fill",font_class:"gift-fill",unicode:"e902",unicode_decimal:59650},{icon_id:"4936655",name:"hourglass-fill",font_class:"hourglass-fill",unicode:"e903",unicode_decimal:59651},{icon_id:"4936656",name:"home-fill",font_class:"home-fill",unicode:"e904",unicode_decimal:59652},{icon_id:"4936657",name:"trophy-fill",font_class:"trophy-fill",unicode:"e905",unicode_decimal:59653},{icon_id:"4936659",name:"location-fill",font_class:"location-fill",unicode:"e906",unicode_decimal:59654},{icon_id:"4936665",name:"cloud-fill",font_class:"cloud-fill",unicode:"e907",unicode_decimal:59655},{icon_id:"4936666",name:"customerservice-fill",font_class:"customerservice-fill",unicode:"e908",unicode_decimal:59656},{icon_id:"4936667",name:"experiment-fill",font_class:"experiment-fill",unicode:"e909",unicode_decimal:59657},{icon_id:"4936668",name:"eye-fill",font_class:"eye-fill",unicode:"e90a",unicode_decimal:59658},{icon_id:"4936669",name:"like-fill",font_class:"like-fill",unicode:"e90b",unicode_decimal:59659},{icon_id:"4936671",name:"lock-fill",font_class:"lock-fill",unicode:"e90c",unicode_decimal:59660},{icon_id:"4936672",name:"unlike-fill",font_class:"unlike-fill",unicode:"e90d",unicode_decimal:59661},{icon_id:"4936673",name:"star-fill",font_class:"star-fill",unicode:"e90e",unicode_decimal:59662},{icon_id:"4936674",name:"unlock-fill",font_class:"unlock-fill",unicode:"e90f",unicode_decimal:59663},{icon_id:"4936675",name:"alert-fill",font_class:"alert-fill",unicode:"e910",unicode_decimal:59664},{icon_id:"4936676",name:"api-fill",font_class:"api-fill",unicode:"e911",unicode_decimal:59665},{icon_id:"4936677",name:"highlight-fill",font_class:"highlight-fill",unicode:"e912",unicode_decimal:59666},{icon_id:"4936678",name:"phone-fill",font_class:"phone-fill",unicode:"e913",unicode_decimal:59667},{icon_id:"4936679",name:"edit-fill",font_class:"edit-fill",unicode:"e914",unicode_decimal:59668},{icon_id:"4936680",name:"pushpin-fill",font_class:"pushpin-fill",unicode:"e915",unicode_decimal:59669},{icon_id:"4936681",name:"rocket-fill",font_class:"rocket-fill",unicode:"e916",unicode_decimal:59670},{icon_id:"4936682",name:"thunderbolt-fill",font_class:"thunderbolt-fill",unicode:"e917",unicode_decimal:59671},{icon_id:"4936683",name:"tag-fill",font_class:"tag-fill",unicode:"e918",unicode_decimal:59672},{icon_id:"4936684",name:"wrench-fill",font_class:"wrench-fill",unicode:"e919",unicode_decimal:59673},{icon_id:"4936685",name:"tags-fill",font_class:"tags-fill",unicode:"e91a",unicode_decimal:59674},{icon_id:"4936686",name:"bank-fill",font_class:"bank-fill",unicode:"e91b",unicode_decimal:59675},{icon_id:"4936687",name:"camera-fill",font_class:"camera-fill",unicode:"e91c",unicode_decimal:59676},{icon_id:"4936688",name:"error-fill",font_class:"error-fill",unicode:"e91d",unicode_decimal:59677},{icon_id:"4936689",name:"crown-fill",font_class:"crown-fill",unicode:"e91e",unicode_decimal:59678},{icon_id:"4936690",name:"mail-fill",font_class:"mail-fill",unicode:"e91f",unicode_decimal:59679},{icon_id:"4936691",name:"car-fill",font_class:"car-fill",unicode:"e920",unicode_decimal:59680},{icon_id:"4936692",name:"printer-fill",font_class:"printer-fill",unicode:"e921",unicode_decimal:59681},{icon_id:"4936693",name:"shop-fill",font_class:"shop-fill",unicode:"e922",unicode_decimal:59682},{icon_id:"4936694",name:"setting-fill",font_class:"setting-fill",unicode:"e923",unicode_decimal:59683},{icon_id:"4936695",name:"USB-fill",font_class:"USB-fill",unicode:"e924",unicode_decimal:59684},{icon_id:"4936696",name:"golden-fill",font_class:"golden-fill",unicode:"e925",unicode_decimal:59685},{icon_id:"4936697",name:"build-fill",font_class:"build-fill",unicode:"e926",unicode_decimal:59686},{icon_id:"4936698",name:"box plot-fill",font_class:"boxplot-fill",unicode:"e927",unicode_decimal:59687},{icon_id:"4936699",name:"sliders-fill",font_class:"sliders-fill",unicode:"e928",unicode_decimal:59688},{icon_id:"4936943",name:"alibaba",font_class:"alibaba",unicode:"e929",unicode_decimal:59689},{icon_id:"4936944",name:"alibabacloud",font_class:"alibabacloud",unicode:"e92a",unicode_decimal:59690},{icon_id:"4936946",name:"ant design",font_class:"antdesign",unicode:"e92b",unicode_decimal:59691},{icon_id:"4936947",name:"ant-cloud",font_class:"ant-cloud",unicode:"e92c",unicode_decimal:59692},{icon_id:"4936948",name:"behance",font_class:"behance",unicode:"e92d",unicode_decimal:59693},{icon_id:"4936949",name:"google plus",font_class:"googleplus",unicode:"e92e",unicode_decimal:59694},{icon_id:"4936950",name:"medium",font_class:"medium",unicode:"e92f",unicode_decimal:59695},{icon_id:"4936951",name:"google",font_class:"google",unicode:"e930",unicode_decimal:59696},{icon_id:"4936952",name:"IE",font_class:"IE",unicode:"e931",unicode_decimal:59697},{icon_id:"4936953",name:"amazon",font_class:"amazon",unicode:"e932",unicode_decimal:59698},{icon_id:"4936954",name:"slack",font_class:"slack",unicode:"e933",unicode_decimal:59699},{icon_id:"4936955",name:"alipay",font_class:"alipay",unicode:"e934",unicode_decimal:59700},{icon_id:"4936956",name:"taobao",font_class:"taobao",unicode:"e935",unicode_decimal:59701},{icon_id:"4936957",name:"zhihu",font_class:"zhihu",unicode:"e936",unicode_decimal:59702},{icon_id:"4936958",name:"HTML5",font_class:"HTML",unicode:"e937",unicode_decimal:59703},{icon_id:"4936959",name:"linkedin",font_class:"linkedin",unicode:"e938",unicode_decimal:59704},{icon_id:"4936960",name:"yahoo",font_class:"yahoo",unicode:"e939",unicode_decimal:59705},{icon_id:"4936961",name:"facebook",font_class:"facebook",unicode:"e93a",unicode_decimal:59706},{icon_id:"4936962",name:"skype",font_class:"skype",unicode:"e93b",unicode_decimal:59707},{icon_id:"4936963",name:"CodeSandbox",font_class:"CodeSandbox",unicode:"e93c",unicode_decimal:59708},{icon_id:"4936964",name:"chrome",font_class:"chrome",unicode:"e93d",unicode_decimal:59709},{icon_id:"4936965",name:"codepen",font_class:"codepen",unicode:"e93e",unicode_decimal:59710},{icon_id:"4936966",name:"aliwangwang",font_class:"aliwangwang",unicode:"e93f",unicode_decimal:59711},{icon_id:"4936967",name:"apple",font_class:"apple",unicode:"e940",unicode_decimal:59712},{icon_id:"4936968",name:"android",font_class:"android",unicode:"e941",unicode_decimal:59713},{icon_id:"4936969",name:"sketch",font_class:"sketch",unicode:"e942",unicode_decimal:59714},{icon_id:"4936970",name:"Gitlab",font_class:"Gitlab",unicode:"e943",unicode_decimal:59715},{icon_id:"4936971",name:"dribbble",font_class:"dribbble",unicode:"e944",unicode_decimal:59716},{icon_id:"4936972",name:"instagram",font_class:"instagram",unicode:"e945",unicode_decimal:59717},{icon_id:"4936973",name:"reddit",font_class:"reddit",unicode:"e946",unicode_decimal:59718},{icon_id:"4936974",name:"windows",font_class:"windows",unicode:"e947",unicode_decimal:59719},{icon_id:"4936975",name:"yuque",font_class:"yuque",unicode:"e948",unicode_decimal:59720},{icon_id:"4936976",name:"Youtube",font_class:"Youtube",unicode:"e949",unicode_decimal:59721},{icon_id:"4936977",name:"Gitlab-fill",font_class:"Gitlab-fill",unicode:"e94a",unicode_decimal:59722},{icon_id:"4936978",name:"dropbox",font_class:"dropbox",unicode:"e94b",unicode_decimal:59723},{icon_id:"4936979",name:"dingtalk",font_class:"dingtalk",unicode:"e94c",unicode_decimal:59724},{icon_id:"4936980",name:"android-fill",font_class:"android-fill",unicode:"e94d",unicode_decimal:59725},{icon_id:"4936981",name:"apple-fill",font_class:"apple-fill",unicode:"e94e",unicode_decimal:59726},{icon_id:"4936982",name:"HTML5-fill",font_class:"HTML-fill",unicode:"e94f",unicode_decimal:59727},{icon_id:"4936983",name:"windows-fill",font_class:"windows-fill",unicode:"e950",unicode_decimal:59728},{icon_id:"4936984",name:"QQ",font_class:"QQ",unicode:"e951",unicode_decimal:59729},{icon_id:"4936985",name:"twitter",font_class:"twitter",unicode:"e952",unicode_decimal:59730},{icon_id:"4936986",name:"skype-fill",font_class:"skype-fill",unicode:"e953",unicode_decimal:59731},{icon_id:"4936987",name:"weibo",font_class:"weibo",unicode:"e954",unicode_decimal:59732},{icon_id:"4936988",name:"yuque-fill",font_class:"yuque-fill",unicode:"e955",unicode_decimal:59733},{icon_id:"4936989",name:"Youtube-fill",font_class:"Youtube-fill",unicode:"e956",unicode_decimal:59734},{icon_id:"4936990",name:"yahoo-fill",font_class:"yahoo-fill",unicode:"e957",unicode_decimal:59735},{icon_id:"4936991",name:"wechat-fill",font_class:"wechat-fill",unicode:"e958",unicode_decimal:59736},{icon_id:"4936992",name:"chrome-fill",font_class:"chrome-fill",unicode:"e959",unicode_decimal:59737},{icon_id:"4936993",name:"alipay-circle-fill",font_class:"alipay-circle-fill",unicode:"e95a",unicode_decimal:59738},{icon_id:"4936994",name:"aliwangwang-fill",font_class:"aliwangwang-fill",unicode:"e95b",unicode_decimal:59739},{icon_id:"4936995",name:"behance-circle-fill",font_class:"behance-circle-fill",unicode:"e95c",unicode_decimal:59740},{icon_id:"4936996",name:"amazon-circle-fill",font_class:"amazon-circle-fill",unicode:"e95d",unicode_decimal:59741},{icon_id:"4936997",name:"codepen-circle-fill",font_class:"codepen-circle-fill",unicode:"e95e",unicode_decimal:59742},{icon_id:"4936998",name:"CodeSandbox-circle-f",font_class:"CodeSandbox-circle-f",unicode:"e95f",unicode_decimal:59743},{icon_id:"4936999",name:"dropbox-circle-fill",font_class:"dropbox-circle-fill",unicode:"e960",unicode_decimal:59744},{icon_id:"4937000",name:"github-fill",font_class:"github-fill",unicode:"e961",unicode_decimal:59745},{icon_id:"4937001",name:"dribbble-circle-fill",font_class:"dribbble-circle-fill",unicode:"e962",unicode_decimal:59746},{icon_id:"4937002",name:"google plus-circle-f",font_class:"googleplus-circle-f",unicode:"e963",unicode_decimal:59747},{icon_id:"4937003",name:"medium-circle-fill",font_class:"medium-circle-fill",unicode:"e964",unicode_decimal:59748},{icon_id:"4937004",name:"QQ-circle-fill",font_class:"QQ-circle-fill",unicode:"e965",unicode_decimal:59749},{icon_id:"4937005",name:"IE-circle-fill",font_class:"IE-circle-fill",unicode:"e966",unicode_decimal:59750},{icon_id:"4937006",name:"google-circle-fill",font_class:"google-circle-fill",unicode:"e967",unicode_decimal:59751},{icon_id:"4937007",name:"dingtalk-circle-fill",font_class:"dingtalk-circle-fill",unicode:"e968",unicode_decimal:59752},{icon_id:"4937008",name:"sketch-circle-fill",font_class:"sketch-circle-fill",unicode:"e969",unicode_decimal:59753},{icon_id:"4937009",name:"slack-circle-fill",font_class:"slack-circle-fill",unicode:"e96a",unicode_decimal:59754},{icon_id:"4937010",name:"twitter-circle-fill",font_class:"twitter-circle-fill",unicode:"e96b",unicode_decimal:59755},{icon_id:"4937011",name:"taobao-circle-fill",font_class:"taobao-circle-fill",unicode:"e96c",unicode_decimal:59756},{icon_id:"4937012",name:"weibo-circle-fill",font_class:"weibo-circle-fill",unicode:"e96d",unicode_decimal:59757},{icon_id:"4937013",name:"zhihu-circle-fill",font_class:"zhihu-circle-fill",unicode:"e96e",unicode_decimal:59758},{icon_id:"4937014",name:"reddit-circle-fill",font_class:"reddit-circle-fill",unicode:"e96f",unicode_decimal:59759},{icon_id:"4937015",name:"alipay-square-fill",font_class:"alipay-square-fill",unicode:"e970",unicode_decimal:59760},{icon_id:"4937016",name:"dingtalk-square-fill",font_class:"dingtalk-square-fill",unicode:"e971",unicode_decimal:59761},{icon_id:"4937017",name:"CodeSandbox-square-f",font_class:"CodeSandbox-square-f",unicode:"e972",unicode_decimal:59762},{icon_id:"4937018",name:"behance-square-fill",font_class:"behance-square-fill",unicode:"e973",unicode_decimal:59763},{icon_id:"4937019",name:"amazon-square-fill",font_class:"amazon-square-fill",unicode:"e974",unicode_decimal:59764},{icon_id:"4937020",name:"codepen-square-fill",font_class:"codepen-square-fill",unicode:"e975",unicode_decimal:59765},{icon_id:"4937021",name:"dribbble-square-fill",font_class:"dribbble-square-fill",unicode:"e976",unicode_decimal:59766},{icon_id:"4937022",name:"dropbox-square-fill",font_class:"dropbox-square-fill",unicode:"e977",unicode_decimal:59767},{icon_id:"4937023",name:"facebook-fill",font_class:"facebook-fill",unicode:"e978",unicode_decimal:59768},{icon_id:"4937024",name:"google plus-square-f",font_class:"googleplus-square-f",unicode:"e979",unicode_decimal:59769},{icon_id:"4937025",name:"google-square-fill",font_class:"google-square-fill",unicode:"e97a",unicode_decimal:59770},{icon_id:"4937026",name:"instagram-fill",font_class:"instagram-fill",unicode:"e97b",unicode_decimal:59771},{icon_id:"4937027",name:"IE-square-fill",font_class:"IE-square-fill",unicode:"e97c",unicode_decimal:59772},{icon_id:"4937028",name:"medium-square-fill",font_class:"medium-square-fill",unicode:"e97d",unicode_decimal:59773},{icon_id:"4937029",name:"linkedin-fill",font_class:"linkedin-fill",unicode:"e97e",unicode_decimal:59774},{icon_id:"4937030",name:"QQ-square-fill",font_class:"QQ-square-fill",unicode:"e97f",unicode_decimal:59775},{icon_id:"4937031",name:"reddit-square-fill",font_class:"reddit-square-fill",unicode:"e980",unicode_decimal:59776},{icon_id:"4937032",name:"twitter-square-fill",font_class:"twitter-square-fill",unicode:"e981",unicode_decimal:59777},{icon_id:"4937033",name:"sketch-square-fill",font_class:"sketch-square-fill",unicode:"e982",unicode_decimal:59778},{icon_id:"4937034",name:"slack-square-fill",font_class:"slack-square-fill",unicode:"e983",unicode_decimal:59779},{icon_id:"4937035",name:"taobao-square-fill",font_class:"taobao-square-fill",unicode:"e984",unicode_decimal:59780},{icon_id:"4937036",name:"weibo-square-fill",font_class:"weibo-square-fill",unicode:"e985",unicode_decimal:59781},{icon_id:"4937037",name:"zhihu-square-fill",font_class:"zhihu-square-fill",unicode:"e986",unicode_decimal:59782},{icon_id:"5756279",name:"zoom out",font_class:"zoomout",unicode:"e987",unicode_decimal:59783},{icon_id:"5756280",name:"apartment",font_class:"apartment",unicode:"e988",unicode_decimal:59784},{icon_id:"5756281",name:"audio",font_class:"audio",unicode:"e989",unicode_decimal:59785},{icon_id:"5756282",name:"audio-fill",font_class:"audio-fill",unicode:"e98a",unicode_decimal:59786},{icon_id:"5756283",name:"robot",font_class:"robot",unicode:"e98b",unicode_decimal:59787},{icon_id:"5756284",name:"zoom in",font_class:"zoomin",unicode:"e98c",unicode_decimal:59788},{icon_id:"6598312",name:"robot-fill",font_class:"robot-fill",unicode:"e98d",unicode_decimal:59789},{icon_id:"6598313",name:"bug-fill",font_class:"bug-fill",unicode:"e98e",unicode_decimal:59790},{icon_id:"6598314",name:"bug",font_class:"bug",unicode:"e98f",unicode_decimal:59791},{icon_id:"6598315",name:"audio static",font_class:"audiostatic",unicode:"e990",unicode_decimal:59792},{icon_id:"6598316",name:"comment",font_class:"comment",unicode:"e991",unicode_decimal:59793},{icon_id:"6598317",name:"signal-fill",font_class:"signal-fill",unicode:"e992",unicode_decimal:59794},{icon_id:"6598318",name:"verified",font_class:"verified",unicode:"e993",unicode_decimal:59795},{icon_id:"6598319",name:"shortcut-fill",font_class:"shortcut-fill",unicode:"e994",unicode_decimal:59796},{icon_id:"6598320",name:"videocamera add",font_class:"videocameraadd",unicode:"e995",unicode_decimal:59797},{icon_id:"6598321",name:"switch user",font_class:"switchuser",unicode:"e996",unicode_decimal:59798},{icon_id:"6598322",name:"whatsapp",font_class:"whatsapp",unicode:"e997",unicode_decimal:59799},{icon_id:"6598323",name:"appstore add",font_class:"appstoreadd",unicode:"e998",unicode_decimal:59800},{icon_id:"6598339",name:"caret-down",font_class:"caret-down",unicode:"e999",unicode_decimal:59801},{icon_id:"6598340",name:"backward",font_class:"backward",unicode:"e99a",unicode_decimal:59802},{icon_id:"6598341",name:"caret-up",font_class:"caret-up",unicode:"e99b",unicode_decimal:59803},{icon_id:"6598342",name:"caret-right",font_class:"caret-right",unicode:"e99c",unicode_decimal:59804},{icon_id:"6598343",name:"caret-left",font_class:"caret-left",unicode:"e99d",unicode_decimal:59805},{icon_id:"6598344",name:"fast-backward",font_class:"fast-backward",unicode:"e99e",unicode_decimal:59806},{icon_id:"6598345",name:"forward",font_class:"forward",unicode:"e99f",unicode_decimal:59807},{icon_id:"6598346",name:"fast-forward",font_class:"fast-forward",unicode:"e9a0",unicode_decimal:59808},{icon_id:"6598347",name:"search",font_class:"search",unicode:"e9a1",unicode_decimal:59809},{icon_id:"6598348",name:"retweet",font_class:"retweet",unicode:"e9a2",unicode_decimal:59810},{icon_id:"6598349",name:"login",font_class:"login",unicode:"e9a3",unicode_decimal:59811},{icon_id:"6598350",name:"step-backward",font_class:"step-backward",unicode:"e9a4",unicode_decimal:59812},{icon_id:"6598351",name:"step-forward",font_class:"step-forward",unicode:"e9a5",unicode_decimal:59813},{icon_id:"6598352",name:"swap-right",font_class:"swap-right",unicode:"e9a6",unicode_decimal:59814},{icon_id:"6598353",name:"swap-left",font_class:"swap-left",unicode:"e9a7",unicode_decimal:59815},{icon_id:"6598354",name:"woman",font_class:"woman",unicode:"e9a8",unicode_decimal:59816},{icon_id:"7605109",name:"company",font_class:"company",unicode:"e623",unicode_decimal:58915},{icon_id:"7834345",name:"plus",font_class:"plus",unicode:"e9a9",unicode_decimal:59817},{icon_id:"8092166",name:"eye close-fill",font_class:"eyeclose-fill",unicode:"e9aa",unicode_decimal:59818},{icon_id:"8092167",name:"eye-close",font_class:"eye-close",unicode:"e9ab",unicode_decimal:59819},{icon_id:"8094805",name:"clear",font_class:"clear",unicode:"e9ac",unicode_decimal:59820},{icon_id:"8094806",name:"collapse",font_class:"collapse",unicode:"e9ad",unicode_decimal:59821},{icon_id:"8094807",name:"expand",font_class:"expand",unicode:"e9ae",unicode_decimal:59822},{icon_id:"8094808",name:"delete column",font_class:"deletecolumn",unicode:"e9af",unicode_decimal:59823},{icon_id:"8094809",name:"merge-cells",font_class:"merge-cells",unicode:"e9b0",unicode_decimal:59824},{icon_id:"8094810",name:"subnode",font_class:"subnode",unicode:"e9b1",unicode_decimal:59825},{icon_id:"8094811",name:"rotate-left",font_class:"rotate-left",unicode:"e9b2",unicode_decimal:59826},{icon_id:"8094812",name:"rotate-right",font_class:"rotate-right",unicode:"e9b3",unicode_decimal:59827},{icon_id:"8094813",name:"insert row below",font_class:"insertrowbelow",unicode:"e9b4",unicode_decimal:59828},{icon_id:"8094814",name:"insert row above",font_class:"insertrowabove",unicode:"e9b5",unicode_decimal:59829},{icon_id:"8094815",name:"table",font_class:"table1",unicode:"e9b6",unicode_decimal:59830},{icon_id:"8094816",name:"solit-cells",font_class:"solit-cells",unicode:"e9b7",unicode_decimal:59831},{icon_id:"8094817",name:"format painter",font_class:"formatpainter",unicode:"e9b8",unicode_decimal:59832},{icon_id:"8094818",name:"insert row right",font_class:"insertrowright",unicode:"e9b9",unicode_decimal:59833},{icon_id:"8094819",name:"format painter-fill",font_class:"formatpainter-fill",unicode:"e9ba",unicode_decimal:59834},{icon_id:"8094820",name:"insert row left",font_class:"insertrowleft",unicode:"e9bb",unicode_decimal:59835},{icon_id:"8094821",name:"translate",font_class:"translate",unicode:"e9bc",unicode_decimal:59836},{icon_id:"8094822",name:"delete row",font_class:"deleterow",unicode:"e9bd",unicode_decimal:59837},{icon_id:"8094823",name:"sisternode",font_class:"sisternode",unicode:"e9be",unicode_decimal:59838},{icon_id:"9229175",name:"Field-number",font_class:"Field-number",unicode:"e9bf",unicode_decimal:59839},{icon_id:"9229176",name:"Field-String",font_class:"Field-String",unicode:"e9c0",unicode_decimal:59840},{icon_id:"9229177",name:"Function",font_class:"Function",unicode:"e9c1",unicode_decimal:59841},{icon_id:"9229178",name:"Field-time",font_class:"Field-time",unicode:"e9c2",unicode_decimal:59842},{icon_id:"9229179",name:"GIF",font_class:"GIF",unicode:"e9c3",unicode_decimal:59843},{icon_id:"9229180",name:"Partition",font_class:"Partition",unicode:"e9c4",unicode_decimal:59844},{icon_id:"9229181",name:"index",font_class:"index",unicode:"e9c5",unicode_decimal:59845},{icon_id:"9229182",name:"Stored procedure",font_class:"Storedprocedure",unicode:"e9c6",unicode_decimal:59846},{icon_id:"9229184",name:"Field-Binary",font_class:"Field-Binary",unicode:"e9c7",unicode_decimal:59847},{icon_id:"9229185",name:"Console-SQL",font_class:"Console-SQL",unicode:"e9c8",unicode_decimal:59848},{icon_id:"9230689",name:"1:1",font_class:"icon-test",unicode:"e9c9",unicode_decimal:59849},{icon_id:"9230690",name:"aim",font_class:"aim",unicode:"e9ca",unicode_decimal:59850},{icon_id:"9230691",name:"compress",font_class:"compress",unicode:"e9cb",unicode_decimal:59851},{icon_id:"9230692",name:"expend",font_class:"expend",unicode:"e9cc",unicode_decimal:59852},{icon_id:"9230693",name:"folder-view",font_class:"folder-view",unicode:"e9cd",unicode_decimal:59853},{icon_id:"9230694",name:"file-GIF",font_class:"file-GIF",unicode:"e9ce",unicode_decimal:59854},{icon_id:"9230695",name:"group",font_class:"group",unicode:"e9cf",unicode_decimal:59855},{icon_id:"9230696",name:"send",font_class:"send",unicode:"e9d0",unicode_decimal:59856},{icon_id:"9230697",name:"Report",font_class:"Report",unicode:"e9d1",unicode_decimal:59857},{icon_id:"9230698",name:"View",font_class:"View",unicode:"e9d2",unicode_decimal:59858},{icon_id:"9230699",name:"shortcut",font_class:"shortcut",unicode:"e9d3",unicode_decimal:59859},{icon_id:"9230700",name:"ungroup",font_class:"ungroup",unicode:"e9d4",unicode_decimal:59860}]};t.a=function(){return{fontFamily:"graphin",glyphs:r.glyphs}}},,,,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=x.prototype=new b;_.constructor=x,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!O.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:S.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,n,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case i:u=!0}}if(u)return a=a(u=e),e=""===o?"."+A(u,0):o,w(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),j(a,t,n,"",function(e){return e})):null!=a&&(M(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+A(s=e[c],c);u+=j(s,t,n,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=j(s=s.value,t,n,l=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=x,t.StrictMode=a,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(1),i=n(234);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,R=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case w:return"Portal";case O:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case j:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case C:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case I:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?J(e,t.type,n):t.hasOwnProperty("defaultValue")&&J(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function J(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ee(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,Ee=null;function Se(e){if(e=di(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=pi(t),_e(e.stateNode,e.type,t))}}function Oe(e){we?Ee?Ee.push(e):Ee=[e]:we=e}function ke(){if(we){var e=we,t=Ee;if(Ee=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Me(e,t){return e(t)}function Ce(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Me(e,t,n)}finally{Ae=!1,(null!==we||null!==Ee)&&(Ce(),ke())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ie=!1}var Pe=!1,De=null,Le=!1,Re=null,Be={onError:function(e){Pe=!0,De=e}};function Fe(e,t,n,r,i,o,a,s,u){Pe=!1,De=null,function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(ze(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ue(i),e;if(a===r)return Ue(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,He=i.unstable_requestPaint,qe=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,$e=i.unstable_NormalPriority,Je=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var at=64,st=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ut(s):0!==(o&=a)&&(r=ut(o))}else 0!==(a=n&~i)?r=ut(a):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function dt(){var e=at;return 0===(4194240&(at<<=1))&&(at=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,bt,xt,_t,wt,Et=!1,St=[],Ot=null,kt=null,Mt=null,Ct=new Map,At=new Map,jt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=di(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Pt(e){var t=fi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void wt(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=di(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function Rt(){Et=!1,null!==Ot&&Dt(Ot)&&(Ot=null),null!==kt&&Dt(kt)&&(kt=null),null!==Mt&&Dt(Mt)&&(Mt=null),Ct.forEach(Lt),At.forEach(Lt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Ft(e){function t(t){return Bt(t,e)}if(0<St.length){Bt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Bt(Ot,e),null!==kt&&Bt(kt,e),null!==Mt&&Bt(Mt,e),Ct.forEach(t),At.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Pt(n),null===n.blockedOn&&jt.shift()}var zt=x.ReactCurrentBatchConfig,Gt=!0;function Ut(e,t,n,r){var i=vt,o=zt.transition;zt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=i,zt.transition=o}}function Vt(e,t,n,r){var i=vt,o=zt.transition;zt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=i,zt.transition=o}}function Wt(e,t,n,r){if(Gt){var i=Xt(e,t,n,r);if(null===i)Rr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Nt(Ot,e,t,n,r,i),!0;case"dragenter":return kt=Nt(kt,e,t,n,r,i),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ct.set(o,Nt(Ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Nt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var o=di(i);if(null!==o&&yt(o),null===(o=Xt(e,t,n,r))&&Rr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Rr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=fi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Ht(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Ze:return 1;case Qe:return 4;case $e:case Je:return 16;case et:return 536870912;default:return 16}default:return 16}}var qt=null,Kt=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=Kt,r=n.length,i="value"in qt?qt.value:qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Jt:en,this.isPropagationStopped=en,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var nn,rn,on,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=tn(an),un=R({},an,{view:0,detail:0}),cn=tn(un),ln=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),dn=tn(R({},ln,{dataTransfer:0})),hn=tn(R({},un,{relatedTarget:0})),pn=tn(R({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=tn(R({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=tn(R({},an,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function _n(){return xn}var wn=tn(R({},un,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=tn(R({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=tn(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),On=tn(R({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=tn(R({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Mn=[9,13,27,32],Cn=l&&"CompositionEvent"in window,An=null;l&&"documentMode"in document&&(An=document.documentMode);var jn=l&&"TextEvent"in window&&!An,Tn=l&&(!Cn||An&&8<An&&11>=An),In=String.fromCharCode(32),Nn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Fn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Gn=null;function Un(e){Tr(e,0)}function Vn(e){if(X(hi(e)))return e}function Wn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Hn="oninput"in document;if(!Hn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Hn="function"===typeof qn.oninput}Xn=Hn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Zn),Gn=zn=null)}function Zn(e){if("value"===e.propertyName&&Vn(Gn)){var t=[];Fn(t,Gn,e,xe(e)),je(Un,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Gn=n,(zn=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Kn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Gn)}function Jn(e,t){if("click"===e)return Vn(t)}function er(e,t){if("input"===e||"change"===e)return Vn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function or(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function sr(e){var t=or(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&ar(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ir(n,o);var a=ir(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ur=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,dr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==cr||cr!==H(r)||("selectionStart"in(r=cr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Fr(lr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},vr={},mr={};function yr(e){if(vr[e])return vr[e];if(!gr[e])return e;var t,n=gr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return vr[e]=n[t];return e}l&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);var br=yr("animationend"),xr=yr("animationiteration"),_r=yr("animationstart"),wr=yr("transitionend"),Er=new Map,Sr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Er.set(e,t),u(t,[e])}for(var kr=0;kr<Sr.length;kr++){var Mr=Sr[kr];Or(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Or(br,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(_r,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(wr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Fe.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var l=De;Pe=!1,De=null,Le||(Le=!0,Re=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Le)throw e=Re,Le=!1,Re=null,e}function Ir(e,t){var n=t[ui];void 0===n&&(n=t[ui]=new Set);var r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Lr(n,e,r,t)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Pr]){e[Pr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Ar.has(t)||Nr(t,!1,e),Nr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pr]||(t[Pr]=!0,Nr("selectionchange",!1,t))}}function Lr(e,t,n,r){switch(Ht(t)){case 1:var i=Ut;break;case 4:i=Vt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=fi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}je(function(){var r=o,i=xe(n),a=[];e:{var s=Er.get(e);if(void 0!==s){var u=sn,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=hn;break;case"focusout":c="blur",u=hn;break;case"beforeblur":case"afterblur":u=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case br:case xr:case _r:u=pn;break;case wr:u=On;break;case"scroll":u=cn;break;case"wheel":u=kn;break;case"copy":case"cut":case"paste":u=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Te(p,d))&&l.push(Br(p,g,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fi(c)&&!c[si])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?fi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=fn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:hi(u),h=null==c?s:hi(c),(s=new l(g,p+"leave",u,n,i)).target=f,s.relatedTarget=h,g=null,fi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,p=0,h=l=u;h;h=zr(h))p++;for(h=0,g=d;g;g=zr(g))h++;for(;0<p-h;)l=zr(l),p--;for(;0<h-p;)d=zr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=zr(l),d=zr(d)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(u=(s=r?hi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Wn;else if(Bn(s))if(Yn)v=er;else{v=$n;var m=Qn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=Jn);switch(v&&(v=v(e,r))?Fn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&J(s,"number",s.value)),m=r?hi(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(cr=m,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,hr(a,n,i);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":hr(a,n,i)}var y;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Pn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(y=Qt()):(Kt="value"in(qt=i)?qt.value:qt.textContent,Ln=!0)),0<(m=Fr(r,b)).length&&(b=new vn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Dn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Nn=!0,In);case"textInput":return(e=t.data)===In&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Cn&&Pn(e,t)?(e=Qt(),Zt=Kt=qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Tr(a,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Te(e,n))&&r.unshift(Br(e,o,i)),null!=(o=Te(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Te(n,o))&&a.unshift(Br(n,u,s)):i||null!=(u=Te(n,o))&&a.push(Br(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ur=/\r\n?/g,Vr=/\u0000|\uFFFD/g;function Wr(e){return("string"===typeof e?e:""+e).replace(Ur,"\n").replace(Vr,"")}function Yr(e,t,n){if(t=Wr(t),Wr(e)!==t&&n)throw Error(o(425))}function Xr(){}var Hr=null,qr=null;function Kr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,Qr="function"===typeof clearTimeout?clearTimeout:void 0,$r="function"===typeof Promise?Promise:void 0,Jr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof $r?function(e){return $r.resolve(null).then(e).catch(ei)}:Zr;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ft(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),oi="__reactFiber$"+ii,ai="__reactProps$"+ii,si="__reactContainer$"+ii,ui="__reactEvents$"+ii,ci="__reactListeners$"+ii,li="__reactHandles$"+ii;function fi(e){var t=e[oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[si]||n[oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[oi])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function di(e){return!(e=e[oi]||e[si])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function hi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function pi(e){return e[ai]||null}var gi=[],vi=-1;function mi(e){return{current:e}}function yi(e){0>vi||(e.current=gi[vi],gi[vi]=null,vi--)}function bi(e,t){gi[++vi]=e.current,e.current=t}var xi={},_i=mi(xi),wi=mi(!1),Ei=xi;function Si(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){yi(wi),yi(_i)}function Mi(e,t,n){if(_i.current!==xi)throw Error(o(168));bi(_i,t),bi(wi,n)}function Ci(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return R({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ei=_i.current,bi(_i,e),bi(wi,wi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ci(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,yi(wi),yi(_i),bi(_i,e)):yi(wi),bi(wi,n)}var Ti=null,Ii=!1,Ni=!1;function Pi(e){null===Ti?Ti=[e]:Ti.push(e)}function Di(){if(!Ni&&null!==Ti){Ni=!0;var e=0,t=vt;try{var n=Ti;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ti=null,Ii=!1}catch(i){throw null!==Ti&&(Ti=Ti.slice(e+1)),We(Ze,Di),i}finally{vt=t,Ni=!1}}return null}var Li=[],Ri=0,Bi=null,Fi=0,zi=[],Gi=0,Ui=null,Vi=1,Wi="";function Yi(e,t){Li[Ri++]=Fi,Li[Ri++]=Bi,Bi=e,Fi=t}function Xi(e,t,n){zi[Gi++]=Vi,zi[Gi++]=Wi,zi[Gi++]=Ui,Ui=e;var r=Vi;e=Wi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var o=32-rt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vi=1<<32-rt(t)+i|n<<i|r,Wi=o+e}else Vi=1<<o|n<<i|r,Wi=e}function Hi(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function qi(e){for(;e===Bi;)Bi=Li[--Ri],Li[Ri]=null,Fi=Li[--Ri],Li[Ri]=null;for(;e===Ui;)Ui=zi[--Gi],zi[Gi]=null,Wi=zi[--Gi],zi[Gi]=null,Vi=zi[--Gi],zi[Gi]=null}var Ki=null,Zi=null,Qi=!1,$i=null;function Ji(e,t){var n=gc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function eo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ki=e,Zi=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ki=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ui?{id:Vi,overflow:Wi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=gc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ki=e,Zi=null,!0);default:return!1}}function to(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function no(e){if(Qi){var t=Zi;if(t){var n=t;if(!eo(e,t)){if(to(e))throw Error(o(418));t=ni(n.nextSibling);var r=Ki;t&&eo(e,t)?Ji(r,n):(e.flags=-4097&e.flags|2,Qi=!1,Ki=e)}}else{if(to(e))throw Error(o(418));e.flags=-4097&e.flags|2,Qi=!1,Ki=e}}}function ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ki=e}function io(e){if(e!==Ki)return!1;if(!Qi)return ro(e),Qi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Kr(e.type,e.memoizedProps)),t&&(t=Zi)){if(to(e))throw oo(),Error(o(418));for(;t;)Ji(e,t),t=ni(t.nextSibling)}if(ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=Ki?ni(e.stateNode.nextSibling):null;return!0}function oo(){for(var e=Zi;e;)e=ni(e.nextSibling)}function ao(){Zi=Ki=null,Qi=!1}function so(e){null===$i?$i=[e]:$i.push(e)}var uo=x.ReactCurrentBatchConfig;function co(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var lo=mi(null),fo=null,ho=null,po=null;function go(){po=ho=fo=null}function vo(e){var t=lo.current;yi(lo),e._currentValue=t}function mo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yo(e,t){fo=e,po=ho=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ls=!0),e.firstContext=null)}function bo(e){var t=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:t,next:null},null===ho){if(null===fo)throw Error(o(308));ho=e,fo.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var xo=null;function _o(e){null===xo?xo=[e]:xo.push(e)}function wo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_o(t)):(n.next=i.next,i.next=n),t.interleaved=n,Eo(e,r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var So=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Co(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&vu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Eo(e,n)}return null===(i=r.interleaved)?(t.next=t,_o(r)):(t.next=i.next,i.next=t),r.interleaved=t,Eo(e,n)}function Ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function To(e,t,n,r){var i=e.updateQueue;So=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(h,f,d):p)||void 0===d)break e;f=R({},f,d);break e;case 2:So=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Su|=a,e.lanes=a,e.memoizedState=f}}function Io(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var No=(new r.Component).refs;function Po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Uu(),i=Vu(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Co(e,o,i))&&(Wu(t,e,i,r),Ao(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Uu(),i=Vu(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Co(e,o,i))&&(Wu(t,e,i,r),Ao(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Uu(),r=Vu(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Co(e,i,r))&&(Wu(t,e,r,n),Ao(t,e,r))}};function Lo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,o))}function Ro(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=bo(o):(i=Oi(t)?Ei:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Si(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Fo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=No,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=bo(o):(o=Oi(t)?Ei:_i.current,i.context=Si(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Po(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Do.enqueueReplaceState(i,i.state,null),To(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function zo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===No&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uo(e){return(0,e._init)(e._payload)}function Vo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&Uo(o)===t.type)?((r=i(t,n.props)).ref=zo(e,t,n),r.return=e,r):((r=yc(n.type,n.key,n.props,null,e.mode,r)).ref=zo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=wc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=bc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=yc(t.type,t.key,t.props,null,e.mode,n)).ref=zo(e,null,t),n.return=e,n;case w:return(t=wc(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(ee(t)||D(t))return(t=bc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(ee(n)||D(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function g(i,o,s,u){for(var c=null,l=null,f=o,g=o=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(i,f),Qi&&Yi(i,g),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(o=a(f,o,g),null===l?c=f:l.sibling=f,l=f);return Qi&&Yi(i,g),c}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach(function(e){return t(i,e)}),Qi&&Yi(i,g),c}function v(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),Qi&&Yi(i,v),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return Qi&&Yi(i,v),l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach(function(e){return t(i,e)}),Qi&&Yi(i,v),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Uo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=zo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=bc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=yc(a.type,a.key,a.props,null,r.mode,u)).ref=zo(r,o,a),u.return=r,r=u)}return s(r);case w:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=wc(a,r.mode,u)).return=r,r=o}return s(r);case I:return e(r,o,(l=a._init)(a._payload),u)}if(ee(a))return g(r,o,a,u);if(D(a))return v(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=_c(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Wo=Vo(!0),Yo=Vo(!1),Xo={},Ho=mi(Xo),qo=mi(Xo),Ko=mi(Xo);function Zo(e){if(e===Xo)throw Error(o(174));return e}function Qo(e,t){switch(bi(Ko,t),bi(qo,e),bi(Ho,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}yi(Ho),bi(Ho,t)}function $o(){yi(Ho),yi(qo),yi(Ko)}function Jo(e){Zo(Ko.current);var t=Zo(Ho.current),n=se(t,e.type);t!==n&&(bi(qo,e),bi(Ho,n))}function ea(e){qo.current===e&&(yi(Ho),yi(qo))}var ta=mi(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function ia(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var oa=x.ReactCurrentDispatcher,aa=x.ReactCurrentBatchConfig,sa=0,ua=null,ca=null,la=null,fa=!1,da=!1,ha=0,pa=0;function ga(){throw Error(o(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Qa:$a,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,la=ca=null,t.updateQueue=null,oa.current=Ja,e=n(r,i)}while(da)}if(oa.current=Za,t=null!==ca&&null!==ca.next,sa=0,la=ca=ua=null,fa=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?ua.memoizedState=la=e:la=la.next=e,la}function xa(){if(null===ca){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?ua.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?ua.memoizedState=la=e:la=la.next=e}return la}function _a(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((sa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,ua.lanes|=f,Su|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,tr(r,t.memoizedState)||(ls=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,Su|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);tr(a,t.memoizedState)||(ls=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Oa(e,t){var n=ua,r=xa(),i=t(),a=!tr(r.memoizedState,i);if(a&&(r.memoizedState=i,ls=!0),r=r.queue,Ra(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ma.bind(null,n,r,i,t),void 0,null),null===mu)throw Error(o(349));0!==(30&sa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&ja(e)}function Ca(e,t,n){return n(function(){Aa(t)&&ja(e)})}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function ja(e){var t=Eo(e,1);null!==t&&Wu(t,e,1,-1)}function Ta(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=Vu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ha(e))qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,tr(s,a)){var u=t.interleaved;return null===u?(i.next=i,_o(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=wo(e,t,i,r))&&(i=Uu(),Wu(n,e,r,i),Ka(n,t,r))}}.bind(null,ua,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return xa().memoizedState}function Pa(e,t,n,r){var i=ba();ua.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=Ia(t,n,o,r))}ua.flags|=e,i.memoizedState=Ia(1|t,n,o,r)}function La(e,t){return Pa(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function Ba(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,za.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ya(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,ls=!0),e.memoizedState=n):(tr(n,t)||(n=dt(),ua.lanes|=n,Su|=n,e.baseState=!0),t)}function Xa(){return xa().memoizedState}function Ha(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function qa(e,t){da=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ka(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Za={readContext:bo,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},Qa={readContext:bo,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:bo,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=Vu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ha(e)?qa(t,n):null!==(n=wo(e,t,n,r))&&(Wu(n,e,r,Uu()),Ka(n,t,r))}.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Ta,useDebugValue:Ua,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=function(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{vt=n,aa.transition=r}}.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=ba();if(Qi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mu)throw Error(o(349));0!==(30&sa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=mu.identifierPrefix;if(Qi){var n=Wi;t=":"+t+"R"+(n=(Vi&~(1<<32-rt(Vi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$a={readContext:bo,useCallback:Va,useContext:bo,useEffect:Ra,useImperativeHandle:Ga,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Wa,useReducer:wa,useRef:Na,useState:function(){return wa(_a)},useDebugValue:Ua,useDeferredValue:function(e){return Ya(xa(),ca.memoizedState,e)},useTransition:function(){return[wa(_a)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Oa,useId:Xa,unstable_isNewReconciler:!1},Ja={readContext:bo,useCallback:Va,useContext:bo,useEffect:Ra,useImperativeHandle:Ga,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Wa,useReducer:Ea,useRef:Na,useState:function(){return Ea(_a)},useDebugValue:Ua,useDeferredValue:function(e){var t=xa();return null===ca?t.memoizedState=e:Ya(t,ca.memoizedState,e)},useTransition:function(){return[Ea(_a)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Oa,useId:Xa,unstable_isNewReconciler:!1};function es(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ts(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ns(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rs="function"===typeof WeakMap?WeakMap:Map;function is(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iu||(Iu=!0,Nu=r),ns(0,t)},n}function os(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ns(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ns(0,t),"function"!==typeof r&&(null===Pu?Pu=new Set([this]):Pu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function as(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Uu(),e.pingedLanes|=e.suspendedLanes&n,mu===e&&(bu&n)===n&&(4===wu||3===wu&&(130023424&bu)===bu&&500>qe()-Au?Ju(e,0):ku|=n),Yu(e,t)}.bind(null,e,t,n),t.then(e,e))}function ss(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function us(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Co(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var cs=x.ReactCurrentOwner,ls=!1;function fs(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Wo(t,e.child,n,r)}function ds(e,t,n,r,i){n=n.render;var o=t.ref;return yo(t,i),r=ma(e,t,n,r,o,i),n=ya(),null===e||ls?(Qi&&n&&Hi(t),t.flags|=1,fs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ds(e,t,i))}function hs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||vc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=yc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ps(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(a,r)&&e.ref===t.ref)return Ds(e,t,i)}return t.flags|=1,(e=mc(o,r)).ref=t.ref,e.return=t,t.child=e}function ps(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(nr(o,r)&&e.ref===t.ref){if(ls=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ds(e,t,i);0!==(131072&e.flags)&&(ls=!0)}}return ms(e,t,n,r,i)}function gs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(_u,xu),xu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(_u,xu),xu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,bi(_u,xu),xu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bi(_u,xu),xu|=r;return fs(e,t,i,n),t.child}function vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ms(e,t,n,r,i){var o=Oi(n)?Ei:_i.current;return o=Si(t,o),yo(t,i),n=ma(e,t,n,r,o,i),r=ya(),null===e||ls?(Qi&&r&&Hi(t),t.flags|=1,fs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ds(e,t,i))}function ys(e,t,n,r,i){if(Oi(n)){var o=!0;Ai(t)}else o=!1;if(yo(t,i),null===t.stateNode)Ps(e,t),Ro(t,n,r),Fo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=bo(c):c=Si(t,c=Oi(n)?Ei:_i.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Bo(t,a,r,c),So=!1;var d=t.memoizedState;a.state=d,To(t,r,a,i),u=t.memoizedState,s!==r||d!==u||wi.current||So?("function"===typeof l&&(Po(t,n,l,r),u=t.memoizedState),(s=So||Lo(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ko(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:co(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=bo(u):u=Si(t,u=Oi(n)?Ei:_i.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Bo(t,a,r,u),So=!1,d=t.memoizedState,a.state=d,To(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||wi.current||So?("function"===typeof h&&(Po(t,n,h,r),p=t.memoizedState),(c=So||Lo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return bs(e,t,n,r,o,i)}function bs(e,t,n,r,i,o){vs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ds(e,t,o);r=t.stateNode,cs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Wo(t,e.child,null,o),t.child=Wo(t,null,s,o)):fs(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function xs(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Qo(e,t.containerInfo)}function _s(e,t,n,r,i){return ao(),so(i),t.flags|=256,fs(e,t,n,r),t.child}var ws,Es,Ss,Os,ks={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cs(e,t,n){var r,i=t.pendingProps,a=ta.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),bi(ta,1&a),null===e)return no(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=xc(u,i,0,null),e=bc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=ks,e):As(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,r=ts(Error(o(422))),js(e,t,s,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=xc({mode:"visible",children:r.children},i,0,null),(a=bc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Wo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=ks,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,a=Error(o(419)),r=ts(a,r,void 0),js(e,t,s,r)}if(u=0!==(s&e.childLanes),ls||u){if(null!==(r=mu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Eo(e,i),Wu(r,e,i,-1))}return nc(),r=ts(Error(o(421))),js(e,t,s,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),dc(e,n)}.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Zi=ni(i.nextSibling),Ki=t,Qi=!0,$i=null,null!==e&&(zi[Gi++]=Vi,zi[Gi++]=Wi,zi[Gi++]=Ui,Vi=e.id,Wi=e.overflow,Ui=t),(t=As(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=mc(r,s):(s=bc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=ks,i}return e=(s=e.child).sibling,i=mc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function As(e,t){return(t=xc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&so(r),Wo(t,e.child,null,n),(e=As(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),mo(e.return,t,n)}function Is(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(fs(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ts(e,n,t);else if(19===e.tag)Ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Is(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===na(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Is(t,!0,n,null,o);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Su|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ls(e,t){if(!Qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bs(e,t,n){var r=t.pendingProps;switch(qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(t),null;case 1:return Oi(t.type)&&ki(),Rs(t),null;case 3:return r=t.stateNode,$o(),yi(wi),yi(_i),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(io(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==$i&&(Hu($i),$i=null))),Es(e,t),Rs(t),null;case 5:ea(t);var i=Zo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Ss(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Rs(t),null}if(e=Zo(Ho.current),io(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[oi]=t,r[ai]=a,e=0!==(1&t.mode),n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(i=0;i<Cr.length;i++)Ir(Cr[i],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":K(r,a),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ir("invalid",r);break;case"textarea":re(r,a),Ir("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ir("scroll",r)}switch(n){case"input":Y(r),$(r,a,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[oi]=t,e[ai]=r,ws(e,t,!1,!1),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),i=r;break;case"iframe":case"object":case"embed":Ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cr.length;i++)Ir(Cr[i],e);i=r;break;case"source":Ir("error",e),i=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),i=r;break;case"details":Ir("toggle",e),i=r;break;case"input":K(e,r),i=q(e,r),Ir("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Ir("invalid",e);break;default:i=r}for(a in me(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ir("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":Y(e),$(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?te(e,!!r.multiple,a,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Rs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Ko.current),Zo(Ho.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[oi]=t,(a=r.nodeValue!==n)&&null!==(e=Ki))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[oi]=t,t.stateNode=r}return Rs(t),null;case 13:if(yi(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Qi&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))oo(),ao(),t.flags|=98560,a=!1;else if(a=io(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[oi]=t}else ao(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Rs(t),a=!1}else null!==$i&&(Hu($i),$i=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===wu&&(wu=3):nc())),null!==t.updateQueue&&(t.flags|=4),Rs(t),null);case 4:return $o(),Es(e,t),null===e&&Dr(t.stateNode.containerInfo),Rs(t),null;case 10:return vo(t.type._context),Rs(t),null;case 17:return Oi(t.type)&&ki(),Rs(t),null;case 19:if(yi(ta),null===(a=t.memoizedState))return Rs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ls(a,!1);else{if(0!==wu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=na(e))){for(t.flags|=128,Ls(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&qe()>ju&&(t.flags|=128,r=!0,Ls(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ls(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Qi)return Rs(t),null}else 2*qe()-a.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,Ls(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=ta.current,bi(ta,r?1&n|2:1&n),t):(Rs(t),null);case 22:case 23:return $u(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xu)&&(Rs(t),6&t.subtreeFlags&&(t.flags|=8192)):Rs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Fs(e,t){switch(qi(t),t.tag){case 1:return Oi(t.type)&&ki(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),yi(wi),yi(_i),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(yi(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ao()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return yi(ta),null;case 4:return $o(),null;case 10:return vo(t.type._context),null;case 22:case 23:return $u(),null;case 24:default:return null}}ws=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Es=function(){},Ss=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Ho.current);var o,a=null;switch(n){case"input":i=q(e,i),r=q(e,r),a=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":i=ne(e,i),r=ne(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ir("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var zs=!1,Gs=!1,Us="function"===typeof WeakSet?WeakSet:Set,Vs=null;function Ws(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Xs=!1;function Hs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Ys(t,n,o)}i=i.next}while(i!==r)}}function qs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ks(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Zs(e){var t=e.alternate;null!==t&&(e.alternate=null,Zs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[oi],delete t[ai],delete t[ui],delete t[ci],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qs(e){return 5===e.tag||3===e.tag||4===e.tag}function $s(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Js=null,eu=!1;function tu(e,t,n){for(n=n.child;null!==n;)nu(e,t,n),n=n.sibling}function nu(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(s){}switch(n.tag){case 5:Gs||Ws(n,t);case 6:var r=Js,i=eu;Js=null,tu(e,t,n),eu=i,null!==(Js=r)&&(eu?(e=Js,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Js.removeChild(n.stateNode));break;case 18:null!==Js&&(eu?(e=Js,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ft(e)):ti(Js,n.stateNode));break;case 4:r=Js,i=eu,Js=n.stateNode.containerInfo,eu=!0,tu(e,t,n),Js=r,eu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)?Ys(n,t,a):0!==(4&o)&&Ys(n,t,a)),i=i.next}while(i!==r)}tu(e,t,n);break;case 1:if(!Gs&&(Ws(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){fc(n,t,s)}tu(e,t,n);break;case 21:tu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,tu(e,t,n),Gs=r):tu(e,t,n);break;default:tu(e,t,n)}}function ru(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Us),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),dc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function iu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:Js=u.stateNode,eu=!1;break e;case 3:case 4:Js=u.stateNode.containerInfo,eu=!0;break e}u=u.return}if(null===Js)throw Error(o(160));nu(a,s,i),Js=null,eu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){fc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ou(t,e),t=t.sibling}function ou(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(iu(t,e),au(e),4&r){try{Hs(3,e,e.return),qs(3,e)}catch(v){fc(e,e.return,v)}try{Hs(5,e,e.return)}catch(v){fc(e,e.return,v)}}break;case 1:iu(t,e),au(e),512&r&&null!==n&&Ws(n,n.return);break;case 5:if(iu(t,e),au(e),512&r&&null!==n&&Ws(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){fc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Z(i,a),ye(u,s);var l=ye(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?le(i,d):"children"===f?fe(i,d):b(i,f,d,l)}switch(u){case"input":Q(i,a);break;case"textarea":ie(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?te(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?te(i,!!a.multiple,a.defaultValue,!0):te(i,!!a.multiple,a.multiple?[]:"",!1))}i[ai]=a}catch(v){fc(e,e.return,v)}}break;case 6:if(iu(t,e),au(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){fc(e,e.return,v)}}break;case 3:if(iu(t,e),au(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(v){fc(e,e.return,v)}break;case 4:iu(t,e),au(e);break;case 13:iu(t,e),au(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Au=qe())),4&r&&ru(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(l=Gs)||f,iu(t,e),Gs=l):iu(t,e),au(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Vs=e,f=e.child;null!==f;){for(d=Vs=f;null!==Vs;){switch(p=(h=Vs).child,h.tag){case 0:case 11:case 14:case 15:Hs(4,h,h.return);break;case 1:Ws(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){fc(r,n,v)}}break;case 5:Ws(h,h.return);break;case 22:if(null!==h.memoizedState){cu(d);continue}}null!==p?(p.return=h,Vs=p):cu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=pe("display",s))}catch(v){fc(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){fc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:iu(t,e),au(e),4&r&&ru(e);break;case 21:break;default:iu(t,e),au(e)}}function au(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Qs(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,$s(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Xr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,$s(e),a);break;default:throw Error(o(161))}}catch(s){fc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function su(e,t,n){Vs=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==Vs;){var o=Vs,a=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||zs;if(!s){var u=o.alternate,c=null!==u&&null!==u.memoizedState||Gs;u=zs;var l=Gs;if(zs=s,(Gs=c)&&!l)for(Vs=o;null!==Vs;)c=(s=Vs).child,22===s.tag&&null!==s.memoizedState?lu(o):null!==c?(c.return=s,Vs=c):lu(o);for(;null!==a;)Vs=a,e(a,n,r),a=a.sibling;Vs=o,zs=u,Gs=l}uu(t)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Vs=a):uu(t)}}(e,t,n)}function uu(e){for(;null!==Vs;){var t=Vs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||qs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:co(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Io(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Io(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ft(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Gs||512&t.flags&&Ks(t)}catch(h){fc(t,t.return,h)}}if(t===e){Vs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Vs=n;break}Vs=t.return}}function cu(e){for(;null!==Vs;){var t=Vs;if(t===e){Vs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Vs=n;break}Vs=t.return}}function lu(e){for(;null!==Vs;){var t=Vs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qs(4,t)}catch(u){fc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){fc(t,i,u)}}var o=t.return;try{Ks(t)}catch(u){fc(t,o,u)}break;case 5:var a=t.return;try{Ks(t)}catch(u){fc(t,a,u)}}}catch(u){fc(t,t.return,u)}if(t===e){Vs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Vs=s;break}Vs=t.return}}var fu,du=Math.ceil,hu=x.ReactCurrentDispatcher,pu=x.ReactCurrentOwner,gu=x.ReactCurrentBatchConfig,vu=0,mu=null,yu=null,bu=0,xu=0,_u=mi(0),wu=0,Eu=null,Su=0,Ou=0,ku=0,Mu=null,Cu=null,Au=0,ju=1/0,Tu=null,Iu=!1,Nu=null,Pu=null,Du=!1,Lu=null,Ru=0,Bu=0,Fu=null,zu=-1,Gu=0;function Uu(){return 0!==(6&vu)?qe():-1!==zu?zu:zu=qe()}function Vu(e){return 0===(1&e.mode)?1:0!==(2&vu)&&0!==bu?bu&-bu:null!==uo.transition?(0===Gu&&(Gu=dt()),Gu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Ht(e.type)}function Wu(e,t,n,r){if(50<Bu)throw Bu=0,Fu=null,Error(o(185));pt(e,n,r),0!==(2&vu)&&e===mu||(e===mu&&(0===(2&vu)&&(Ou|=n),4===wu&&qu(e,bu)),Yu(e,r),1===n&&0===vu&&0===(1&t.mode)&&(ju=qe()+500,Ii&&Di()))}function Yu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rt(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=lt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ct(e,e===mu?bu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ii=!0,Pi(e)}(Ku.bind(null,e)):Pi(Ku.bind(null,e)),Jr(function(){0===(6&vu)&&Di()}),n=null;else{switch(mt(r)){case 1:n=Ze;break;case 4:n=Qe;break;case 16:n=$e;break;case 536870912:n=et;break;default:n=$e}n=hc(n,function e(t,n){zu=-1;Gu=0;if(0!==(6&vu))throw Error(o(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var i=ct(t,t===mu?bu:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=rc(t,i);else{n=i;var a=vu;vu|=2;var s=tc();for(mu===t&&bu===n||(Tu=null,ju=qe()+500,Ju(t,n));;)try{oc();break}catch(c){ec(t,c)}go(),hu.current=s,vu=a,null!==yu?n=0:(mu=null,bu=0,n=wu)}if(0!==n){if(2===n&&(0!==(a=ft(t))&&(i=a,n=Xu(t,a))),1===n)throw r=Eu,Ju(t,0),qu(t,i),Yu(t,qe()),r;if(6===n)qu(t,i);else{if(a=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tr(o(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(n=rc(t,i))&&(0!==(s=ft(t))&&(i=s,n=Xu(t,s))),1===n))throw r=Eu,Ju(t,0),qu(t,i),Yu(t,qe()),r;switch(t.finishedWork=a,t.finishedLanes=i,n){case 0:case 1:throw Error(o(345));case 2:uc(t,Cu,Tu);break;case 3:if(qu(t,i),(130023424&i)===i&&10<(n=Au+500-qe())){if(0!==ct(t,0))break;if(((a=t.suspendedLanes)&i)!==i){Uu(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Zr(uc.bind(null,t,Cu,Tu),n);break}uc(t,Cu,Tu);break;case 4:if(qu(t,i),(4194240&i)===i)break;for(n=t.eventTimes,a=-1;0<i;){var u=31-rt(i);s=1<<u,(u=n[u])>a&&(a=u),i&=~s}if(i=a,10<(i=(120>(i=qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*du(i/1960))-i)){t.timeoutHandle=Zr(uc.bind(null,t,Cu,Tu),i);break}uc(t,Cu,Tu);break;case 5:uc(t,Cu,Tu);break;default:throw Error(o(329))}}}Yu(t,qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xu(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(Ju(e,t).flags|=256),2!==(e=rc(e,t))&&(t=Cu,Cu=n,null!==t&&Hu(t)),e}function Hu(e){null===Cu?Cu=e:Cu.push.apply(Cu,e)}function qu(e,t){for(t&=~ku,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Ku(e){if(0!==(6&vu))throw Error(o(327));cc();var t=ct(e,0);if(0===(1&t))return Yu(e,qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Xu(e,r))}if(1===n)throw n=Eu,Ju(e,0),qu(e,t),Yu(e,qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uc(e,Cu,Tu),Yu(e,qe()),null}function Zu(e,t){var n=vu;vu|=1;try{return e(t)}finally{0===(vu=n)&&(ju=qe()+500,Ii&&Di())}}function Qu(e){null!==Lu&&0===Lu.tag&&0===(6&vu)&&cc();var t=vu;vu|=1;var n=gu.transition,r=vt;try{if(gu.transition=null,vt=1,e)return e()}finally{vt=r,gu.transition=n,0===(6&(vu=t))&&Di()}}function $u(){xu=_u.current,yi(_u)}function Ju(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Qr(n)),null!==yu)for(n=yu.return;null!==n;){var r=n;switch(qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ki();break;case 3:$o(),yi(wi),yi(_i),ia();break;case 5:ea(r);break;case 4:$o();break;case 13:case 19:yi(ta);break;case 10:vo(r.type._context);break;case 22:case 23:$u()}n=n.return}if(mu=e,yu=e=mc(e.current,null),bu=xu=t,wu=0,Eu=null,ku=Ou=Su=0,Cu=Mu=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function ec(e,t){for(;;){var n=yu;try{if(go(),oa.current=Za,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(sa=0,la=ca=ua=null,da=!1,ha=0,pu.current=null,null===n||null===n.return){wu=1,Eu=t,yu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=bu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ss(s);if(null!==p){p.flags&=-257,us(p,s,u,0,t),1&p.mode&&as(a,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}if(0===(1&t)){as(a,l,t),nc();break e}c=Error(o(426))}else if(Qi&&1&u.mode){var m=ss(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),us(m,s,u,0,t),so(es(c,u));break e}}a=c=es(c,u),4!==wu&&(wu=2),null===Mu?Mu=[a]:Mu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,is(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Pu||!Pu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,os(a,u,t));break e}}a=a.return}while(null!==a)}sc(n)}catch(x){t=x,yu===n&&null!==n&&(yu=n=n.return);continue}break}}function tc(){var e=hu.current;return hu.current=Za,null===e?Za:e}function nc(){0!==wu&&3!==wu&&2!==wu||(wu=4),null===mu||0===(268435455&Su)&&0===(268435455&Ou)||qu(mu,bu)}function rc(e,t){var n=vu;vu|=2;var r=tc();for(mu===e&&bu===t||(Tu=null,Ju(e,t));;)try{ic();break}catch(i){ec(e,i)}if(go(),vu=n,hu.current=r,null!==yu)throw Error(o(261));return mu=null,bu=0,wu}function ic(){for(;null!==yu;)ac(yu)}function oc(){for(;null!==yu&&!Xe();)ac(yu)}function ac(e){var t=fu(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===t?sc(e):yu=t,pu.current=null}function sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Bs(n,t,xu)))return void(yu=n)}else{if(null!==(n=Fs(n,t)))return n.flags&=32767,void(yu=n);if(null===e)return wu=6,void(yu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===wu&&(wu=5)}function uc(e,t,n){var r=vt,i=gu.transition;try{gu.transition=null,vt=1,function(e,t,n,r){do{cc()}while(null!==Lu);if(0!==(6&vu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===mu&&(yu=mu=null,bu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Du||(Du=!0,hc($e,function(){return cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=gu.transition,gu.transition=null;var s=vt;vt=1;var u=vu;vu|=4,pu.current=null,function(e,t){if(Hr=Gt,ar(e=or())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qr={focusedElem:e,selectionRange:n},Gt=!1,Vs=t;null!==Vs;)if(e=(t=Vs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Vs=e;else for(;null!==Vs;){t=Vs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:co(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(_){fc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Vs=e;break}Vs=t.return}g=Xs,Xs=!1}(e,n),ou(n,e),sr(qr),Gt=!!Hr,qr=Hr=null,e.current=n,su(n,e,i),He(),vu=u,vt=s,gu.transition=a}else e.current=n;if(Du&&(Du=!1,Lu=e,Ru=i),0===(a=e.pendingLanes)&&(Pu=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Yu(e,qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Iu)throw Iu=!1,e=Nu,Nu=null,e;0!==(1&Ru)&&0!==e.tag&&cc(),0!==(1&(a=e.pendingLanes))?e===Fu?Bu++:(Bu=0,Fu=e):Bu=0,Di()}(e,t,n,r)}finally{gu.transition=i,vt=r}return null}function cc(){if(null!==Lu){var e=mt(Ru),t=gu.transition,n=vt;try{if(gu.transition=null,vt=16>e?16:e,null===Lu)var r=!1;else{if(e=Lu,Lu=null,Ru=0,0!==(6&vu))throw Error(o(331));var i=vu;for(vu|=4,Vs=e.current;null!==Vs;){var a=Vs,s=a.child;if(0!==(16&Vs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Vs=l;null!==Vs;){var f=Vs;switch(f.tag){case 0:case 11:case 15:Hs(8,f,a)}var d=f.child;if(null!==d)d.return=f,Vs=d;else for(;null!==Vs;){var h=(f=Vs).sibling,p=f.return;if(Zs(f),f===l){Vs=null;break}if(null!==h){h.return=p,Vs=h;break}Vs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Vs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Vs=s;else e:for(;null!==Vs;){if(0!==(2048&(a=Vs).flags))switch(a.tag){case 0:case 11:case 15:Hs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Vs=y;break e}Vs=a.return}}var b=e.current;for(Vs=b;null!==Vs;){var x=(s=Vs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Vs=x;else e:for(s=b;null!==Vs;){if(0!==(2048&(u=Vs).flags))try{switch(u.tag){case 0:case 11:case 15:qs(9,u)}}catch(w){fc(u,u.return,w)}if(u===s){Vs=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Vs=_;break e}Vs=u.return}}if(vu=i,Di(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(w){}r=!0}return r}finally{vt=n,gu.transition=t}}return!1}function lc(e,t,n){e=Co(e,t=is(0,t=es(n,t),1),1),t=Uu(),null!==e&&(pt(e,1,t),Yu(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Pu||!Pu.has(r))){t=Co(t,e=os(t,e=es(n,e),1),1),e=Uu(),null!==t&&(pt(t,1,e),Yu(t,e));break}}t=t.return}}function dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=Uu();null!==(e=Eo(e,t))&&(pt(e,t,n),Yu(e,n))}function hc(e,t){return We(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gc(e,t,n,r){return new pc(e,t,n,r)}function vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function mc(e,t){var n=e.alternate;return null===n?((n=gc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)vc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return bc(n.children,i,a,t);case S:s=8,i|=8;break;case O:return(e=gc(12,n,t,2|i)).elementType=O,e.lanes=a,e;case A:return(e=gc(13,n,t,i)).elementType=A,e.lanes=a,e;case j:return(e=gc(19,n,t,i)).elementType=j,e.lanes=a,e;case N:return xc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case M:s=9;break e;case C:s=11;break e;case T:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=gc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function bc(e,t,n,r){return(e=gc(7,e,r,t)).lanes=n,e}function xc(e,t,n,r){return(e=gc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function _c(e,t,n){return(e=gc(6,e,null,t)).lanes=n,e}function wc(e,t,n){return(t=gc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ec(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sc(e,t,n,r,i,o,a,s,u){return e=new Ec(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=gc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Oc(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ci(e,n,t)}return t}function kc(e,t,n,r,i,o,a,s,u){return(e=Sc(n,r,!0,e,0,o,0,s,u)).context=Oc(null),n=e.current,(o=Mo(r=Uu(),i=Vu(n))).callback=void 0!==t&&null!==t?t:null,Co(n,o,i),e.current.lanes=i,pt(e,i,r),Yu(e,r),e}function Mc(e,t,n,r){var i=t.current,o=Uu(),a=Vu(i);return n=Oc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Co(i,t,a))&&(Wu(e,i,a,o),Ao(e,i,a)),a}function Cc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ac(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jc(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}fu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wi.current)ls=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ls=!1,function(e,t,n){switch(t.tag){case 3:xs(t),ao();break;case 5:Jo(t);break;case 1:Oi(t.type)&&Ai(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(lo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Cs(e,t,n):(bi(ta,1&ta.current),null!==(e=Ds(e,t,n))?e.sibling:null);bi(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ns(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,gs(e,t,n)}return Ds(e,t,n)}(e,t,n);ls=0!==(131072&e.flags)}else ls=!1,Qi&&0!==(1048576&t.flags)&&Xi(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ps(e,t),e=t.pendingProps;var i=Si(t,_i.current);yo(t,n),i=ma(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Ai(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Do,t.stateNode=i,i._reactInternals=t,Fo(t,r,e,n),t=bs(null,t,r,!0,a,n)):(t.tag=0,Qi&&a&&Hi(t),fs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return vc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(r),e=co(r,e),i){case 0:t=ms(null,t,r,e,n);break e;case 1:t=ys(null,t,r,e,n);break e;case 11:t=ds(null,t,r,e,n);break e;case 14:t=hs(null,t,r,co(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ms(e,t,r,i=t.elementType===r?i:co(r,i),n);case 1:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:co(r,i),n);case 3:e:{if(xs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,ko(e,t),To(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_s(e,t,r,n,i=es(Error(o(423)),t));break e}if(r!==i){t=_s(e,t,r,n,i=es(Error(o(424)),t));break e}for(Zi=ni(t.stateNode.containerInfo.firstChild),Ki=t,Qi=!0,$i=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ao(),r===i){t=Ds(e,t,n);break e}fs(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&no(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=32),vs(e,t),fs(e,t,s,n),t.child;case 6:return null===e&&no(t),null;case 13:return Cs(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wo(t,null,r,n):fs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ds(e,t,r,i=t.elementType===r?i:co(r,i),n);case 7:return fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,bi(lo,r._currentValue),r._currentValue=s,null!==a)if(tr(a.value,s)){if(a.children===i.children&&!wi.current){t=Ds(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),mo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),mo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}fs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yo(t,n),r=r(i=bo(i)),t.flags|=1,fs(e,t,r,n),t.child;case 14:return i=co(r=t.type,t.pendingProps),hs(e,t,r,i=co(r.type,i),n);case 15:return ps(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),Ps(e,t),t.tag=1,Oi(r)?(e=!0,Ai(t)):e=!1,yo(t,n),Ro(t,r,i),Fo(t,r,i,n),bs(null,t,r,!0,e,n);case 19:return Ns(e,t,n);case 22:return gs(e,t,n)}throw Error(o(156,t.tag))};var Tc="function"===typeof reportError?reportError:function(e){console.error(e)};function Ic(e){this._internalRoot=e}function Nc(e){this._internalRoot=e}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Dc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Lc(){}function Rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Cc(a);s.call(e)}}Mc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Cc(a);o.call(e)}}var a=kc(t,r,e,0,null,!1,0,"",Lc);return e._reactRootContainer=a,e[si]=a.current,Dr(8===e.nodeType?e.parentNode:e),Qu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Cc(u);s.call(e)}}var u=Sc(e,0,!1,null,0,!1,0,"",Lc);return e._reactRootContainer=u,e[si]=u.current,Dr(8===e.nodeType?e.parentNode:e),Qu(function(){Mc(t,u,n,r)}),u}(n,t,e,i,r);return Cc(a)}Nc.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Mc(e,t,null,null)},Nc.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qu(function(){Mc(null,e,null,null)}),t[si]=null}},Nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Pt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),Yu(t,qe()),0===(6&vu)&&(ju=qe()+500,Di()))}break;case 13:Qu(function(){var t=Eo(e,1);if(null!==t){var n=Uu();Wu(t,e,1,n)}}),jc(e,1)}},bt=function(e){if(13===e.tag){var t=Eo(e,134217728);if(null!==t)Wu(t,e,134217728,Uu());jc(e,134217728)}},xt=function(e){if(13===e.tag){var t=Vu(e),n=Eo(e,t);if(null!==n)Wu(n,e,t,Uu());jc(e,t)}},_t=function(){return vt},wt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(o(90));X(r),Q(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Me=Zu,Ce=Qu;var Bc={usingClientEntryPoint:!1,Events:[di,hi,pi,Oe,ke,Zu]},Fc={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zc={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{tt=Gc.inject(zc),nt=Gc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Pc(e))throw Error(o(299));var n=!1,r="",i=Tc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Sc(e,1,!1,null,0,n,0,r,i),e[si]=t.current,Dr(8===e.nodeType?e.parentNode:e),new Ic(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return Qu(e)},t.hydrate=function(e,t,n){if(!Dc(t))throw Error(o(200));return Rc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Tc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=kc(t,null,e,1,null!=n?n:null,i,0,a,s),e[si]=t.current,Dr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nc(t)},t.render=function(e,t,n){if(!Dc(t))throw Error(o(200));return Rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Dc(e))throw Error(o(40));return!!e._reactRootContainer&&(Qu(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[si]=null})}),!0)},t.unstable_batchedUpdates=Zu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Rc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(235)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(v=!1,x(e),!g)if(null!==r(c))g=!0,N(w);else{var t=r(l);null!==t&&P(_,t.startTime-e)}}function w(e,n){g=!1,v&&(v=!1,y(k),k=-1),p=!0;var o=h;try{for(x(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),x(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&P(_,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,O=null,k=-1,M=5,C=-1;function A(){return!(t.unstable_now()-C<M)}function j(){if(null!==O){var e=t.unstable_now();C=e;var n=!0;try{n=O(!0,e)}finally{n?E():(S=!1,O=null)}}else S=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=j,E=function(){I.postMessage(null)}}else E=function(){m(j,0)};function N(e){O=e,S||(S=!0,E())}function P(e,n){k=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(y(k),k=-1):v=!0,P(_,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,N(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}).call(this,n(236).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(237),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(74))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(74),n(125))},function(e,t,n){},,,,function(e,t,n){"use strict";var r=n(1),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},,,,,,function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(20),a=n.n(o),s=n(1),u=n(121),c=n(23),l=n(11),f=s.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.children,f=e.controlId,d=e.label,h=Object(i.a)(e,["bsPrefix","className","children","controlId","label"]);return n=Object(c.c)(n,"form-floating"),Object(l.jsxs)(u.a,Object(r.a)({ref:t,className:a()(o,n),controlId:f},h,{children:[s,Object(l.jsx)("label",{htmlFor:f,children:d})]}))});f.displayName="FloatingLabel",t.a=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(254),i=r.detectCycleAsync;t.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=o},function(e,t,n){"use strict";var r=n(251);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,i=(r=n(255))&&r.__esModule?r:{default:r},o=n(126);t.getAdjMatrixAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,i.default)(o.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(126),o=(r=n(256))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise(function(n,r){var a=new o.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,o=t.data,s=t._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}})}};t.default=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(257)),o=n(126);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};t.default=null},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return f.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return f.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var i=x(n(90)),o=x(n(258)),a=x(n(162)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(139)),u=x(n(261)),c=x(n(140)),l=x(n(127)),f=n(262),d=x(n(141)),h=x(n(263)),p=x(n(264)),g=x(n(269)),v=x(n(272)),m=x(n(273)),y=n(57);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(259))&&r.__esModule?r:{default:r},o=n(57);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new i.default,u=e.edges,c=void 0===u?[]:u;s.enqueue(t);for(var l="",f=function(){var e=s.dequeue();a.enter({current:e,previous:l}),(0,o.getNeighbors)(e,c,r?"target":void 0).forEach(function(t){a.allowTraversal({previous:l,current:e,next:t})&&s.enqueue(t)}),a.leave({current:e,previous:l}),l=e};!s.isEmpty();)f()};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(260))&&r.__esModule?r:{default:r};var o=function(){function e(){this.linkedList=new i.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var r=function(e,t){return e===t},i=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=i;var o=function(){function e(e){void 0===e&&(e=r),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new i(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new i(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach(function(e){return t.append(e)}),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},e}();t.default=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var i,o=(i=n(140))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(162)),s=n(57);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,c=(0,a.default)(e,!1);u<c.length;u++){var l=c[u];if(l.length)for(var f=l[0],d=f.id,h=[f],p=((r={})[d]=f,r),g=((i={})[d]=new Set,i);h.length>0;)for(var v=h.pop(),m=v.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var i,a=y[r],s=e.nodes.find(function(e){return e.id===a});if(a===m)o.push(((i={})[a]=v,i));else if(a in g){if(!g[m].has(s)){for(var u=!0,c=[s,v],l=p[m];g[a].size&&!g[a].has(l)&&(c.push(l),l!==p[l.id]);)l=p[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex(function(e){return t.indexOf(e.id)>-1})>-1&&(u=!0)):t&&!n&&c.findIndex(function(e){return t.indexOf(e.id)>-1})>-1&&(u=!1),u){for(var f={},d=1;d<c.length;d+=1)f[c[d-1].id]=c[d];c.length&&(f[c[c.length-1].id]=c[0]),o.push(f)}g[a].add(v)}}else p[a]=v,h.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return o};t.detectAllUndirectedCycle=c;var l=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],c={},l={},f=function e(a,s,l){var f=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return f;r.push(a),i.add(a);for(var d=l[a.id],h=0;h<d.length;h+=1){if((v=c[d[h]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),f=!0}else i.has(v)||e(v,s,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach(function(e){t.push(e)}),o[n.id].clear())}}(a);else for(h=0;h<d.length;h+=1){var v=c[d[h]];o[v.id].has(a)||o[v.id].add(a)}return r.pop(),f},d=e.nodes,h=void 0===d?[]:d,p=0;p<h.length;p+=1){var g=h[p],v=g.id;l[v]=p,c[p]=g}if(t&&n){var m=function(e){var n=t[e];l[h[e].id]=l[n],l[n]=0,c[0]=h.find(function(e){return e.id===n}),c[l[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var i,o,a=1/0,c=0;c<r.length;c+=1)for(var f=r[c],d=0;d<f.length;d++){var h=l[f[d].id];h<a&&(a=h,o=c)}var p=r[o],g=[];for(c=0;c<p.length;c+=1){var v=p[c];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,e.edges,"target").filter(function(e){return p.map(function(e){return e.id}).indexOf(e)>-1});m<y.length;m++){var b=y[m];b!==v.id||!1===n&&t.indexOf(v.id)>-1?g[v.id].push(l[b]):u.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<h.length;){var x=h.filter(function(e){return l[e.id]>=b}),_=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter(function(e){return e.length>1});if(0===_.length)break;var w=y(_),E=w.minIdx,S=w.adjList,O=w.component;if(!(O.length>1))break;O.forEach(function(e){o[e.id]=new Set});var k=c[E];if(t&&n&&-1===t.indexOf(k.id))return u;f(k,k,S),b=E+1}return u};t.detectAllDirectedCycle=l;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?l(e,n,r):c(e,n,r)};var f=function(e){var t=null,n=e.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach(function(e){i[e.id]=e});for(var u={enter:function(e){var n=e.current,o=e.previous;if(a[n]){t={};for(var s=n,u=o;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(i).length;){var c=Object.keys(i)[0];(0,o.default)(e,c,u)}return t};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r},o=n(57);t.findShortestPath=function(e,t,n,r,o){var a=(0,i.default)(e,t,r,o),s=a.length,u=a.path,c=a.allPath;return{length:s[n],path:u[n],allPath:c[n]}};t.findAllPath=function(e,t,n,r){var i;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],c=((i={})[t]=!0,i),l=[],f=[],d=r?(0,o.getNeighbors)(t,s,"target"):(0,o.getNeighbors)(t,s);for(l.push(d);u.length>0&&l.length>0;){var h=l[l.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),c[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),l.push(d.filter(function(e){return!c[e]}))),u[u.length-1]===n){var g=u.map(function(e){return e});f.push(g),v=u.pop(),c[v]=!1,l.pop()}}else{var v=u.pop();c[v]=!1,l.pop()}}return f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(90))&&r.__esModule?r:{default:r},o=n(57);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={},f={};s.forEach(function(e,t){var n=(0,o.uniqueId)();e.clusterId=n,l[n]={id:n,nodes:[e]},f[e.id]={node:e,idx:t}});var d=(0,i.default)(e,t),h=[],p={};d.forEach(function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach(function(e,t){if(e){n+=e;var i=s[t].id;p[r][i]=e}}),h.push(n)});for(var g=0,v=function(){var e=!1;if(s.forEach(function(t){var n={};Object.keys(p[t.id]).forEach(function(e){var r=p[t.id][e],i=f[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r});var r=-1/0,i=[];if(Object.keys(n).forEach(function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)}),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=l[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),c=l[i[u]];c.nodes.push(t),t.clusterId=c.id}}}),!e)return"break";g++};g<r&&"break"!==v(););Object.keys(l).forEach(function(e){var t=l[e];t.nodes&&t.nodes.length||delete l[e]});var m=[],y={};c.forEach(function(e){var t=e.source,r=e.target,i=e[n]||1,o=f[t].node.clusterId,a=f[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,m.push(u)}});var b=[];return Object.keys(l).forEach(function(e){b.push(l[e])}),{clusters:b,clusterEdges:m}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=u(n(90)),o=u(n(142)),a=n(265),s=n(267);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,c=0;c<i;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/o}return a*=1/o},l=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(t[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(c=new o.default(t[i])).squareEuclideanDistance(a)}var u=[];e.forEach(function(){u.push([])});for(i=0;i<n;i++){var c=new o.default(t[i]);e[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var f=new o.default(t[l]);u[i][l]=c.squareEuclideanDistance(f),e[i].clusterInertial+=u[i][l]}else u[i][l]=0}var d=0,h=2*n*s;for(i=0;i<n;i++){var p=e[i].clusterId;for(l=0;l<n;l++){var g=e[l].clusterId;if(i!==l&&p===g)d+=e[i].clusterInertial*e[l].clusterInertial/Math.pow(h,2)-u[i][l]/h}}return Number(d.toFixed(4))},f=function(e,t,n,o,u,f,d,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===f&&(f=void 0),void 0===d&&(d=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var g=e.nodes,v=void 0===g?[]:g,m=e.edges,y=void 0===m?[]:m,b=[];if(u){v.forEach(function(e,t){e.properties=e.properties||{},e.originIndex=t});var x=[];v.every(function(e){return e.hasOwnProperty("nodeType")})&&(x=Array.from(new Set(v.map(function(e){return e.nodeType}))),v.forEach(function(e){e.properties.nodeType=x.findIndex(function(t){return t===e.nodeType})}));var _=(0,a.getAllProperties)(v,f);b=(0,s.oneHot)(_,d,h)}var w=1,E={},S={};v.forEach(function(e,t){var n=String(w++);e.clusterId=n,E[n]={id:n,nodes:[e]},S[e.id]={node:e,idx:t}});var O=(0,i.default)(e,t),k=[],M={},C=0;O.forEach(function(e,t){var n=0,r=v[t].id;M[r]={},e.forEach(function(e,t){if(e){n+=e;var i=v[t].id;M[r][i]=e,C+=e}}),k.push(n)}),C/=2;for(var A=1/0,j=1/0,T=0,I=[],N={};;){A=u&&v.every(function(e){return e.hasOwnProperty("properties")})?c(v,O,k,C)+l(v,b)*p:c(v,O,k,C),0===T&&(j=A,I=v,N=E);var P=A>0&&A>j&&A-j<o;if(A>j&&(I=v.map(function(e){return{node:e,clusterId:e.clusterId}}),N=(0,r.clone)(E),j=A),P||T>100)break;T++,Object.keys(E).forEach(function(e){var t=0;y.forEach(function(r){var i=r.source,o=r.target,a=S[i].node.clusterId,s=S[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)}),E[e].sumTot=t}),v.forEach(function(e,t){var r,i=E[e.clusterId],o=0,a=k[t]/(2*C),s=0,c=i.nodes;c.forEach(function(e){var n=S[e.id].idx;s+=O[t][n]||0});var f=s-i.sumTot*a,d=c.filter(function(t){return t.id!==e.id}),h=[];d.forEach(function(e,t){h[t]=b[e.originIndex]});var g=l(d,b)*p,v=M[e.id];if(Object.keys(v).forEach(function(n){var i=S[n].node.clusterId;if(i!==e.clusterId){var s=E[i],c=s.nodes;if(c&&c.length){var d=0;c.forEach(function(e){var n=S[e.id].idx;d+=O[t][n]||0});var h=d-s.sumTot*a,v=c.concat([e]),m=[];v.forEach(function(e,t){m[t]=b[e.originIndex]});var y=l(v,b)*p,x=h-f;u&&(x=h+y-(f+g)),x>o&&(o=x,r=s)}}}),o>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=i.nodes.indexOf(e);i.nodes.splice(x,1);var _=0,w=0;y.forEach(function(e){var t=e.source,i=e.target,o=S[t].node.clusterId,a=S[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(_+=e[n]||1),(o===m&&a!==m||a===m&&o!==m)&&(w+=e[n]||1)}),r.sumTot=_,i.sumTot=w}})}var D={},L=0;Object.keys(N).forEach(function(e){var t=N[e];if(t.nodes&&t.nodes.length){var n=String(L+1);n!==e&&(t.id=n,t.nodes=t.nodes.map(function(e){return{id:e.id,clusterId:n}}),N[n]=t,D[e]=n,delete N[e],L++)}else delete N[e]}),I.forEach(function(e){var t=e.node,n=e.clusterId;t&&(t.clusterId=n,t.clusterId&&D[t.clusterId]&&(t.clusterId=D[t.clusterId]))});var R=[],B={};y.forEach(function(e){var t=e.source,r=e.target,i=e[n]||1,o=S[t].node.clusterId,a=S[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(B[s])B[s].weight+=i,B[s].count++;else{var u={source:o,target:a,weight:i,count:1};B[s]=u,R.push(u)}}});var F=[];return Object.keys(N).forEach(function(e){F.push(N[e])}),{clusters:F,clusterEdges:R}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(266),i=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach(function(e){e.properties&&Object.keys(e.properties).forEach(function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1})});var i=Object.keys(n).sort(function(e,t){return n[t]-n[e]});return i.length<t?i:i.slice(0,t)};t.getAllSortProperties=i;var o=function(e,t){return t.map(function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0})},a=function(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n[r]=o(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach(function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])}),n};t.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,i=n(0),o=n(268),a=(r=n(142))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach(function(e){r=r.concat(Object.keys(e))}),r=(0,i.uniq)(r));var o={};return r.forEach(function(t){var r=[];e.forEach(function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])}),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,i.uniq)(r))}),o};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),i=[];return Object.keys(r).length?(e.forEach(function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every(function(e){return!isNaN(Number(e))})&&(n=[e[o]])}else Object.keys(r).forEach(function(t){for(var i=e[t],o=r[t],a=o.findIndex(function(e){return i===e}),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)});i[t]=n}),i):i};t.oneHot=u;var c=function(e,t,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;switch(n){case o.DistanceType.EuclideanDistance:i=new a.default(e).euclideanDistance(new a.default(t))}return i};t.getDistance=c;var l={getAllKeyValueMap:s,oneHot:u,getDistance:c};t.default=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=r,function(e){e.EuclideanDistance="euclideanDistance"}(r||(t.DistanceType=r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(270)),i=a(n(271)),o=n(57);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var c=a[0],l=new Set;l.add(c);var f=new i.default(function(e,n){return t?e.weight-n.weight:0});for((0,o.getEdgesByNodeId)(c.id,u).forEach(function(e){f.insert(e)});!f.isEmpty();){var d=f.delMin(),h=d.source,p=d.target;l.has(h)&&l.has(p)||(n.push(d),l.has(h)||(l.add(h),(0,o.getEdgesByNodeId)(h,u).forEach(function(e){f.insert(e)})),l.has(p)||(l.add(p),(0,o.getEdgesByNodeId)(p,u).forEach(function(e){f.insert(e)})))}return n},u=function(e,t){var n=[],i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map(function(e){return e});t&&u.sort(function(e,t){return e.weight-t.weight});for(var c=new r.default(o.map(function(e){return e.id}));u.length>0;){var l=u.shift(),f=l.source,d=l.target;c.connected(f,d)||(n.push(l),c.union(f,d))}return n},c=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return e-t},i=function(){function e(e){void 0===e&&(e=r),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(139))&&r.__esModule?r:{default:r},o=n(57);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=l.length,p={},g={},v=0;v<h;++v)p[y=(E=l[v]).id]=1/h,g[y]=1/h;for(var m=(0,i.default)(e);u>0&&a>t;){for(s=0,v=0;v<h;++v){var y=(E=l[v]).id;if(r=0,0===m[E.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var _=b[x],w=m[_].outDegree;w>0&&(r+=g[_]/w)}p[y]=n*r,s+=p[y]}}for(s=(1-s)/h,a=0,v=0;v<h;++v){var E;r=p[y=(E=l[v]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}u-=1}return g};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2),i=u(n(141)),o=u(n(274)),a=u(n(127)),s=n(57);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach(function(e,t){i.push(l(o,e,t,n,r))}),i},l=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach(function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}}),Object.keys(s).forEach(function(e){s[e].dists=s[e].dists.sort(function(e,t){return e-t})}),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},f=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach(function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter(function(e){return f.has(e)});if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach(function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)})}}}}),r},d=function(e,t,n,r){var i,o,a={};e.nodes.forEach(function(e){a[e.id]=e});var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach(function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(i===u&&o===c||i===c&&o===u)&&s++}),s)},h=function(e,t){var n={},r={};return e.forEach(function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)}),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},i={};return e.forEach(function(e,o){r["".concat(s.uniqueId)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var c=n[e.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:r,edgeLabelMap:i}},g=function(e,t,n){var r=t.length,i={};return t.forEach(function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var c=e[u].id,l=t[u];i["".concat(s,"-").concat(c)]=l,n||(i["".concat(c,"-").concat(s)]=l)}}),i},v=function(e,t,n,r,i,o,a,s,u,c,l){var h,p="".concat(t.id,"-").concat(n.id);if(c&&c[p])return c[p];var g=l?l[p]:void 0;if(!g){var v=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:i},h);g=(l=f(v,o,e,l))[p]}return d(g,a,s,u)},m=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach(function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;c>i&&(c=i)}),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var _=e.nodes.length;if(_){var w=(0,i.default)(e,n),E=(0,i.default)(t,n),S=g(e.nodes,w,n),O=g(t.nodes,E,n),k=h(e.nodes,y),M=k.nodeMap,C=k.nodeLabelMap,A=h(t.nodes,y),j=A.nodeMap,T=A.nodeLabelMap;p(e.edges,b,M);var I=p(t.edges,b,j).edgeLabelMap,N=[];null===E||void 0===E||E.forEach(function(e){N=N.concat(e)}),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],N,!1),[2],!1))),s||(s=u);var P=c(e,w,y,s),D=c(t,E,y,s),L=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach(function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))}),a}(0,_,Math.min(100,_*(_-1)/2),P,w),R=f(L,P,e),B={graphs:R,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},F=(0,o.default)(B).slice(0,10),z=F.length,G=[];F.forEach(function(e,t){G[t]={},Object.keys(R).forEach(function(n){var r=R[n],i=d(r,e,y,b);G[t][n]=i})});var U=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort(function(e,t){return n[e]-n[t]}),a=[];o.forEach(function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]});var s=0,u=[];a.forEach(function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach(function(t,i){var o=n[t];e.graphs.forEach(function(e,t){i!==t&&(r+=Math.abs(o-n[e]))})}),s+=r/=i*(i-1)/2}),s/=a.length;var c=0;u.forEach(function(e,t){u.forEach(function(n,r){t!==r&&(c+=Math.abs(e-n))}),c/=u.length*(u.length-1)/2});var l=c-s;r<l&&(r=l,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(G,z,F),V=U.structure,W=U.structureCountMap,Y=t.nodes[0],X=[],H=null===(x=t.nodes[0])||void 0===x?void 0:x[y],q=-1/0;t.nodes.forEach(function(e){var t=e[y],n=C[t];(null===n||void 0===n?void 0:n.length)>q&&(q=n.length,X=n,H=t,Y=e)});var K={},Z={},Q={},$={},J={},ee={};Object.keys(T).forEach(function(r,i){J[r]=[],n&&(ee[r]=[]);var o=-1/0,a=T[r],s={};a.forEach(function(e){var t=O["".concat(Y.id,"-").concat(e.id)];if(t&&J[r].push(t),o<t&&(o=t),s["".concat(Y.id,"-").concat(e.id)]={start:0,end:j[e.id].idx,distance:t},n){var i=O["".concat(e.id,"-").concat(Y.id)];i&&ee[r].push(i)}}),J[r]=J[r].sort(function(e,t){return e-t}),n&&(ee[r]=ee[r].sort(function(e,t){return e-t})),Z=f(s,D,t,Z);var u=[];if(Object.keys(s).forEach(function(e){if(Q[e])u.push(Q[e]);else{var t=Z[e];Q[e]=d(t,V,y,b),u.push(Q[e])}}),u=u.sort(function(e,t){return t-e}),$["".concat(Y.id,"-").concat(r)]=u,r!==H)for(var c=function(t){var n=X[t],i=P[M[n.id].idx],o=i.nodeLabelCountMap[r],a=T[r].length;if(!o||o.count<a)return X.splice(t,1),"continue";for(var s=!1,c=0;c<a;c++)if(o.dists[c]>J[r][c]){s=!0;break}if(s)return X.splice(t,1),"continue";var l={};i.neighbors.forEach(function(e){var t=S["".concat(n.id,"-").concat(e.id)];l["".concat(n.id,"-").concat(e.id)]={start:M[n.id].idx,end:M[e.id].idx,distance:t}}),R=f(l,P,e,R);var h=[];Object.keys(l).forEach(function(e){if(W[e])h.push(W[e]);else{var t=R[e];W[e]=d(t,V,y,b),h.push(W[e])}}),h=h.sort(function(e,t){return t-e});var p=!1;for(c=0;c<a;c++)if(h[c]<u[c]){p=!0;break}return p?(X.splice(t,1),"continue"):void 0},l=((null===X||void 0===X?void 0:X.length)||0)-1;l>=0;l--)c(l)});var te=[];null===X||void 0===X||X.forEach(function(r){for(var i=M[r.id].idx,o=l(e.nodes,w[i],i,y,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<t.nodes.length)return void(a=!0);var c=o[s],f=c[y];if(T[f]&&T[f].length)if(J[f]&&J[f].length){var d="".concat(r.id,"-").concat(c.id),h=S[d],p=J[f].length-1;if(h>J[f][p])o.splice(s,1);else{if(n){var g="".concat(c.id,"-").concat(r.id),x=S[g];if(p=ee[f].length-1,x>ee[f][p]){o.splice(s,1);continue}}var _=W[d]?W[d]:v(e,r,c,M,h,P,V,y,b,W,R),E="".concat(Y.id,"-").concat(f);if(_<$[E][$[E].length-1])o.splice(s,1);else{var O=m(K,f,j,T),k=O.minPatternNodeLabelDegree;O.minPatternNodeLabelInDegree,O.minPatternNodeLabelOutDegree,M[c.id].degree<k&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||te.push({nodes:[r].concat(o)})});var ne=(0,a.default)(t,Y.id,!1).length,re={};n?(Object.keys(ne).forEach(function(e){var t=j[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]}),Object.keys(re).forEach(function(e){re[e].sort(function(e,t){return e-t})})):re=J;for(var ie=function(r){var i=te[r],o=i.nodes[0],s={},u={};i.nodes.forEach(function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1});var c=[],l={};e.edges.forEach(function(e){u[e.source]&&u[e.target]&&(c.push(e),l[e[b]]?l[e[b]]++:l[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)});for(var f=Object.keys(I).length,d=!1,h=0;h<f;h++){var p=Object.keys(I)[h];if(!l[p]||l[p]<I[p].length){d=!0;break}}if(d)return te.splice(r,1),"continue";var g=c.length;if(g<t.edges.length)return te.splice(r,1),"break";var v=!1,x=function(e){var t=c[e],r=t[b],i=I[r];if(!i||!i.length)return l[r]--,i&&l[r]<i.length?(v=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var o=u[t.source].node[y],a=u[t.target].node[y],s=!1;return i.forEach(function(e){var t=j[e.source].node,r=j[e.target].node;t[y]===o&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==o||(s=!0)}),s?void 0:(l[r]--,i&&l[r]<i.length?(v=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=g-1;h>=0&&"break"!==x(h);h--);if(v)return te.splice(r,1),"continue";i.edges=c;var _=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(_).reverse().forEach(function(e){if(e!==i.nodes[0].id&&!v){if(_[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<T[t].length)return void(v=!0);var n=i.nodes.indexOf(u[e].node);return i.nodes.splice(n,1),void(u[e]=void 0)}var r=M[e].node[y];if(!re[r]||!re[r].length||_[e]>re[r][re[r].length-1]){if(t=u[e].node[y],s[t]--,s[t]<T[t].length)return void(v=!0);n=i.nodes.indexOf(u[e].node),i.nodes.splice(n,1),u[e]=void 0}}}),v)return te.splice(r,1),"continue";for(var w=!0,E=0;w&&!v;){if(w=!1,n?u[o.id].degree<j[Y.id].degree||u[o.id].inDegree<j[Y.id].inDegree||u[o.id].outDegree<j[Y.id].outDegree:u[o.id].degree<j[Y.id].degree){v=!0;break}if(s[o[y]]<T[o[y]].length){v=!0;break}for(var S=i.nodes.length-1;S>=0;S--){var O=i.nodes[S],k=u[O.id].degree,C=u[O.id].inDegree,A=u[O.id].outDegree,N=O[y],P=m(K,N,j,T),D=P.minPatternNodeLabelDegree,L=P.minPatternNodeLabelInDegree,R=P.minPatternNodeLabelOutDegree;if(n?k<D||C<L||A<R:k<D){if(s[O[y]]--,s[O[y]]<T[O[y]].length){v=!0;break}i.nodes.splice(S,1),u[O.id]=void 0,w=!0}}if(v||!w&&0!==E)break;for(var B=(g=c.length)-1;B>=0;B--){var F=c[B];if(!u[F.source]||!u[F.target]){c.splice(B,1);var z=F[b];if(l[z]--,u[F.source]&&(u[F.source].degree--,u[F.source].outDegree--),u[F.target]&&(u[F.target].degree--,u[F.target].inDegree--),I[z]&&l[z]<I[z].length){v=!0;break}w=!0}}E++}return v?(te.splice(r,1),"continue"):v||i.nodes.length<t.nodes.length||c.length<t.edges.length?(te.splice(r,1),"continue"):void 0},oe=te.length-1;oe>=0&&"break"!==ie(oe);oe--);var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach(function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1});for(var r=function(e){var t=te[e],r={};t.edges.forEach(function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1});var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach(function(e){r[e]!==n[e]&&(i=!1)}),i&&te.splice(e,1)},i=ae-1;i>e;i--)r(i);ae=te.length};for(oe=0;oe<=ae-1;oe++)se(oe);return te}}};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(275),o=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new o(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=i.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new i.Graph(e,!0,t);return this.dfsEdgeList.forEach(function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(t,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)}),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,s=e.maxNodeNum,u=void 0===s?4:s,c=e.top,l=void 0===c?10:c,f=e.directed,d=void 0!==f&&f,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach(function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)}),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=o[l.to].label;t.to===l.to||n>f||r.hasNode(o[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&i.push(l)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach(function(e){t[e.graphId]||(t[e.graphId]=!0)}),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}}),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,c=new a,l={};r.nodes.forEach(function(t){e.findForwardRootEdges(r,t).forEach(function(e){var n=u[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);l[i]||(l[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var o={graphId:r.id,edge:e,preNode:null};l[i].projected.push(o)})});var f=this.findMinLabel(l);if(f){c.dfsEdgeList.push(new o(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var d="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return function a(l){for(var f=c.buildRmpath(),d=c.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=c.dfsEdgeList[f[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(t){if(g)return"break";l.forEach(function(n){var i=new s(n),o=e.findBackwardEdge(r,i.edges[f[t]],i.edges[f[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=c.dfsEdgeList[f[t]].fromNode,g=!0)})},b=f.length-1;b>m&&"break"!==y(b);b--);if(g){var x=e.findMinLabel(p);c.dfsEdgeList.push(new o(h,v,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var _=c.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[_]===c.dfsEdgeList[_]&&a(p[x.edgeLabel].projected)}var w={};g=!1;var E=0;l.forEach(function(t){var n=new s(t),i=e.findForwardPureEdges(r,n.edges[f[0]],d,n);i.length>0&&(g=!0,E=h,i.forEach(function(e){var n="".concat(e.label,"-").concat(u[e.to].label);w[n]||(w[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),w[n].projected.push({graphId:r.id,edge:e,preNode:t})}))});var S=f.length,O=function(t){if(g)return"break";var n=f[t];l.forEach(function(t){var i=new s(t),o=e.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(g=!0,E=c.dfsEdgeList[n].fromNode,o.forEach(function(e){var n="".concat(e.label,"-").concat(u[e.to].label);w[n]||(w[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),w[n].projected.push({graphId:r.id,edge:e,preNode:t})}))})};for(b=0;b<S&&"break"!==O(b);b++);if(!g)return!0;var k=e.findMinLabel(w);c.dfsEdgeList.push(new o(E,h+1,i.VACANT_NODE_LABEL,k.edgeLabel,k.nodeLabel2));var M=c.dfsEdgeList.length-1;return t.dfsEdgeList[M]===c.dfsEdgeList[M]&&a(w["".concat(k.edgeLabel,"-").concat(k.nodeLabel2)].projected)}(l[d].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c={},l={};e.forEach(function(e){for(var i=t.graphs[e.graphId],o=i.nodeMap,f=new s(e),d=r.length-1;d>=0;d--){var h=t.findBackwardEdge(i,f.edges[r[d]],f.edges[r[0]],f);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(h.label);l[p]||(l[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:h.label}),l[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(i,f.edges[r[0]],u,f).forEach(function(t){var n="".concat(a,"-").concat(t.label,"-").concat(o[t.to].label);c[n]||(c[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:o[t.to].label}),c[n].projected.push({graphId:e.graphId,edge:t,preNode:e})});var g=function(n){t.findForwardRmpathEdges(i,f.edges[r[n]],u,f).forEach(function(i){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);c[a]||(c[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),c[a].projected.push({graphId:e.graphId,edge:i,preNode:e})})};for(d=0;d<r.length;d++)g(d)}}),Object.keys(l).forEach(function(e){var n=l[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(c).forEach(function(e){var n=c[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()})}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach(function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach(function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=i[c]||0;f++,i[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach(function(e){var r=c,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(i),d="".concat(r,"-").concat(l,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:i}})})}),Object.keys(i).forEach(function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}}),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach(function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach(function(t){e.findForwardRootEdges(i,t).forEach(function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(t){var r=n[t],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()})}},e}(),c=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,a=void 0===o?"cluster":o,s=e.edgeLabelProp,c=void 0===s?"cluster":s,l=function(e,t,n,r){var o={};return Object.keys(e).forEach(function(a,s){var u=e[a],c=new i.Graph(s,!0,t),l={};u.nodes.forEach(function(e,t){c.addNode(t,e[n]),l[e.id]=t}),u.edges.forEach(function(e,t){var n=l[e.source],i=l[e.target];c.addEdge(-1,n,i,e[r])}),c&&c.getNodeNum()&&(o[c.id]=c)}),o}(t,r,a,c),f=e.minSupport,d=e.maxNodeNum,h=e.minNodeNum,p=e.verbose,g=e.top,v=new u({graphs:l,minSupport:f,maxNodeNum:d,minNodeNum:h,top:g,verbose:p,directed:r});return v.run(),function(e,t,n){var r=[];return e.forEach(function(e){var i={nodes:[],edges:[]};e.nodes.forEach(function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))}),e.edges.forEach(function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))}),r.push(i)}),r}(v.frequentSubgraphs,a,c)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;var r=-1;t.VACANT_EDGE_ID=r;var i=-1;t.VACANT_NODE_ID=i;var o="-1";t.VACANT_EDGE_LABEL=o;var a="-1";t.VACANT_NODE_LABEL=a;t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var s=function(){return function(e,t,n,a){void 0===e&&(e=r),void 0===t&&(t=i),void 0===n&&(n=i),void 0===a&&(a=o),this.id=e,this.from=t,this.to=n,this.label=a}}();t.Edge=s;var u=function(){function e(e,t){void 0===e&&(e=i),void 0===t&&(t=a),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=u;var c=function(){function e(e,t,n){void 0===e&&(e=i),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new u(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new s(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new s(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}();t.Graph=c},function(e,t,n){var r=n(143),i=n(277),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(278),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(144),i=n(280),o={};Object.keys(r).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach(function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=o},function(e,t,n){var r=n(144);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],c=t[u];-1===c.distance&&(c.distance=t[i].distance+1,c.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var r=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}(function(e){return e.replace(r,function(e,t){return t?t.toUpperCase():""})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(39),i=n(146);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,i.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,o){return void 0===o&&(o=!0),n||0===n?(0,t.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(o){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(133)),c=s(n(285)),l=n(39),f=n(41),d=n(91),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){this.nodes=e.nodes||[];var t=e.edges||[];this.edges=t.map(function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach(function(r){n.indexOf(r)>-1||(t[r]=e[r])}),t}),this.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var i=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(i){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),i.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id(function(e){return e.id}).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}t.preventOverlap&&t.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var l=u.forceManyBody();if(t.nodeStrength&&l.strength(t.nodeStrength),i=u.forceSimulation().nodes(n),t.clustering){var f=(0,c.default)();f.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=f,i.force("group",f)}if(i.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",l).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(i),r){var h=u.forceLink().id(function(e){return e.id}).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){i.stop();for(var g=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),i=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(i)}(i),v=1;v<=g;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:g,type:d.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else i.on("tick",function(){t.tick()}).on("end",function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()}),t.ticking=!0;t.forceSimulation=i,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this.nodeSize,i=this.nodeSpacing,o=this.collideStrength;if(n=(0,l.isNumber)(i)?function(){return i}:(0,l.isFunction)(i)?i:function(){return 0},r)if((0,l.isFunction)(r))t=function(e){return r(e)+n(e)};else if((0,l.isArray)(r)){var a=(r[0]>r[1]?r[0]:r[1])/2;t=function(e){return a+n(e)}}else if((0,l.isNumber)(r)){var s=r/2;t=function(e){return s+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,l.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,l.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(o))},t.prototype.updateCfg=function(e){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,e)},t.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},t}(f.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(133)),s=n(39);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),i=e(-1),o=e(100),u=e(.1),c=[0,0],l=[],f={},d=[],h=100,p=100,g={none:{x:0,y:0}},v=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),w();for(var r=0,i=l.length,o=void 0,a=e*b;r<i;++r)(o=l[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function _(){l&&function(){if(l&&l.length){if(void 0===n(l[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],i={},o={},a=[];return o=function(e){var t={};return e.forEach(function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})}),e.forEach(function(e){var i=n(e),o=r(e),a=t[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,t[i]=a}),t}(l),a=function(e){var t={},r=[];return e.forEach(function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=n(f[t]),o=n(f[r]);return i<=o?"".concat(i,"~").concat(o):"".concat(o,"~").concat(i)}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i}),Object.entries(t).forEach(function(e){var t=e[0],n=e[1],i=t.split("~")[0],o=t.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})}),r}(d),Object.keys(o).forEach(function(t,n){var r=o[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),i[t]=n}),a.forEach(function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=i[n],a=i[r];void 0!==o&&void 0!==a&&t.push({source:o,target:a,count:e.count})}),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide(function(e){return e.r}).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(o).strength(u)),v=t.nodes(),w()}}()}function w(){return g={none:{x:0,y:0}},v.forEach(function(e){g[e.id]={x:e.x-c[0],y:e.y-c[1]}}),g}return x.initialize=function(e){l=e,_()},x.template=function(e){return arguments.length?(m=e,_(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(function(e){f={},e.forEach(function(e){f[e.id]=e})}(e||[]),l=e||[],x):l},x.links=function(e){return arguments.length?(d=e||[],_(),x):d},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),_(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),_(),x):i},x.forceLinkDistance=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),_(),x):o},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),_(),x):u},x.offset=function(e){return arguments.length?(c=e,x):c},x.getFocis=w,x}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(287)),o=n(46);t.default={layout:i.default,util:{time:o.time,notime:o.notime}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(288)),a=i(n(291)),s=i(n(292)),u=n(46),c=i(n(294)),l=i(n(295)),f=i(n(296)),d=i(n(297)),h=i(n(298)),p=i(n(307)),g=i(n(309)),v=n(75),m=function(e,t,n){t("    removeSelfEdges",function(){B(e)}),t("    acyclic",function(){o.default.run(e)}),t("    nestingGraph.run",function(){l.default.run(e)}),t("    rank",function(){(0,s.default)((0,u.asNonCompoundGraph)(e))}),t("    injectEdgeLabelProxies",function(){j(e)}),t("    removeEmptyRanks",function(){(0,u.removeEmptyRanks)(e)}),t("    nestingGraph.cleanup",function(){l.default.cleanup(e)}),t("    normalizeRanks",function(){(0,u.normalizeRanks)(e)}),t("    assignRankMinMax",function(){T(e)}),t("    removeEdgeLabelProxies",function(){I(e)}),t("    normalize.run",function(){a.default.run(e)}),t("    parentDummyChains",function(){(0,c.default)(e)}),t("    addBorderSegments",function(){(0,f.default)(e)}),n&&n.keepNodeOrder&&t("    initDataOrder",function(){(0,g.default)(e,n.nodeOrder)}),t("    order",function(){(0,h.default)(e)}),t("    insertSelfEdges",function(){F(e)}),t("    adjustCoordinateSystem",function(){d.default.adjust(e)}),t("    position",function(){(0,p.default)(e)}),t("    positionSelfEdges",function(){z(e)}),t("    removeBorderNodes",function(){R(e)}),t("    normalize.undo",function(){a.default.undo(e)}),t("    fixupEdgeLabelCoords",function(){D(e)}),t("    undoCoordinateSystem",function(){d.default.undo(e)}),t("    translateGraph",function(){N(e)}),t("    assignNodeIntersects",function(){P(e)}),t("    reversePoints",function(){L(e)}),t("    acyclic.undo",function(){o.default.undo(e)})},y=function(e,t){e.nodes().forEach(function(n){var r=e.node(n),i=t.node(n);void 0!==i?(r.fixorder=i._order,delete i._order):delete r.fixorder})},b=function(e,t){e.nodes().forEach(function(n){var r,i=e.node(n);if(i){var o=t.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height)}}),e.edges().forEach(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},x=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],E=["width","height","layer","fixorder"],S={width:0,height:0},O=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"],C=function(e){var t=new v.Graph({multigraph:!0,compound:!0}),n=U(e.graph()),i={};return null===w||void 0===w||w.forEach(function(e){void 0!==n[e]&&(i[e]=n[e])}),t.setGraph(Object.assign({},_,G(n,x),i)),e.nodes().forEach(function(n){var i=U(e.node(n)),o=r(r({},S),i),a=G(o,E);t.setNode(n,a),t.setParent(n,e.parent(n))}),e.edges().forEach(function(n){var r=U(e.edge(n)),i={};null===M||void 0===M||M.forEach(function(e){void 0!==r[e]&&(i[e]=r[e])}),t.setEdgeObj(n,Object.assign({},k,G(r,O),i))}),t},A=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)}),e.edges().forEach(function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})},j=function(e){e.edges().forEach(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};(0,u.addDummyNode)(e,"edge-proxy",i,"_ep")}})},T=function(e){var t=0;e.nodes().forEach(function(n){var r,i,o=e.node(n);o.borderTop&&(o.minRank=null===(r=e.node(o.borderTop))||void 0===r?void 0:r.rank,o.maxRank=null===(i=e.node(o.borderBottom))||void 0===i?void 0:i.rank,t=Math.max(t,o.maxRank||-1/0))}),e.graph().maxRank=t},I=function(e){e.nodes().forEach(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})},N=function(e){var t,n,r=0,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0,u=function(e){if(e){var o=e.x,a=e.y,s=e.width,u=e.height;isNaN(o)||isNaN(s)||(void 0===t&&(t=o-s/2),t=Math.min(t,o-s/2),r=Math.max(r,o+s/2)),isNaN(a)||isNaN(u)||(void 0===n&&(n=a-u/2),n=Math.min(n,a-u/2),i=Math.max(i,a+u/2))}};e.nodes().forEach(function(t){u(e.node(t))}),e.edges().forEach(function(t){var n=e.edge(t);(null===n||void 0===n?void 0:n.hasOwnProperty("x"))&&u(n)}),t-=a,n-=s,e.nodes().forEach(function(r){var i=e.node(r);i&&(i.x-=t,i.y-=n)}),e.edges().forEach(function(r){var i,o=e.edge(r);null===(i=o.points)||void 0===i||i.forEach(function(e){e.x-=t,e.y-=n}),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=n)}),o.width=r-t+a,o.height=i-n+s},P=function(e){e.edges().forEach(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift((0,u.intersectRect)(o,n)),i.points.push((0,u.intersectRect)(a,r))})},D=function(e){e.edges().forEach(function(t){var n=e.edge(t);if(null===n||void 0===n?void 0:n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})},L=function(e){e.edges().forEach(function(t){var n,r=e.edge(t);r.reversed&&(null===(n=r.points)||void 0===n||n.reverse())})},R=function(e){e.nodes().forEach(function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),s=e.node(o.borderBottom),u=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),c=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===c||void 0===c?void 0:c.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}}),e.nodes().forEach(function(t){var n;"border"===(null===(n=e.node(t))||void 0===n?void 0:n.dummy)&&e.removeNode(t)})},B=function(e){e.edges().forEach(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t)}})},F=function(e){var t=(0,u.buildLayerMatrix)(e);null===t||void 0===t||t.forEach(function(t){var n=0;null===t||void 0===t||t.forEach(function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach(function(t){(0,u.addDummyNode)(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})},z=function(e){e.nodes().forEach(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdgeObj(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})},G=function(e,t){var n={};return null===t||void 0===t||t.forEach(function(t){void 0!==e[t]&&(n[t]=+e[t])}),n},U=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach(function(n){t[n.toLowerCase()]=e[n]}),t};t.default=function(e,t){var n=t&&t.debugTiming?u.time:u.notime;n("layout",function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",function(){y(e,t.prevGraph)});var r=n("  buildLayoutGraph",function(){return C(e)});t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",function(){A(r)});try{n("  runLayout",function(){m(r,n,t)})}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",function(){b(e,r)})})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(289)),o=function(e){var t=[],n={},r={};return e.nodes().forEach(function i(o){var a;r[o]||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach(function(e){n[e.w]?t.push(e):i(e.w)}),delete n[o])}),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,i.default)(e,function(e){return function(t){var n;return(null===(n=e.edge(t))||void 0===n?void 0:n.weight)||1}}(e)):o(e);null===t||void 0===t||t.forEach(function(t){var n=e.edge(t);e.removeEdgeObj(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-".concat(Math.random()))})},undo:function(e){e.edges().forEach(function(t){var n=e.edge(t);if(n.reversed){e.removeEdgeObj(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(290)),a=n(93),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o.default),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a.Graph),c=function(){return 1},l=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)f(e,t,n,r);for(;r=o.dequeue();)f(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(f(e,t,n,r,!0));break}}return i},f=function(e,t,n,r,i){var o,a,s=[];return null===(o=e.inEdges(r.v))||void 0===o||o.forEach(function(r){var o=e.edge(r),a=e.node(r.v);i&&s.push({v:r.v,w:r.w,in:0,out:0}),void 0===a.out&&(a.out=0),a.out-=o,h(t,n,a)}),null===(a=e.outEdges(r.v))||void 0===a||a.forEach(function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,h(t,n,a)}),e.removeNode(r.v),i?s:void 0},d=function(e,t){var n=new u,r=0,i=0;e.nodes().forEach(function(e){n.setNode(e,{v:e,in:0,out:0})}),e.edges().forEach(function(e){var o=n.edge(e)||0,a=(null===t||void 0===t?void 0:t(e))||1,s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)});for(var o=[],a=i+r+3,c=0;c<a;c++)o.push(new s);var l=r+1;return n.nodes().forEach(function(e){h(o,l,n.node(e))}),{buckets:o,zeroIdx:l,graph:n}},h=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=d(e,t||c);return null===(n=l(r.graph,r.buckets,r.zeroIdx).map(function(t){return e.outEdges(t.v,t.w)}))||void 0===n?void 0:n.flat()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if("next"!==e&&"prev"!==e)return t},i=function(e){e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev},o=function(){function e(){var e={};e.prev=e,e.next=e.prev,this.shortcut=e}return e.prototype.dequeue=function(){var e=this.shortcut,t=e.prev;if(t&&t!==e)return i(t),t},e.prototype.enqueue=function(e){var t=this.shortcut;e.prev&&e.next&&i(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t},e.prototype.toString=function(){for(var e=[],t=this.shortcut,n=t.prev;n!==t;)e.push(JSON.stringify(n,r)),n=null===n||void 0===n?void 0:n.prev;return"[".concat(e.join(", "),"]")},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(e,t){var n=t.v,i=e.node(n).rank,o=t.w,a=e.node(o).rank,s=t.name,u=e.edge(t),c=u.labelRank;if(a!==i+1){e.removeEdgeObj(t);var l,f,d,h=e.graph();for(d=0,++i;i<a;++d,++i)u.points=[],f={edgeLabel:u,width:0,height:0,edgeObj:t,rank:i},l=(0,r.addDummyNode)(e,"edge",f,"_d"),i===c&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),e.setEdge(n,l,{weight:u.weight},s),0===d&&(h.dummyChains||(h.dummyChains=[]),h.dummyChains.push(l)),n=l;e.setEdge(n,o,{weight:u.weight},s)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach(function(t){return i(e,t)})},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach(function(t){var n,r=e.node(t),i=r.edgeLabel;r.edgeObj&&e.setEdgeObj(r.edgeObj,i);for(var o=t;r.dummy;)n=e.successors(o)[0],e.removeNode(o),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=n,r=e.node(o)})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(130),o=n(154),a=r(n(293)),s=i.longestPath,u=function(e){(0,i.longestPathWithLayer)(e),(0,o.feasibleTreeWithLayer)(e)},c=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":c(e);break;case"tight-tree":u(e);break;case"longest-path":s(e);break;default:u(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exchangeEdges=t.enterEdge=t.leaveEdge=t.initLowLimValues=t.calcCutValue=t.initCutValues=void 0;var r=n(154),i=n(130),o=n(46),a=n(93),s=a.algorithm.preorder,u=a.algorithm.postorder;t.initCutValues=function(e,t){var n=u(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach(function(n){c(e,t,n)})};var c=function(e,n,r){var i=e.node(r).parent;e.edgeFromArgs(r,i).cutvalue=(0,t.calcCutValue)(e,n,r)};t.calcCutValue=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edgeFromArgs(n,i),s=0;return a||(o=!1,a=t.edgeFromArgs(i,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach(function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var c=a===o,l=t.edge(r).weight;if(s+=c?l:-l,d(e,n,u)){var f=e.edgeFromArgs(n,u).cutvalue;s+=c?-f:f}}}),s};t.initLowLimValues=function(e,t){void 0===t&&(t=e.nodes()[0]),l(e,{},1,t)};var l=function e(t,n,r,i,o){var a,s=r,u=r,c=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach(function(r){n[r]||(u=e(t,n,u,r,i))}),c.low=s,c.lim=u++,o?c.parent=o:delete c.parent,u};t.leaveEdge=function(e){return e.edges().find(function(t){return e.edge(t).cutvalue<0})};t.enterEdge=function(e,t,n){var r=n.v,a=n.w;t.hasEdge(r,a)||(r=n.w,a=n.v);var s=e.node(r),u=e.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=t.edges().filter(function(t){return l===h(e,e.node(t.v),c)&&l!==h(e,e.node(t.w),c)});return(0,o.minBy)(f,function(e){return(0,i.slack)(t,e)})};t.exchangeEdges=function(e,n,r,i){var o=r.v,a=r.w;e.removeEdge(o,a),e.setEdge(i.v,i.w,{}),(0,t.initLowLimValues)(e),(0,t.initCutValues)(e,n),f(e,n)};var f=function(e,t){var n=e.nodes().find(function(e){var n;return!(null===(n=t.node(e))||void 0===n?void 0:n.parent)}),r=s(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach(function(n){var r=e.node(n).parent,i=t.edgeFromArgs(n,r),o=!1;i||(i=t.edgeFromArgs(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})},d=function(e,t,n){return e.hasEdge(t,n)},h=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};t.default=function(e){var n=(0,o.simplify)(e);(0,i.longestPath)(n);var a,s,u=(0,r.feasibleTree)(n);for((0,t.initLowLimValues)(u),(0,t.initCutValues)(u,n);a=(0,t.leaveEdge)(u);)s=(0,t.enterEdge)(u,n,a),(0,t.exchangeEdges)(u,n,a,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach(function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}}),n}(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach(function(t){var r,i,o=t,a=e.node(o),s=a.edgeObj;if(s)for(var u=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||c>t[i].lim));for(o=i,i=r;i&&i!==o;)s.push(i),i=e.parent(i);return{lca:o,path:a.concat(s.reverse())}}(e,n,s.v,s.w),c=u.path,l=u.lca,f=0,d=c[f],h=!0;o!==s.w;){if(a=e.node(o),h){for(;d!==l&&(null===(r=e.node(d))||void 0===r?void 0:r.maxRank)<a.rank;)d=c[++f];d===l&&(h=!1)}if(!h){for(;f<c.length-1&&(null===(i=e.node(c[f+1]))||void 0===i?void 0:i.minRank)<=a.rank;)f++;d=c[f]}e.setParent(o,d),o=e.successors(o)[0]}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function e(t,n,i,o,a,s,u){var c=t.children(u);if(null===c||void 0===c?void 0:c.length){var l=(0,r.addBorderNode)(t,"_bt"),f=(0,r.addBorderNode)(t,"_bb"),d=t.node(u);t.setParent(l,u),d.borderTop=l,t.setParent(f,u),d.borderBottom=f,null===c||void 0===c||c.forEach(function(r){e(t,n,i,o,a,s,r);var c=t.node(r),d=c.borderTop?c.borderTop:r,h=c.borderBottom?c.borderBottom:r,p=c.borderTop?o:2*o,g=d!==h?1:a-s[u]+1;t.setEdge(l,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(h,f,{minlen:g,weight:p,nestingEdge:!0})}),t.parent(u)||t.setEdge(n,l,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:i})},o=function(e){var t,n={};return null===(t=e.children())||void 0===t||t.forEach(function(t){return function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach(function(e){return t(e,i+1)}),n[r]=i}(t,1)}),n},a=function(e){var t=0;return e.edges().forEach(function(n){t+=e.edge(n).weight}),t};t.default={run:function(e){var t,n=(0,r.addDummyNode)(e,"root",{},"_root"),s=o(e),u=Math.max.apply(Math,Object.values(s));Math.abs(u)===1/0&&(u=1);var c=u-1,l=2*c+1;e.graph().nestingRoot=n,e.edges().forEach(function(t){e.edge(t).minlen*=l});var f=a(e)+1;null===(t=e.children())||void 0===t||t.forEach(function(t){i(e,n,l,f,c,s,t)}),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(function(t){e.edge(t).nestingEdge&&e.removeEdgeObj(t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(e,t,n,i,o,a){var s={rank:a,borderType:t,width:0,height:0},u=o[t][a-1],c=(0,r.addDummyNode)(e,"border",s,n);o[t][a]=c,e.setParent(c,i),u&&e.setEdge(u,c,{weight:1})};t.default=function(e){var t;null===(t=e.children())||void 0===t||t.forEach(function(t){return function t(n){var r=e.children(n),o=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach(function(e){return t(e)}),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,s=o.maxRank+1;a<s;a+=1)i(e,"borderLeft","_bl",n,o,a),i(e,"borderRight","_br",n,o,a)}}(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){e.nodes().forEach(function(t){i(e.node(t))}),e.edges().forEach(function(t){i(e.edge(t))})},i=function(e){var t=e.width;e.width=e.height,e.height=t},o=function(e){e.nodes().forEach(function(t){a(e.node(t))}),e.edges().forEach(function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach(function(e){return a(e)}),r.hasOwnProperty("y")&&a(r)})},a=function(e){(null===e||void 0===e?void 0:e.y)&&(e.y=-e.y)},s=function(e){e.nodes().forEach(function(t){u(e.node(t))}),e.edges().forEach(function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach(function(e){return u(e)}),r.hasOwnProperty("x")&&u(r)})},u=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,n=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==n&&"rl"!==n||r(e)},undo:function(e){var t,n=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==n&&"rl"!==n||o(e),"lr"!==n&&"rl"!==n||(s(e),r(e))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(299)),o=r(n(300)),a=r(n(301)),s=r(n(302)),u=r(n(303)),c=n(39),l=n(75),f=n(46),d=function(e,t,n){return t.map(function(t){return(0,a.default)(e,t,n)})},h=function(e,t,n){var r=new l.Graph;null===e||void 0===e||e.forEach(function(e){for(var i,o=e.graph().root,a=(0,u.default)(e,o,r,t,n),c=0;c<(null===(i=a.vs)||void 0===i?void 0:i.length);c++){var l=e.node(a.vs[c]);l&&(l.order=c)}(0,s.default)(e,r,a.vs)})},p=function(e,t){null===t||void 0===t||t.forEach(function(t){null===t||void 0===t||t.forEach(function(t,n){e.node(t).order=n})})};t.default=function(e){for(var t=(0,f.maxRank)(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=d(e,n,"inEdges"),u=d(e,r,"outEdges"),l=(0,i.default)(e);p(e,l);for(var g,v=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m)h(a%2?s:u,a%4>=2),l=(0,f.buildLayerMatrix)(e),(y=(0,o.default)(e,l))<v&&(m=0,g=(0,c.clone)(l),v=y);l=(0,i.default)(e),p(e,l);for(a=0,m=0;m<4;++a,++m){var y;h(a%2?s:u,a%4>=2,!0),l=(0,f.buildLayerMatrix)(e),(y=(0,o.default)(e,l))<v&&(m=0,g=(0,c.clone)(l),v=y)}p(e,g)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter(function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)}),r=n.map(function(t){return e.node(t).rank}),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=n.sort(function(t,n){return e.node(t).rank-e.node(n).rank}),u=s.filter(function(t){return void 0!==e.node(t).fixorder}).sort(function(t,n){return e.node(t).fixorder-e.node(n).fixorder});return null===u||void 0===u||u.forEach(function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0}),null===s||void 0===s||s.forEach(function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach(function(e){return n(e)})}}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(e,t,n){for(var i=(0,r.zipObject)(n,n.map(function(e,t){return t})),o=t.map(function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map(function(t){return{pos:i[t.w]||0,weight:e.edge(t).weight}});return null===r||void 0===r?void 0:r.sort(function(e,t){return e.pos-t.pos})}).flat().filter(function(e){return void 0!==e}),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),c=0;return null===o||void 0===o||o.forEach(function(e){if(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;c+=e.weight*n}}),c};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);r+=1)n+=i(e,t[r-1],t[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),i=function(e){for(var t;e.hasNode(t="_root".concat(Math.random())););return t};t.default=function(e,t,n){var o=i(e),a=new r.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return e.nodes().forEach(function(r){var i,s=e.node(r),u=e.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(r),a.setParent(r,u||o),null===(i=e[n](r))||void 0===i||i.forEach(function(t){var n=t.v===r?t.w:t.v,i=a.edgeFromArgs(n,r),o=void 0!==i?i.weight:0;a.setEdge(n,r,{weight:e.edge(t).weight+o})}),s.hasOwnProperty("minRank")&&a.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(304)),o=r(n(305)),a=r(n(306)),s=function(e,t){null===e||void 0===e||e.forEach(function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map(function(e){return t[e]?t[e].vs:e});e.vs=r.flat()})},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,c,l){var f,d,h,p,g=t.children(n),v=t.node(n),m=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,b={};m&&(g=null===g||void 0===g?void 0:g.filter(function(e){return e!==m&&e!==y}));var x=(0,i.default)(t,g||[]);null===x||void 0===x||x.forEach(function(n){var i;if(null===(i=t.children(n.v))||void 0===i?void 0:i.length){var o=e(t,n.v,r,c);b[n.v]=o,o.hasOwnProperty("barycenter")&&u(n,o)}});var _=(0,o.default)(x,r);s(_,b),null===(f=_.filter(function(e){return e.vs.length>0}))||void 0===f||f.forEach(function(e){var n=t.node(e.vs[0]);n&&(e.fixorder=n.fixorder,e.order=n.order)});var w=(0,a.default)(_,c,l);if(m&&(w.vs=[m,w.vs,y].flat(),null===(d=t.predecessors(m))||void 0===d?void 0:d.length)){var E=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||""),S=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||"");w.hasOwnProperty("barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+E.order+S.order)/(w.weight+2),w.weight+=2}return w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map(function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach(function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight}),{v:t,barycenter:r.sum/r.weight,weight:r.weight}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t,n,r=[],o=function(){var o=e.pop();r.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach(function(e){return(t=o,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&i(t,e)})(e);var t}),null===(n=o.out)||void 0===n||n.forEach(function(t){return(n=o,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n})};null===e||void 0===e?void 0:e.length;)o();var a=r.filter(function(e){return!e.merged}),s=["vs","i","barycenter","weight"];return a.map(function(e){var t={};return null===s||void 0===s||s.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t})},i=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var n,i,o,a={};null===e||void 0===e||e.forEach(function(e,t){a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};var n=a[e.v];void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)}),null===(n=t.edges())||void 0===n||n.forEach(function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))});var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,function(e){return!e.indegree});return r(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},o=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var a=(0,r.partition)(e,function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")}),s=a.lhs,u=a.rhs.sort(function(e,t){return-e.i- -t.i}),c=[],l=0,f=0,d=0;null===s||void 0===s||s.sort(o(!!t,!!n)),d=i(c,u,d),null===s||void 0===s||s.forEach(function(e){var t;d+=null===(t=e.vs)||void 0===t?void 0:t.length,c.push(e.vs),l+=e.barycenter*e.weight,f+=e.weight,d=i(c,u,d)});var h={vs:c.flat()};return f&&(h.barycenter=l/f,h.weight=f),h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=n(308);t.default=function(e){var t,n=(0,r.asNonCompoundGraph)(e);!function(e){var t=(0,r.buildLayerMatrix)(e),n=e.graph().ranksep,i=0;null===t||void 0===t||t.forEach(function(t){var r=t.map(function(t){return e.node(t).height}),o=Math.max.apply(Math,r);null===t||void 0===t||t.forEach(function(t){e.node(t).y=i+o/2}),i+=o+n})}(n);var o=function(e){var t=(0,r.buildLayerMatrix)(e),n=Object.assign((0,i.findType1Conflicts)(e,t),(0,i.findType2Conflicts)(e,t)),o={},a=[];["u","d"].forEach(function(r){a="u"===r?t:Object.values(t).reverse(),["l","r"].forEach(function(t){"r"===t&&(a=a.map(function(e){return Object.values(e).reverse()}));var s=("u"===r?e.predecessors:e.successors).bind(e),u=(0,i.verticalAlignment)(e,a,n,s),c=(0,i.horizontalCompaction)(e,a,u.root,u.align,"r"===t);"r"===t&&Object.keys(c).forEach(function(e){return c[e]=-c[e]}),o[r+t]=c})});var s=(0,i.findSmallestWidthAlignment)(e,o);return s&&(0,i.alignCoordinates)(o,s),(0,i.balance)(o,e.graph().align)}(n);null===(t=Object.keys(o))||void 0===t||t.forEach(function(e){n.node(e).x=o[e]})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.width=t.sep=t.positionX=t.balance=t.alignCoordinates=t.findSmallestWidthAlignment=t.buildBlockGraph=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findOtherInnerSegmentNode=t.findType2Conflicts=t.findType1Conflicts=void 0;var i=n(93),o=n(46),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i.Graph);t.findType1Conflicts=function(e,n){var r={};return(null===n||void 0===n?void 0:n.length)&&n.reduce(function(n,i){var o=0,a=0,s=n.length,u=null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1];return null===i||void 0===i||i.forEach(function(n,c){var l,f=(0,t.findOtherInnerSegmentNode)(e,n),d=f?e.node(f).order:s;(f||n===u)&&(null===(l=i.slice(a,c+1))||void 0===l||l.forEach(function(n){var i;null===(i=e.predecessors(n))||void 0===i||i.forEach(function(i){var a,s=e.node(i),u=s.order;!(u<o||d<u)||s.dummy&&(null===(a=e.node(n))||void 0===a?void 0:a.dummy)||(0,t.addConflict)(r,i,n)})}),a=c+1,o=d)}),i}),r};t.findType2Conflicts=function(e,n){var r={},i=function(n,i,o,a,s){for(var u,c=[],l=i;l<o;l++)c.push(l);c.forEach(function(i){var o,c;u=n[i],(null===(o=e.node(u))||void 0===o?void 0:o.dummy)&&(null===(c=e.predecessors(u))||void 0===c||c.forEach(function(n){var i=e.node(n);i.dummy&&(i.order<a||i.order>s)&&(0,t.addConflict)(r,n,u)}))})};return(null===n||void 0===n?void 0:n.length)&&n.reduce(function(t,n){var r,o=-1,a=0;return null===n||void 0===n||n.forEach(function(s,u){var c;if("border"===(null===(c=e.node(s))||void 0===c?void 0:c.dummy)){var l=e.predecessors(s)||[];l.length&&(r=e.node(l[0]).order,i(n,a,u,o,r),a=u,o=r)}i(n,a,n.length,r,t.length)}),n}),r};t.findOtherInnerSegmentNode=function(e,t){var n,r;if(null===(n=e.node(t))||void 0===n?void 0:n.dummy)return null===(r=e.predecessors(t))||void 0===r?void 0:r.find(function(t){return e.node(t).dummy})};t.addConflict=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0};t.hasConflict=function(e,t,n){var r=t;r>n&&(r=n);return!!e[r]};t.verticalAlignment=function(e,n,r,i){var o={},a={},s={};return null===n||void 0===n||n.forEach(function(e){null===e||void 0===e||e.forEach(function(e,t){o[e]=e,a[e]=e,s[e]=t})}),null===n||void 0===n||n.forEach(function(e){var n=-1;null===e||void 0===e||e.forEach(function(e){var u=i(e);if(u.length)for(var c=((u=u.sort(function(e,t){return s[e]-s[t]})).length-1)/2,l=Math.floor(c),f=Math.ceil(c);l<=f;++l){var d=u[l];a[e]===e&&n<s[d]&&!(0,t.hasConflict)(r,e,d)&&(a[d]=e,a[e]=o[e]=o[d],n=s[d])}})}),{root:o,align:a}};t.horizontalCompaction=function(e,n,r,i,o){var a,s={},u=(0,t.buildBlockGraph)(e,n,r,o),c=o?"borderLeft":"borderRight",l=function(e,t){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return l(function(e){s[e]=(u.inEdges(e)||[]).reduce(function(e,t){return Math.max(e,(s[t.v]||0)+u.edge(t))},0)},u.predecessors.bind(u)),l(function(t){var n=(u.outEdges(t)||[]).reduce(function(e,t){return Math.min(e,(s[t.w]||0)-u.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[t]=Math.max(s[t],n))},u.successors.bind(u)),null===(a=Object.values(i))||void 0===a||a.forEach(function(e){s[e]=s[r[e]]}),s};t.buildBlockGraph=function(e,n,r,i){var o=new a,s=e.graph(),u=(0,t.sep)(s.nodesep,s.edgesep,i);return null===n||void 0===n||n.forEach(function(t){var n;null===t||void 0===t||t.forEach(function(t){var i=r[t];if(o.setNode(i),n){var a=r[n],s=o.edgeFromArgs(a,i);o.setEdge(a,i,Math.max(u(e,t,n),s||0))}n=t})}),o};function s(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach(function(n){["l","r"].forEach(function(o){var a,s=n+o,u=e[s];if(u!==t){var c=Object.values(u);(a="l"===o?r-Math.min.apply(Math,c):i-Math.max.apply(Math,c))&&(e[s]={},Object.keys(u).forEach(function(t){e[s][t]=u[t]+a}))}})})}t.findSmallestWidthAlignment=function(e,n){return(0,o.minBy)(Object.values(n),function(n){var r,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(r=Object.keys(n))||void 0===r||r.forEach(function(r){var a=n[r],s=(0,t.width)(e,r)/2;i=Math.max(a+s,i),o=Math.min(a-s,o)}),i-o})},t.alignCoordinates=s;t.balance=function(e,t){var n={};return Object.keys(e.ul).forEach(function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map(function(e){return e[r]}).sort(function(e,t){return e-t});n[r]=(i[1]+i[2])/2}}),n};t.positionX=function(e){var n,r=(0,o.buildLayerMatrix)(e),i=Object.assign((0,t.findType1Conflicts)(e,r),(0,t.findType2Conflicts)(e,r)),a={};["u","d"].forEach(function(o){n="u"===o?r:Object.values(r).reverse(),["l","r"].forEach(function(r){"r"===r&&(n=n.map(function(e){return Object.values(e).reverse()}));var s=("u"===o?e.predecessors:e.successors).bind(e),u=(0,t.verticalAlignment)(e,n,i,s),c=(0,t.horizontalCompaction)(e,n,u.root,u.align,"r"===r);"r"===r&&Object.keys(c).forEach(function(e){c[e]=-c[e]}),a[o+r]=c})});var u=(0,t.findSmallestWidthAlignment)(e,a);return s(a,u),(0,t.balance)(a,e.graph().align)};t.sep=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),c=0;if(c+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,u.labelpos)switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}};t.width=function(e,t){return e.node(t).width||0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.nodes().filter(function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)}).map(function(t){return e.node(t).rank}),r=Math.max.apply(Math,n),i=Array(r+1).fill([]);null===t||void 0===t||t.forEach(function(t){var n=e.node(t);!n||null!==n&&void 0!==n&&n.dummy||isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t))})}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"BRIDGE_GRAPH_NAME",function(){return x}),n.d(t,"GraphType",function(){return m}),n.d(t,"HierarchyNodeType",function(){return y}),n.d(t,"InclusionType",function(){return v}),n.d(t,"LAYOUT_CONFIG",function(){return d}),n.d(t,"NodeType",function(){return g}),n.d(t,"ROOT_NAME",function(){return b}),n.d(t,"buildGraph",function(){return va}),n.d(t,"flatGraph",function(){return ma}),n.d(t,"getEdges",function(){return ya}),n.d(t,"mergeConfig",function(){return h});var r=n(60),i=n(31),o=n(32),a=n(33),s=n(26),u=n(25),c=n(17);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function h(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,a=JSON.parse(JSON.stringify(o)),s=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},c=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},l=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},f=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,c),node:Object.assign(a.nodeSize.node,l),bridge:f}}}function p(e){return"\u25ec".concat(e,"\u25ec")}var g,v,m,y,b=p("ROOT"),x=p("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(g||(g={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(v||(v={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(m||(m={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(y||(y={}));var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function w(e,t){return e(t={exports:{}},t.exports),t.exports}var E=function(e,t){return e===t||e!=e&&t!=t},S=function(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1},O=Array.prototype.splice;function k(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=function(e){var t=this.__data__,n=S(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),--this.size,!0)},k.prototype.get=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},k.prototype.has=function(e){return S(this.__data__,e)>-1},k.prototype.set=function(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var M,C=k,A="object"==typeof _&&_&&_.Object===Object&&_,j="object"==typeof self&&self&&self.Object===Object&&self,T=A||j||Function("return this")(),I=T.Symbol,N=Object.prototype,P=N.hasOwnProperty,D=N.toString,L=I?I.toStringTag:void 0,R=Object.prototype.toString,B=I?I.toStringTag:void 0,F=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=P.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var i=D.call(e);return r&&(t?e[L]=n:delete e[L]),i}(e):function(e){return R.call(e)}(e)},z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},G=function(e){if(!z(e))return!1;var t=F(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},U=T["__core-js_shared__"],V=(M=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",W=Function.prototype.toString,Y=function(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""},X=/^\[object .+?Constructor\]$/,H=Function.prototype,q=Object.prototype,K=H.toString,Z=q.hasOwnProperty,Q=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=function(e){return!(!z(e)||function(e){return!!V&&V in e}(e))&&(G(e)?Q:X).test(Y(e))},J=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $(n)?n:void 0},ee=J(T,"Map"),te=J(Object,"create"),ne=Object.prototype.hasOwnProperty,re=Object.prototype.hasOwnProperty;function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ie.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},ie.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ie.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ne.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:re.call(t,e)},ie.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?"__lodash_hash_undefined__":t,this};var oe=ie,ae=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}se.prototype.clear=function(){this.size=0,this.__data__={hash:new oe,map:new(ee||C),string:new oe}},se.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},se.prototype.get=function(e){return ae(this,e).get(e)},se.prototype.has=function(e){return ae(this,e).has(e)},se.prototype.set=function(e,t){var n=ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ue=se;function ce(e){var t=this.__data__=new C(e);this.size=t.size}ce.prototype.clear=function(){this.__data__=new C,this.size=0},ce.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ce.prototype.get=function(e){return this.__data__.get(e)},ce.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof C){var r=n.__data__;if(!ee||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ue(r)}return n.set(e,t),this.size=n.size,this};var le=ce,fe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},de=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),he=function(e,t,n){"__proto__"==t&&de?de(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},pe=Object.prototype.hasOwnProperty,ge=function(e,t,n){var r=e[t];pe.call(e,t)&&E(r,n)&&(void 0!==n||t in e)||he(e,t,n)},ve=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?he(n,s,u):ge(n,s,u)}return n},me=function(e){return null!=e&&"object"==typeof e},ye=function(e){return me(e)&&"[object Arguments]"==F(e)},be=Object.prototype,xe=be.hasOwnProperty,_e=be.propertyIsEnumerable,we=ye(function(){return arguments}())?ye:function(e){return me(e)&&xe.call(e,"callee")&&!_e.call(e,"callee")},Ee=Array.isArray,Se=function(){return!1},Oe=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?T.Buffer:void 0,o=(i?i.isBuffer:void 0)||Se;e.exports=o}),ke=/^(?:0|[1-9]\d*)$/,Me=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ke.test(e))&&e>-1&&e%1==0&&e<t},Ce=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ae={};Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae["[object Arguments]"]=Ae["[object Array]"]=Ae["[object ArrayBuffer]"]=Ae["[object Boolean]"]=Ae["[object DataView]"]=Ae["[object Date]"]=Ae["[object Error]"]=Ae["[object Function]"]=Ae["[object Map]"]=Ae["[object Number]"]=Ae["[object Object]"]=Ae["[object RegExp]"]=Ae["[object Set]"]=Ae["[object String]"]=Ae["[object WeakMap]"]=!1;var je=function(e){return function(t){return e(t)}},Te=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&A.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),Ie=Te&&Te.isTypedArray,Ne=Ie?je(Ie):function(e){return me(e)&&Ce(e.length)&&!!Ae[F(e)]},Pe=Object.prototype.hasOwnProperty,De=function(e,t){var n=Ee(e),r=!n&&we(e),i=!n&&!r&&Oe(e),o=!n&&!r&&!i&&Ne(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Pe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Me(c,u))||s.push(c);return s},Le=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)},Be=function(e,t){return function(n){return e(t(n))}},Fe=Be(Object.keys,Object),ze=Object.prototype.hasOwnProperty,Ge=function(e){if(!Re(e))return Fe(e);var t=[];for(var n in Object(e))ze.call(e,n)&&"constructor"!=n&&t.push(n);return t},Ue=function(e){return null!=e&&Ce(e.length)&&!G(e)},Ve=function(e){return Ue(e)?De(e):Ge(e)},We=Object.prototype.hasOwnProperty,Ye=function(e){if(!z(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&We.call(e,r))&&n.push(r);return n},Xe=function(e){return Ue(e)?De(e,!0):Ye(e)},He=w(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?T.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}),qe=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ke=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Ze=function(){return[]},Qe=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Je=$e?function(e){return null==e?[]:(e=Object(e),Ke($e(e),function(t){return Qe.call(e,t)}))}:Ze,et=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},tt=Be(Object.getPrototypeOf,Object),nt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)et(t,Je(e)),e=tt(e);return t}:Ze,rt=function(e,t,n){var r=t(e);return Ee(e)?r:et(r,n(e))},it=function(e){return rt(e,Ve,Je)},ot=J(T,"DataView"),at=J(T,"Promise"),st=J(T,"Set"),ut=J(T,"WeakMap"),ct=Y(ot),lt=Y(ee),ft=Y(at),dt=Y(st),ht=Y(ut),pt=F;(ot&&"[object DataView]"!=pt(new ot(new ArrayBuffer(1)))||ee&&"[object Map]"!=pt(new ee)||at&&"[object Promise]"!=pt(at.resolve())||st&&"[object Set]"!=pt(new st)||ut&&"[object WeakMap]"!=pt(new ut))&&(pt=function(e){var t=F(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):"";if(r)switch(r){case ct:return"[object DataView]";case lt:return"[object Map]";case ft:return"[object Promise]";case dt:return"[object Set]";case ht:return"[object WeakMap]"}return t});var gt=pt,vt=Object.prototype.hasOwnProperty,mt=T.Uint8Array,yt=function(e){var t=new e.constructor(e.byteLength);return new mt(t).set(new mt(e)),t},bt=/\w*$/,xt=I?I.prototype:void 0,_t=xt?xt.valueOf:void 0,wt=function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return yt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,bt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new r;case"[object Symbol]":return function(e){return _t?Object(_t.call(e)):{}}(e)}},St=Object.create,Ot=function(){function e(){}return function(t){if(!z(t))return{};if(St)return St(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),kt=function(e){return"function"!=typeof e.constructor||Re(e)?{}:Ot(tt(e))},Mt=Te&&Te.isMap,Ct=Mt?je(Mt):function(e){return me(e)&&"[object Map]"==gt(e)},At=Te&&Te.isSet,jt=At?je(At):function(e){return me(e)&&"[object Set]"==gt(e)},Tt={};Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object DataView]"]=Tt["[object Boolean]"]=Tt["[object Date]"]=Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object Symbol]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object WeakMap]"]=!1;var It=function e(t,n,r,i,o,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!z(t))return t;var f=Ee(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return qe(t,s)}else{var d=gt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Oe(t))return He(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!o){if(s=c||h?{}:kt(t),!u)return c?function(e,t){return ve(e,nt(e),t)}(t,function(e,t){return e&&ve(t,Xe(t),e)}(s,t)):function(e,t){return ve(e,Je(e),t)}(t,function(e,t){return e&&ve(t,Ve(t),e)}(s,t))}else{if(!Tt[d])return o?t:{};s=Et(t,d,u)}}a||(a=new le);var p=a.get(t);if(p)return p;a.set(t,s),jt(t)?t.forEach(function(i){s.add(e(i,n,r,i,t,a))}):Ct(t)&&t.forEach(function(i,o){s.set(o,e(i,n,r,o,t,a))});var g=f?void 0:(l?c?function(e){return rt(e,Xe,nt)}:it:c?Xe:Ve)(t);return fe(g||t,function(i,o){g&&(i=t[o=i]),ge(s,o,e(i,n,r,o,t,a))}),s},Nt=function(e){return function(){return e}},Pt=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Dt=function(e,t){return e&&Pt(e,t,Ve)},Lt=function(e,t){return function(t,n){if(null==t)return t;if(!Ue(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Dt),Rt=function(e){return e},Bt=function(e){return"function"==typeof e?e:Rt},Ft=function(e,t){return(Ee(e)?fe:Lt)(e,Bt(t))},zt=Ft;function Gt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ue;++t<n;)this.add(e[t])}Gt.prototype.add=Gt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Gt.prototype.has=function(e){return this.__data__.has(e)};var Ut=Gt,Vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Wt=function(e,t){return e.has(t)},Yt=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Ut:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var v=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!Vt(t,function(e,t){if(!Wt(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)})){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Xt=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},qt=I?I.prototype:void 0,Kt=qt?qt.valueOf:void 0,Zt=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new mt(e),new mt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Xt;case"[object Set]":var u=1&r;if(s||(s=Ht),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Yt(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Kt)return Kt.call(e)==Kt.call(t)}return!1},Qt=Object.prototype.hasOwnProperty,$t=Object.prototype.hasOwnProperty,Jt=function(e,t,n,r,i,o){var a=Ee(e),s=Ee(t),u=a?"[object Array]":gt(e),c=s?"[object Array]":gt(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=u==c;if(d&&Oe(e)){if(!Oe(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new le),a||Ne(e)?Yt(e,t,n,r,i,o):Zt(e,t,u,n,r,i,o);if(!(1&n)){var h=l&&$t.call(e,"__wrapped__"),p=f&&$t.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new le),i(g,v,n,r,o)}}return!!d&&(o||(o=new le),function(e,t,n,r,i,o){var a=1&n,s=it(e),u=s.length;if(u!=it(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Qt.call(t,l)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var g=e[l=s[c]],v=t[l];if(r)var m=a?r(v,g,l,t,e,o):r(g,v,l,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))},en=function e(t,n,r,i,o){return t===n||(null==t||null==n||!me(t)&&!me(n)?t!=t&&n!=n:Jt(t,n,r,i,e,o))},tn=function(e){return e==e&&!z(e)},nn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},rn=function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tn(i)]}return t}(e);return 1==t.length&&t[0][2]?nn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new le;if(r)var d=r(c,l,u,e,t,f);if(!(void 0===d?en(l,c,3,r,f):d))return!1}}return!0}(n,e,t)}},on=function(e){return"symbol"==typeof e||me(e)&&"[object Symbol]"==F(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,un=function(e,t){if(Ee(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)};function cn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cn.Cache||ue),n}cn.Cache=ue;var ln,fn=cn,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,pn=function(e){var t=fn(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dn,function(e,n,r,i){t.push(r?i.replace(hn,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(),gn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vn=I?I.prototype:void 0,mn=vn?vn.toString:void 0,yn=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(Ee(t))return gn(t,e)+"";if(on(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},bn=function(e,t){return Ee(e)?e:un(e,t)?[e]:pn(yn(e))},xn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},_n=function(e,t){for(var n=0,r=(t=bn(t,e)).length;null!=e&&n<r;)e=e[xn(t[n++])];return n&&n==r?e:void 0},wn=function(e,t){return null!=e&&t in Object(e)},En=function(e,t,n){for(var r=-1,i=(t=bn(t,e)).length,o=!1;++r<i;){var a=xn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ce(i)&&Me(a,i)&&(Ee(e)||we(e))},Sn=function(e,t){return null!=e&&En(e,t,wn)},On=function(e,t){return un(e)&&tn(t)?nn(xn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:_n(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?Sn(n,e):en(t,r,3)}},kn=function(e){return function(t){return null==t?void 0:t[e]}},Mn=function(e){return un(e)?kn(xn(e)):function(e){return function(t){return _n(t,e)}}(e)},Cn=function(e){return"function"==typeof e?e:null==e?Rt:"object"==typeof e?Ee(e)?On(e[0],e[1]):rn(e):Mn(e)},An=function(e,t){return(Ee(e)?Ke:function(e,t){var n=[];return Lt(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n})(e,Cn(t))},jn=Object.prototype.hasOwnProperty,Tn=function(e,t){return null!=e&&jn.call(e,t)},In=function(e,t){return null!=e&&En(e,t,Tn)},Nn=Object.prototype.hasOwnProperty,Pn=function(e){return void 0===e},Dn=function(e,t){var n=-1,r=Ue(e)?Array(e.length):[];return Lt(e,function(e,i,o){r[++n]=t(e,i,o)}),r},Ln=function(e,t){return(Ee(e)?gn:Dn)(e,Cn(t))},Rn=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},Bn=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n},Fn=function(e,t,n){var r=Ee(e)?Rn:Bn,i=arguments.length<3;return r(e,Cn(t),n,i,Lt)},zn=kn("length"),Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Un="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Vn="\\ud83c[\\udffb-\\udfff]",Wn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",Hn="(?:"+Un+"|"+Vn+")?",qn="[\\ufe0e\\ufe0f]?"+Hn+"(?:\\u200d(?:"+[Wn,Yn,Xn].join("|")+")[\\ufe0e\\ufe0f]?"+Hn+")*",Kn="(?:"+[Wn+Un+"?",Un,Yn,Xn,"[\\ud800-\\udfff]"].join("|")+")",Zn=RegExp(Vn+"(?="+Vn+")|"+Kn+qn,"g"),Qn=function(e){return function(e){return Gn.test(e)}(e)?function(e){for(var t=Zn.lastIndex=0;Zn.test(e);)++t;return t}(e):zn(e)},$n=I?I.isConcatSpreadable:void 0,Jn=function(e){return Ee(e)||we(e)||!!($n&&e&&e[$n])},er=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Jn),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):et(o,u):i||(o[o.length]=u)}return o},tr=Math.max,nr=function(e,t,n){return t=tr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=tr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}},rr=de?function(e,t){return de(e,"toString",{configurable:!0,enumerable:!1,value:Nt(t),writable:!0})}:Rt,ir=Date.now,or=function(e){var t=0,n=0;return function(){var r=ir(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(rr),ar=function(e,t){return or(nr(e,t,Rt),e+"")},sr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},ur=function(e){return e!=e},cr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):sr(e,ur,n)}(e,t,0)>-1},lr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},fr=st&&1/Ht(new st([,-0]))[1]==1/0?function(e){return new st(e)}:function(){},dr=function(e){return me(e)&&Ue(e)},hr=ar(function(e){return function(e,t,n){var r=-1,i=cr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=lr;else if(o>=200){var c=t?null:fr(e);if(c)return Ht(c);a=!1,i=Wt,u=new Ut}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}(er(e,1,dr,!0))}),pr=function(e){return null==e?[]:function(e,t){return gn(t,function(t){return e[t]})}(e,Ve(e))};try{ln={clone:function(e){return It(e,4)},constant:Nt,each:zt,filter:An,has:In,isArray:Ee,isEmpty:function(e){if(null==e)return!0;if(Ue(e)&&(Ee(e)||"string"==typeof e||"function"==typeof e.splice||Oe(e)||Ne(e)||we(e)))return!e.length;var t=gt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!Ge(e).length;for(var n in e)if(Nn.call(e,n))return!1;return!0},isFunction:G,isUndefined:Pn,keys:Ve,map:Ln,reduce:Fn,size:function(e){if(null==e)return 0;if(Ue(e))return function(e){return"string"==typeof e||!Ee(e)&&me(e)&&"[object String]"==F(e)}(e)?Qn(e):e.length;var t=gt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Ge(e).length},transform:function(e,t,n){var r=Ee(e),i=r||Oe(e)||Ne(e);if(t=Cn(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:z(e)&&G(o)?Ot(tt(e)):{}}return(i?fe:Dt)(e,function(e,r,i){return t(n,e,r,i)}),n},union:hr,values:pr}}catch(d){}ln||(ln=window._);var gr=ln,vr=mr;function mr(e){this._isDirected=!gr.has(e,"directed")||e.directed,this._isMultigraph=!!gr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!gr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=gr.constant(void 0),this._defaultEdgeLabelFn=gr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function yr(e,t){e[t]?e[t]++:e[t]=1}function br(e,t){--e[t]||delete e[t]}function xr(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(gr.isUndefined(r)?"\0":r)}function _r(e,t){return xr(e,t.v,t.w,t.name)}mr.prototype._nodeCount=0,mr.prototype._edgeCount=0,mr.prototype.isDirected=function(){return this._isDirected},mr.prototype.isMultigraph=function(){return this._isMultigraph},mr.prototype.isCompound=function(){return this._isCompound},mr.prototype.setGraph=function(e){return this._label=e,this},mr.prototype.graph=function(){return this._label},mr.prototype.setDefaultNodeLabel=function(e){return gr.isFunction(e)||(e=gr.constant(e)),this._defaultNodeLabelFn=e,this},mr.prototype.nodeCount=function(){return this._nodeCount},mr.prototype.nodes=function(){return gr.keys(this._nodes)},mr.prototype.sources=function(){var e=this;return gr.filter(this.nodes(),function(t){return gr.isEmpty(e._in[t])})},mr.prototype.sinks=function(){var e=this;return gr.filter(this.nodes(),function(t){return gr.isEmpty(e._out[t])})},mr.prototype.setNodes=function(e,t){var n=arguments,r=this;return gr.each(e,function(e){n.length>1?r.setNode(e,t):r.setNode(e)}),this},mr.prototype.setNode=function(e,t){return gr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},mr.prototype.node=function(e){return this._nodes[e]},mr.prototype.hasNode=function(e){return gr.has(this._nodes,e)},mr.prototype.removeNode=function(e){var t=this;if(gr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],gr.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),gr.each(gr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],gr.each(gr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},mr.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(gr.isUndefined(t))t="\0";else{for(var n=t+="";!gr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},mr.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},mr.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},mr.prototype.children=function(e){if(gr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return gr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},mr.prototype.predecessors=function(e){var t=this._preds[e];if(t)return gr.keys(t)},mr.prototype.successors=function(e){var t=this._sucs[e];if(t)return gr.keys(t)},mr.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return gr.union(t,this.successors(e))},mr.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},mr.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;gr.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),gr.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var r={};return this._isCompound&&gr.each(t.nodes(),function(e){t.setParent(e,function e(i){var o=n.parent(i);return void 0===o||t.hasNode(o)?(r[i]=o,o):o in r?r[o]:e(o)}(e))}),t},mr.prototype.setDefaultEdgeLabel=function(e){return gr.isFunction(e)||(e=gr.constant(e)),this._defaultEdgeLabelFn=e,this},mr.prototype.edgeCount=function(){return this._edgeCount},mr.prototype.edges=function(){return gr.values(this._edgeObjs)},mr.prototype.setPath=function(e,t){var n=this,r=arguments;return gr.reduce(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this},mr.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,gr.isUndefined(n)||(n=""+n);var a=xr(this._isDirected,e,t,n);if(gr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!gr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,yr(this._preds[t],e),yr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},mr.prototype.edge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):xr(this._isDirected,e,t,n);return this._edgeLabels[r]},mr.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):xr(this._isDirected,e,t,n);return gr.has(this._edgeLabels,r)},mr.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):xr(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],br(this._preds[t],e),br(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},mr.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=gr.values(n);return t?gr.filter(r,function(e){return e.v===t}):r}},mr.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=gr.values(n);return t?gr.filter(r,function(e){return e.w===t}):r}},mr.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var wr={Graph:vr,version:"2.1.8"},Er={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Sr(e),edges:Or(e)};return gr.isUndefined(e.graph())||(t.value=gr.clone(e.graph())),t},read:function(e){var t=new vr(e.options).setGraph(e.value);return gr.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),gr.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}};function Sr(e){return gr.map(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),i={v:t};return gr.isUndefined(n)||(i.value=n),gr.isUndefined(r)||(i.parent=r),i})}function Or(e){return gr.map(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return gr.isUndefined(t.name)||(r.name=t.name),gr.isUndefined(n)||(r.value=n),r})}var kr=Mr;function Mr(){this._arr=[],this._keyIndices={}}Mr.prototype.size=function(){return this._arr.length},Mr.prototype.keys=function(){return this._arr.map(function(e){return e.key})},Mr.prototype.has=function(e){return gr.has(this._keyIndices,e)},Mr.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Mr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Mr.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!gr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Mr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Mr.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Mr.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Mr.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Mr.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Cr=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},s=new kr,u=function(e){var t=e.v!==i?e.v:e.w,r=a[t],u=n(e),c=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(t,c))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)});s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(e,String(t),n||Ar,r||function(t){return e.outEdges(t)})},Ar=gr.constant(1),jr=function(e){var t=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(e){gr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))}),s.lowlink===s.index){var u,c=[];do{u=n.pop(),r[u].onStack=!1,c.push(u)}while(a!==u);i.push(c)}}return e.nodes().forEach(function(e){gr.has(r,e)||o(e)}),i},Tr=gr.constant(1),Ir=Nr;function Nr(e){var t={},n={},r=[];if(gr.each(e.sinks(),function i(o){if(gr.has(n,o))throw new Pr;gr.has(t,o)||(n[o]=!0,t[o]=!0,gr.each(e.predecessors(o),i),delete n[o],r.push(o))}),gr.size(t)!==e.nodeCount())throw new Pr;return r}function Pr(){}Nr.CycleException=Pr,Pr.prototype=new Error;var Dr=function(e,t,n){gr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return gr.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,r,i,o,a){gr.has(i,n)||(i[n]=!0,r||a.push(n),gr.each(o(n),function(n){e(t,n,r,i,o,a)}),r&&a.push(n))}(e,t,"post"===n,o,r,i)}),i};var Lr,Rr={Graph:wr.Graph,json:Er,alg:{components:function(e){var t,n={},r=[];function i(r){gr.has(n,r)||(n[r]=!0,t.push(r),gr.each(e.successors(r),i),gr.each(e.predecessors(r),i))}return gr.each(e.nodes(),function(e){t=[],i(e),t.length&&r.push(t)}),r},dijkstra:Cr,dijkstraAll:function(e,t,n){return gr.transform(e.nodes(),function(r,i){r[i]=Cr(e,i,t,n)},{})},findCycles:function(e){return gr.filter(jr(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(e,t||Tr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Ir(e)}catch(e){if(e instanceof Ir.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Dr(e,t,"post")},preorder:function(e,t){return Dr(e,t,"pre")},prim:function(e,t){var n,r=new vr,i={},o=new kr;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===e.nodeCount())return r;gr.each(e.nodes(),function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)}),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),gr.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:jr,topsort:Ir},version:wr.version};try{Lr=Rr}catch(d){}Lr||(Lr=window.graphlib);var Br,Fr=Lr,zr=function(e,t,n){if(!z(n))return!1;var r=typeof t;return!!("number"==r?Ue(n)&&Me(t,n.length):"string"==r&&t in n)&&E(n[t],e)},Gr=Object.prototype,Ur=Gr.hasOwnProperty,Vr=ar(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&zr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Xe(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||E(l,Gr[c])&&!Ur.call(e,c))&&(e[c]=o[c])}return e}),Wr=/^\s+|\s+$/g,Yr=/^[-+]0x[0-9a-f]+$/i,Xr=/^0b[01]+$/i,Hr=/^0o[0-7]+$/i,qr=parseInt,Kr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(z(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=z(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Wr,"");var n=Xr.test(e);return n||Hr.test(e)?qr(e.slice(2),n?2:8):Yr.test(e)?NaN:+e}(e))||-1/0===e?1.7976931348623157e308*(e<0?-1:1):e==e?e:0:0===e?e:0},Zr=Math.max,Qr=function(e){return function(t,n,r){var i=Object(t);if(!Ue(t)){var o=Cn(n);t=Ve(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=Kr(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=Zr(r+i,0)),sr(e,Cn(t),i)}),$r=function(e){return null!=e&&e.length?er(e,1):[]},Jr=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!on(a):n(a,s)))var s=a,u=o}return u},ei=function(e,t){return e>t},ti=function(e,t,n){(void 0!==n&&!E(e[t],n)||void 0===n&&!(t in e))&&he(e,t,n)},ni=Function.prototype,ri=Object.prototype,ii=ni.toString,oi=ri.hasOwnProperty,ai=ii.call(Object),si=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ui=function(e,t,n,r,i,o,a){var s=si(e,n),u=si(t,n),c=a.get(u);if(c)ti(e,n,c);else{var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=Ee(u),h=!d&&Oe(u),p=!d&&!h&&Ne(u);l=u,d||h||p?Ee(s)?l=s:dr(s)?l=qe(s):h?(f=!1,l=He(u,!0)):p?(f=!1,l=wt(u,!0)):l=[]:function(e){if(!me(e)||"[object Object]"!=F(e))return!1;var t=tt(e);if(null===t)return!0;var n=oi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ii.call(n)==ai}(u)||we(u)?(l=s,we(s)?l=function(e){return ve(e,Xe(e))}(s):z(s)&&!G(s)||(l=kt(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),ti(e,n,l)}},ci=function(e){return ar(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&zr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r)}return t})}(function(e,t,n){!function e(t,n,r,i,o){t!==n&&Pt(n,function(a,s){if(o||(o=new le),z(a))ui(t,n,s,r,e,i,o);else{var u=i?i(si(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),ti(t,s,u)}},Xe)}(e,t,n)}),li=function(e,t){return e<t},fi=function(e,t,n,r){if(!z(e))return e;for(var i=-1,o=(t=bn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=xn(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=z(l)?l:Me(t[i+1])?[]:{})}ge(s,u,c),s=s[u]}return e},di=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_n(e,a);n(s,a)&&fi(o,bn(a,e),s)}return o}(e,t,function(t,n){return Sn(e,n)})},hi=function(e){return or(nr(e,void 0,$r),e+"")}(function(e,t){return null==e?{}:di(e,t)}),pi=Math.ceil,gi=Math.max,vi=function(e,t,n){return n&&"number"!=typeof n&&zr(e,t,n)&&(t=n=void 0),e=Kr(e),void 0===t?(t=e,e=0):t=Kr(t),function(e,t,n,r){for(var i=-1,o=gi(pi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Kr(n),void 0)},mi=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=on(e),a=void 0!==t,s=null===t,u=t==t,c=on(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},yi=function(e,t,n){t=t.length?gn(t,function(e){return Ee(e)?function(t){return _n(t,1===e.length?e[0]:e)}:e}):[Rt];var r=-1;return t=gn(t,je(Cn)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Dn(e,function(e,n,i){return{criteria:gn(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=mi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})},bi=ar(function(e,t){if(null==e)return[];var n=t.length;return n>1&&zr(e,t[0],t[1])?t=[]:n>2&&zr(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,er(t,1),[])}),xi=0;try{Br={cloneDeep:function(e){return It(e,5)},constant:Nt,defaults:Vr,each:zt,filter:An,find:Qr,flatten:$r,forEach:Ft,forIn:function(e,t){return null==e?e:Pt(e,Bt(t),Xe)},has:In,isUndefined:Pn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:Ln,mapValues:function(e,t){var n={};return t=Cn(t),Dt(e,function(e,r,i){he(n,r,t(e,r,i))}),n},max:function(e){return e&&e.length?Jr(e,Rt,ei):void 0},merge:ci,min:function(e){return e&&e.length?Jr(e,Rt,li):void 0},minBy:function(e,t){return e&&e.length?Jr(e,Cn(t),li):void 0},now:function(){return T.Date.now()},pick:hi,range:vi,reduce:Fn,sortBy:bi,uniqueId:function(e){var t=++xi;return yn(e)+t},values:pr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],ge)}}}catch(d){}Br||(Br=window._);var _i=Br,wi=Ei;function Ei(){var e={};e._next=e._prev=e,this._sentinel=e}function Si(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Oi(e,t){if("_next"!==e&&"_prev"!==e)return t}Ei.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Si(t),t},Ei.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Si(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Ei.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Oi)),n=n._prev;return"["+e.join(", ")+"]"};var ki=Fr.Graph,Mi=_i.constant(1);function Ci(e,t,n,r,i){var o=i?[]:void 0;return _i.forEach(e.inEdges(r.v),function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Ai(t,n,s)}),_i.forEach(e.outEdges(r.v),function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Ai(t,n,a)}),e.removeNode(r.v),o}function Ai(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ji=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new ki,r=0,i=0;_i.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),_i.forEach(e.edges(),function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)});var o=_i.range(i+r+3).map(function(){return new wi}),a=r+1;return _i.forEach(n.nodes(),function(e){Ai(o,a,n.node(e))}),{graph:n,buckets:o,zeroIdx:a}}(e,t||Mi),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Ci(e,t,n,r);for(;r=o.dequeue();)Ci(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(Ci(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return _i.flatten(_i.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return _i.forEach(e.nodes(),function i(o){_i.has(r,o)||(r[o]=!0,n[o]=!0,_i.forEach(e.outEdges(o),function(e){_i.has(n,e.w)?t.push(e):i(e.w)}),delete n[o])}),t}(e);_i.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,_i.uniqueId("rev"))})},Ti=function(e){_i.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})},Ii=Fr.Graph,Ni={addDummyNode:Pi,simplify:function(e){var t=(new Ii).setGraph(e.graph());return _i.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),_i.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new Ii({multigraph:e.isMultigraph()}).setGraph(e.graph());return _i.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),_i.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=_i.map(e.nodes(),function(t){var n={};return _i.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return _i.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=_i.map(e.nodes(),function(t){var n={};return _i.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return _i.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=_i.map(_i.range(Di(e)+1),function(){return[]});return _i.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;_i.isUndefined(i)||(t[i][r.order]=n)}),t},normalizeRanks:function(e){var t=_i.min(_i.map(e.nodes(),function(t){return e.node(t).rank}));_i.forEach(e.nodes(),function(n){var r=e.node(n);_i.has(r,"rank")&&(r.rank-=t)})},removeEmptyRanks:function(e){var t=_i.min(_i.map(e.nodes(),function(t){return e.node(t).rank})),n=[];_i.forEach(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=e.graph().nodeRankFactor;_i.forEach(n,function(t,n){_i.isUndefined(t)&&n%i!=0?--r:r&&_i.forEach(t,function(t){e.node(t).rank+=r})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Pi(e,"border",i,t)},maxRank:Di,partition:function(e,t){var n={lhs:[],rhs:[]};return _i.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=_i.now();try{return t()}finally{console.log(e+" time: "+(_i.now()-n)+"ms")}},notime:function(e,t){return t()}};function Pi(e,t,n,r){var i;do{i=_i.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function Di(e){return _i.max(_i.map(e.nodes(),function(t){var n=e.node(t).rank;if(!_i.isUndefined(n))return n}))}var Li=function(e){e.graph().dummyChains=[],_i.forEach(e.edges(),function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u!==a+1){for(e.removeEdge(t),i=0,++a;a<u;++i,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:t,rank:a},n=Ni.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),e.setEdge(o,n,{weight:l.weight},c),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:l.weight},c)}}(e,t)})},Ri=function(e){_i.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})},Bi=function(e){var t={};_i.forEach(e.sources(),function n(r){var i=e.node(r);if(_i.has(t,r))return i.rank;t[r]=!0;var o=_i.min(_i.map(e.outEdges(r),function(t){return n(t.w)-e.edge(t).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o})},Fi=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},zi=Fr.Graph,Gi=Fi,Ui=function(e){var t,n,r=new zi({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});Vi(r,e)<o;)t=Wi(r,e),n=r.hasNode(t.v)?Gi(e,t):-Gi(e,t),Yi(r,e,n);return r};function Vi(e,t){return _i.forEach(e.nodes(),function n(r){_i.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Gi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}),e.nodeCount()}function Wi(e,t){return _i.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Gi(t,n)})}function Yi(e,t,n){_i.forEach(e.nodes(),function(e){t.node(e).rank+=n})}var Xi=Fi,Hi=Bi,qi=Fr.alg.preorder,Ki=Fr.alg.postorder,Zi=Ni.simplify,Qi=$i;function $i(e){e=Zi(e),Hi(e);var t,n=Ui(e);for(to(n),Ji(n,e);t=no(n);)io(n,e,t,ro(n,e,t))}function Ji(e,t){var n=Ki(e,e.nodes());n=n.slice(0,n.length-1),_i.forEach(n,function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=eo(e,t,n)}(e,t,n)})}function eo(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,_i.forEach(t.nodeEdges(n),function(o){var s,u,c=o.v===n,l=c?o.w:o.v;if(l!==r){var f=c===i,d=t.edge(o).weight;if(a+=f?d:-d,s=n,u=l,e.hasEdge(s,u)){var h=e.edge(n,l).cutvalue;a+=f?-h:h}}}),a}function to(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,r,i,o){var a=r,s=t.node(i);return n[i]=!0,_i.forEach(t.neighbors(i),function(o){_i.has(n,o)||(r=e(t,n,r,o,i))}),s.low=a,s.lim=r++,o?s.parent=o:delete s.parent,r}(e,{},1,t)}function no(e){return _i.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function ro(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=_i.filter(t.edges(),function(t){return u===oo(e,e.node(t.v),s)&&u!==oo(e,e.node(t.w),s)});return _i.minBy(c,function(e){return Xi(t,e)})}function io(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),to(e),Ji(e,t),function(e,t){var n=_i.find(e.nodes(),function(e){return!t.node(e).parent}),r=qi(e,n);r=r.slice(1),_i.forEach(r,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}(e,t)}function oo(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}$i.initLowLimValues=to,$i.initCutValues=Ji,$i.calcCutValue=eo,$i.leaveEdge=no,$i.enterEdge=ro,$i.exchangeEdges=io;var ao=Bi,so=ao;function uo(e){Qi(e)}var co=function(e){var t=Ni.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&_i.forEach(o,function(e){n(e,i+1)}),t[r]=i}return _i.forEach(e.children(),function(e){n(e,1)}),t}(e),r=_i.max(_i.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,_i.forEach(e.edges(),function(t){e.edge(t).minlen*=i});var o=function(e){return _i.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;_i.forEach(e.children(),function(a){!function e(t,n,r,i,o,a,s){var u=t.children(s);if(u.length){var c=Ni.addBorderNode(t,"_bt"),l=Ni.addBorderNode(t,"_bb"),f=t.node(s);t.setParent(c,s),f.borderTop=c,t.setParent(l,s),f.borderBottom=l,_i.forEach(u,function(u){e(t,n,r,i,o,a,u);var f=t.node(u),d=f.borderTop?f.borderTop:u,h=f.borderBottom?f.borderBottom:u,p=f.borderTop?i:2*i,g=d!==h?1:o-a[s]+1;t.setEdge(c,d,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(h,l,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(s)||t.setEdge(n,c,{weight:0,minlen:o+a[s]})}else s!==n&&t.setEdge(n,s,{weight:0,minlen:r})}(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i},lo=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,_i.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})};function fo(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=Ni.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var ho=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||go(e)},po=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){_i.forEach(e.nodes(),function(t){mo(e.node(t))}),_i.forEach(e.edges(),function(t){var n=e.edge(t);_i.forEach(n.points,mo),_i.has(n,"y")&&mo(n)})}(e),"lr"!==t&&"rl"!==t||(function(e){_i.forEach(e.nodes(),function(t){yo(e.node(t))}),_i.forEach(e.edges(),function(t){var n=e.edge(t);_i.forEach(n.points,yo),_i.has(n,"x")&&yo(n)})}(e),go(e))};function go(e){_i.forEach(e.nodes(),function(t){vo(e.node(t))}),_i.forEach(e.edges(),function(t){vo(e.edge(t))})}function vo(e){var t=e.width;e.width=e.height,e.height=t}function mo(e){e.y=-e.y}function yo(e){var t=e.x;e.x=e.y,e.y=t}var bo=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=xo(e,t[r-1],t[r]);return n};function xo(e,t,n){for(var r=_i.zipObject(n,_i.map(n,function(e,t){return t})),i=_i.flatten(_i.map(t,function(t){return _i.sortBy(_i.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=_i.map(new Array(a),function(){return 0}),u=0;return _i.forEach(i.forEach(function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n})),u}function _o(e,t,n){for(var r;t.length&&(r=_i.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var wo=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,c={};s&&(o=_i.filter(o,function(e){return e!==s&&e!==u}));var l=function(e,t){return _i.map(t,function(t){var n=e.inEdges(t);if(n.length){var r=_i.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})}(t,o);_i.forEach(l,function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);c[n.v]=o,_i.has(o,"barycenter")&&(a=n,s=o,_i.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s});var f=function(e,t){var n={};return _i.forEach(e,function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};_i.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),_i.forEach(t.edges(),function(e){var t=n[e.v],r=n[e.w];_i.isUndefined(t)||_i.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(_i.isUndefined(t.barycenter)||_i.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),_i.forEach(i.in.reverse(),n(i)),_i.forEach(i.out,r(i))}return _i.map(_i.filter(t,function(e){return!e.merged}),function(e){return _i.pick(e,["vs","i","barycenter","weight"])})}(_i.filter(n,function(e){return!e.indegree}))}(l,r);!function(e,t){_i.forEach(e,function(e){e.vs=_i.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(f,c);var d=function(e,t){var n,r=Ni.partition(e,function(e){return _i.has(e,"barycenter")}),i=r.lhs,o=_i.sortBy(r.rhs,function(e){return-e.i}),a=[],s=0,u=0,c=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),c=_o(a,o,c),_i.forEach(i,function(e){c+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,c=_o(a,o,c)});var l={vs:_i.flatten(a,!0)};return u&&(l.barycenter=s/u,l.weight=u),l}(f,i);if(s&&(d.vs=_i.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);_i.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d},Eo=Fr.Graph,So=function(e,t,n){var r=function(e){for(var t;e.hasNode(t=_i.uniqueId("_root")););return t}(e),i=new Eo({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return _i.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),_i.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=_i.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})}),_i.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i},Oo=function(e,t,n){var r,i={};_i.forEach(n,function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}})},ko=Fr.Graph,Mo=function(e){var t=Ni.maxRank(e),n=Co(e,_i.range(1,t+1),"inEdges"),r=Co(e,_i.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=_i.filter(e.nodes(),function(t){return!e.children(t).length}),r=_i.max(_i.map(n,function(t){return e.node(t).rank})),i=_i.map(_i.range(r+1),function(){return[]});var o=_i.sortBy(n,function(t){return e.node(t).rank});return _i.forEach(o,function n(r){if(!_i.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),_i.forEach(e.successors(r),n)}}),i}(e);jo(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Ao(s%2?n:r,s%4>=2),i=Ni.buildLayerMatrix(e);var c=bo(e,i);c<a&&(u=0,o=_i.cloneDeep(i),a=c)}jo(e,o)};function Co(e,t,n){return _i.map(t,function(t){return So(e,t,n)})}function Ao(e,t){var n=new ko;_i.forEach(e,function(e){var r=e.graph().root,i=wo(e,r,n,t);_i.forEach(i.vs,function(t,n){e.node(t).order=n}),Oo(e,n,i.vs)})}function jo(e,t){_i.forEach(t,function(t){_i.forEach(t,function(t,n){e.node(t).order=n})})}var To=Fr.Graph;function Io(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function No(e,t,n){if(t>n){var r=t;t=n,n=r}return _i.has(e[t],n)}var Po=function(e){var t,n=Ni.buildLayerMatrix(e),r=_i.merge(function(e,t){var n={};return _i.reduce(t,function(t,r){var i=0,o=0,a=t.length,s=_i.last(r);return _i.forEach(r,function(t,u){var c=function(e,t){if(e.node(t).dummy)return _i.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),l=c?e.node(c).order:a;(c||t===s)&&(_i.forEach(r.slice(o,u+1),function(t){_i.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;!(a<i||l<a)||o.dummy&&e.node(t).dummy||Io(n,r,t)})}),o=u+1,i=l)}),r}),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;_i.forEach(_i.range(r,i),function(r){s=t[r],e.node(s).dummy&&_i.forEach(e.predecessors(s),function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&Io(n,t,s)})})}return _i.reduce(t,function(t,n){var i,o=-1,a=0;return _i.forEach(n,function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s);c.length&&(i=e.node(c[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)}),n}),n}(e,n)),i={};_i.forEach(["u","d"],function(o){t="u"===o?n:_i.values(n).reverse(),_i.forEach(["l","r"],function(n){"r"===n&&(t=_i.map(t,function(e){return _i.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return _i.forEach(t,function(e){_i.forEach(e,function(e,t){i[e]=e,o[e]=e,a[e]=t})}),_i.forEach(t,function(e){var t=-1;_i.forEach(e,function(e){var s=r(e);if(s.length)for(var u=((s=_i.sortBy(s,function(e){return a[e]})).length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var f=s[c];o[e]===e&&t<a[f]&&!No(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}})}),{root:i,align:o}}(0,t,r,a),u=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new To,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),c=0;if(c+=s.width/2,_i.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,_i.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}}(o.nodesep,o.edgesep,r);return _i.forEach(t,function(t){var r;_i.forEach(t,function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t})}),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u(function(e){o[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,o[t.v]+a.edge(t))},0)},a.predecessors.bind(a)),u(function(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,o[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))},a.successors.bind(a)),_i.forEach(r,function(e){o[e]=o[n[e]]}),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=_i.mapValues(u,function(e){return-e})),i[o+n]=u})});var o=function(e,t){return _i.minBy(_i.values(t),function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return _i.forIn(t,function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)}),n-r})}(e,i);return function(e,t){var n=_i.values(t),r=_i.min(n),i=_i.max(n);_i.forEach(["u","d"],function(n){_i.forEach(["l","r"],function(o){var a,s=n+o,u=e[s];if(u!==t){var c=_i.values(u);(a="l"===o?r-_i.min(c):i-_i.max(c))&&(e[s]=_i.mapValues(u,function(e){return e+a}))}})})}(i,o),function(e,t){return _i.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=_i.sortBy(_i.map(e,r));return(i[1]+i[2])/2})}(i,e.graph().align)},Do=Ni.normalizeRanks,Lo=Ni.removeEmptyRanks,Ro=Ni,Bo=Fr.Graph,Fo=["nodesep","edgesep","ranksep","marginx","marginy"],zo={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Go=["acyclicer","ranker","rankdir","align"],Uo=["width","height"],Vo={width:0,height:0},Wo=["minlen","weight","width","height","labeloffset"],Yo={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Xo=["labelpos"];function Ho(e,t){return _i.mapValues(_i.pick(e,t),Number)}function qo(e){var t={};return _i.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}var Ko=Fr.Graph,Zo={graphlib:Fr,layout:function(e,t){var n=t&&t.debugTiming?Ro.time:Ro.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new Bo({multigraph:!0,compound:!0}),n=qo(e.graph());return t.setGraph(_i.merge({},zo,Ho(n,Fo),_i.pick(n,Go))),_i.forEach(e.nodes(),function(n){var r=qo(e.node(n));t.setNode(n,_i.defaults(Ho(r,Uo),Vo)),t.setParent(n,e.parent(n))}),_i.forEach(e.edges(),function(n){var r=qo(e.edge(n));t.setEdge(n,_i.merge({},Yo,Ho(r,Wo),_i.pick(r,Xo)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,_i.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){_i.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){ji(e)}),t("    nestingGraph.run",function(){co(e)}),t("    rank",function(){!function(e){switch(e.graph().ranker){case"network-simplex":uo(e);break;case"tight-tree":!function(e){ao(e),Ui(e)}(e);break;case"longest-path":so(e);break;default:uo(e)}}(Ro.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){_i.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Ro.addDummyNode(e,"edge-proxy",i,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){Lo(e)}),t("    nestingGraph.cleanup",function(){lo(e)}),t("    normalizeRanks",function(){Do(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;_i.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=_i.max(t,r.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){_i.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){Li(e)}),t("    parentDummyChains",function(){!function(e){var t=function(e){var t={},n=0;return _i.forEach(e.children(),function r(i){var o=n;_i.forEach(e.children(i),r),t[i]={low:o,lim:n++}}),t}(e);_i.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||c>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}})}(e)}),t("    addBorderSegments",function(){!function(e){_i.forEach(e.children(),function t(n){var r=e.children(n),i=e.node(n);if(r.length&&_i.forEach(r,t),_i.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)fo(e,"borderLeft","_bl",n,i,o),fo(e,"borderRight","_br",n,i,o)}})}(e)}),t("    order",function(){Mo(e)}),t("    insertSelfEdges",function(){!function(e){var t=Ro.buildLayerMatrix(e);_i.forEach(t,function(t){var n=0;_i.forEach(t,function(t,r){var i=e.node(t);i.order=r+n,_i.forEach(i.selfEdges,function(t){Ro.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){ho(e)}),t("    position",function(){!function(e){(function(e){var t=Ni.buildLayerMatrix(e),n=e.graph().ranksep,r=0;_i.forEach(t,function(t){var i=_i.max(_i.map(t,function(t){return e.node(t).height}));_i.forEach(t,function(t){e.node(t).y=r+i/2}),r+=i+n})})(e=Ni.asNonCompoundGraph(e)),_i.forEach(Po(e),function(t,n){e.node(n).x=t})}(e)}),t("    positionSelfEdges",function(){!function(e){_i.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){_i.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(_i.last(n.borderLeft)),a=e.node(_i.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),_i.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){Ri(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){_i.forEach(e.edges(),function(t){var n=e.edge(t);if(_i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){po(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}_i.forEach(e.nodes(),function(t){u(e.node(t))}),_i.forEach(e.edges(),function(t){var n=e.edge(t);_i.has(n,"x")&&u(n)}),t-=a,r-=s,_i.forEach(e.nodes(),function(n){var i=e.node(n);i.x-=t,i.y-=r}),_i.forEach(e.edges(),function(n){var i=e.edge(n);_i.forEach(i.points,function(e){e.x-=t,e.y-=r}),_i.has(i,"x")&&(i.x-=t),_i.has(i,"y")&&(i.y-=r)}),o.width=n-t+a,o.height=i-r+s}(e)}),t("    assignNodeIntersects",function(){!function(e){_i.forEach(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Ro.intersectRect(o,n)),i.points.push(Ro.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){_i.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){Ti(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){_i.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),_i.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,_i.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})},debug:{debugOrdering:function(e){var t=Ni.buildLayerMatrix(e),n=new Ko({compound:!0,multigraph:!0}).setGraph({});return _i.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),_i.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),_i.forEach(t,function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),_i.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}},util:{time:Ni.time,notime:Ni.notime},version:"0.8.5"},Qo=Zo.graphlib,$o=Zo.layout,Jo=function e(t){Object(c.a)(this,e),this.cardinality=1,this.include=v.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=g.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height},ea=function e(){Object(c.a)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]};var ta=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(c.a)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=v.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=g.META,this.path=[],this.name=t,this.metaGraph=oa(t,m.META,n)}return Object(u.a)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map(function(t){return e.metaGraph.node(t)})}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach(function(t){return n.push(e.node(t))}):t.push(r.name)}return t}}]),e}(),na=function(){function e(t,n){Object(c.a)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return Object(u.a)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ra(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new ta(e,t)}function ia(e,t){return new na(e,t)}function oa(e,t,n){var r=n||{},i=new Qo.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.a)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ra(b,this.graphOptions),this.index[b]=this.root}return Object(u.a)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=oa(x,m.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach(function(n){n.edges().filter(function(t){return t.v===e||t.w===e}).forEach(function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach(function(n){var a=o?[n.w,r.v]:[n.v,r.w],u=Object(s.a)(a,2),c=u[0],l=u[1],f=t.getChildName(e,c),d={v:o?l:f,w:o?f:l},h=i.edge(d);h||((h=ia(d.v,d.w)).inbound=o,i.setEdge(d.v,d.w,h)),h.addBaseEdge(n,t)})})}),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return sa(i,e,t,n),sa(o,e,t,n),n}}]),e}();function sa(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach(function(t){var n=e.edge(t);r.push(n)})}var ua=function(){function e(t){Object(c.a)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new fa(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return Object(u.a)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===g.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach(function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)}),i.edges().forEach(function(e){var t=i.edge(e),n=new la(t);o.setEdge(e.v,e.w,n)});var a=r.node.parentNode;if(a){var u=this.getRenderNodeByName(a.name),c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},l=this.hierarchy.getBridgeGraph(e);l.edges().forEach(function(n){var r=l.edge(n),f=!!i.node(n.w),d=f?[n.w,n.v]:[n.v,n.w],h=Object(s.a)(d,2),p=h[0],m=h[1],y=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return u.coreGraph.edge(n)},b=y(m);b||(b=y(c(f,m,a.name)));var x=c(f,e),_=c(f,m,e),w=o.node(_);if(!w){var E=o.node(x);if(!E){var S={name:x,type:g.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:v.UNSPECIFIED,inbound:f,attr:{}};E=new ca(S),t.index[x]=E,o.setNode(x,E)}var O={name:_,type:g.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:v.UNSPECIFIED,inbound:f,attr:{}};w=new ca(O),t.index[_]=w,o.setNode(_,w),o.setParent(_,x),E.node.cardinality++}var k=new la(r);k.adjoiningMetaEdge=b,f?o.setEdge(_,p,k):o.setEdge(p,_,k)})}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new fa(t,this.hierarchy.graphOptions):new ca(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),ca=function e(t){Object(c.a)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr},la=function e(t){Object(c.a)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]},fa=function(e){function t(e,n){var r;Object(c.a)(this,t),r=Object(i.a)(this,Object(o.a)(t).call(this,e));var a=e.metaGraph.graph();return n.compound=!0,r.coreGraph=oa(a.name,m.CORE,n),r}return Object(a.a)(t,e),t}(ca);function da(e,t){e.node.isGroupNode&&function(e,t){var n=h(t);e.coreGraph.nodes().map(function(t){return e.coreGraph.node(t)}).forEach(function(e){var r,i,o,a,s,u,c=e.height,l=e.width;switch(e.node.type){case g.NODE:Object.assign(e,n.nodeSize.node),e.height=c||n.nodeSize.node.height,e.width=l||n.nodeSize.node.width;break;case g.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case g.META:e.expanded?da(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length;e.width=Math.max(e.coreBox.width,3*n)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}})}(e,t),e.node.type===g.META&&function(e,t){var n=h(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach(function(t){e.node(t).node.type!==g.BRIDGE&&a.push(t)}),!a.length)return{width:0,height:0};$o(e);var s=1/0,u=1/0,c=-1/0,l=-1/0;return a.forEach(function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,c=o>c?o:c;var a=.5*n.height,f=n.y-a,d=n.y+a;u=f<u?f:u,l=d>l?d:l}),e.edges().forEach(function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ha(e[0],e[1]),n=1;n<e.length-1;n++){var r=ha(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:pa(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:pa(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=ga(f,i));var d=n.points[1];null!=r&&(n.points[0]=ga(d,r)),n.points.forEach(function(e){s=e.x<s?e.x:s,c=e.x>c?e.x:c,u=e.y<u?e.y:u,l=e.y>l?e.y:l})}),e.nodes().forEach(function(t){var n=e.node(t);n.x-=s,n.y-=u}),e.edges().forEach(function(t){e.edge(t).points.forEach(function(e){e.x-=s,e.y-=u})}),{width:c-s,height:l-u}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ha(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function pa(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function ga(e,t){var n,r,i=t.expanded?t.x:pa(t),o=t.y,a=e.x-i,s=e.y-o,u=t.expanded?t.width:t.coreBox.width,c=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*c/2?(s<0&&(c=-c),n=0===s?0:c/2*a/s,r=c/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:i+n,y:o+r}}function va(e,t,n){var i,o,a,u,c=e.nodes.filter(function(e,t,n){return n.findIndex(function(t){return t.id===e.id})!==t}).map(function(e){return e.id});if(c.length)throw new Error("Duplicated ids found: ".concat(c.join(", ")));var f=function(e){var t={nodes:[]},n=e.compound,i=Object.keys(n||{}),o=new Map,a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.has(t))return o.get(t);for(var a=0;a<i.length;a++){var s=i[a];if(n&&-1!==n[s].indexOf(t))return r.unshift(s),e(s,r)}return 0===r.length&&o.set(t,r),r},s=function(t){return e.edges.filter(function(e){return e.w===t}).map(function(e){return{name:e.v}})};return e.nodes.forEach(function(e){var n=e.id,i=[].concat(Object(r.a)(a(n)),[n]),o=s(n);t.nodes.push({name:n,path:i,inputs:o,width:e.width,height:e.height,attr:Object.assign({},e)})}),t}(e),h=function(e,t){var n=function(e,t){var n,r=l(t.values());try{for(r.s();!(n=r.n()).done;){if(n.value.includes(e))return!0}}catch(i){r.e(i)}finally{r.f()}return!1};return function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return Object(r.a)(new Set(i));var o,a=new Map(Object.keys(t).map(function(e){return[e,t[e]]})),u={},c=l(a);try{for(c.s();!(o=c.n()).done;){var f=Object(s.a)(o.value,2),d=f[0],h=f[1];n(d,a)?u[d]=h:i=i.concat(d,h)}}catch(p){c.e(p)}finally{c.f()}return e(u,i)}(e).filter(function(e){return t.includes(e)})}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new ua(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new aa({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach(function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var s=i[a],u=e.node(s);u||((u=ra(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=o,e.setNode(s,u),o.metaGraph.setNode(s,u)),o=u}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)})}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach(function(a){r=[],i=[];for(var s=o(t.nodes[a.v],r),u=o(t.nodes[a.w],i);r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var c=n[r[s+1]],l=r[s],f=i[u],d=c.metaGraph.edge(l,f);d||(d=ia(l,f),c.metaGraph.setEdge(l,f,d)),d.addBaseEdge(a,e)})}(i,e),i}(function(e){var t=new ea;return e.nodes.map(function(e){return new Jo(e)}).forEach(function(e){t.nodes[e.name]=e,e.inputs.forEach(function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)})}),t}(e),t))}(f,{rankDirection:(null===(o=null===(i=null==n?void 0:n.graph)||void 0===i?void 0:i.meta)||void 0===o?void 0:o.rankDir)||(null==t?void 0:t.rankDirection)||d.graph.meta.rankDir,align:(null===(u=null===(a=null==n?void 0:n.graph)||void 0===a?void 0:a.meta)||void 0===u?void 0:u.align)||d.graph.meta.align});return function(e,t){h.forEach(function(t){var n=e.getRenderInfoNodes().find(function(e){return e.displayName===t}),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)})}(p),da(p.root,n),ba(p.root)}function ma(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),i={nodes:[n],edges:Object(r.a)(n.edges)};return n.nodes.forEach(function e(t){(0===t.type||1===t.type)&&i.nodes.push(t),0===t.type&&(i.edges=i.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)}),t&&i.nodes.forEach(function(e){var t=i.nodes.find(function(t){return t.id===e.parentNodeName});if(t){var n=t.x-t.width/2+t.paddingLeft,r=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==b&&(e.x+=n,e.y+=r),0===e.type&&e.edges.forEach(function(t){t.points.forEach(function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop})})}}),i}function ya(e,t,n,i){var o,a,s=[],u=(null===(o=n.find(function(t){return t.id===e}))||void 0===o?void 0:o.path)||[],c=(null===(a=n.find(function(e){return e.id===t}))||void 0===a?void 0:a.path)||[],l=[b].concat(Object(r.a)(u)).slice(0,u.length).reverse(),f=[b].concat(Object(r.a)(c)).slice(0,c.length);return l.forEach(function(r){var o=n.find(function(e){return e.id===r});s=s.concat(o.edges.filter(function(n){return n.baseEdgeList.some(function(n){return n.v===((null==i?void 0:i.v)||e)&&n.w===((null==i?void 0:i.w)||t)})}))}),f.filter(function(e){return!l.includes(e)}).forEach(function(r){var o=n.find(function(e){return e.id===r});s=s.concat(o.edges.filter(function(n){return n.baseEdgeList.some(function(n){return n.v===((null==i?void 0:i.v)||e)&&n.w===((null==i?void 0:i.w)||t)})}))}),s}function ba(e){var t,n=e.coreGraph.nodes().map(function(t){return e.coreGraph.node(t)});return Object.assign(Object.assign({},xa(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map(function(e){return e.node.type===g.META?ba(e):xa(e)})):[],edges:e.expanded?_a(e):[]})}function xa(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function _a(e){return e.coreGraph.edges().map(function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}}).filter(function(e){return e.renderInfoEdge.metaEdge}).map(function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map(function(e){return Object.assign({},e)});if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,c=o.x-s,l=o.y-u,f=-e.paddingLeft,d=-(e.paddingTop+e.labelHeight);a.x=c+f,a.y=l+d}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}})}}.call(this,n(74))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var o=n(39),a=n(41),s=i(n(312)),u=i(n(313));function c(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var l=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var i=e.linkDistance,a=null;if((0,o.isString)(e.focusNode)){for(var c=!1,l=0;l<t.length;l++)t[l].id===e.focusNode&&(a=t[l],e.focusNode=a,c=!0,l=t.length);c||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var f=function(e,t){var n=-1;return e.forEach(function(e,r){e.id===t&&(n=r)}),n}(t,a.id);f<0&&(f=0),e.focusIndex=f;var d=(0,o.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,o.floydWarshall)(d),p=e.maxToFocus(h,f);e.handleInfinity(h,f,p+1),e.distances=h;var g=h[f],v=e.width||500,m=e.height||500,y=v-r[0]>r[0]?r[0]:v-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=v/2),0===b&&(b=m/2);var x=b>y?y:b,_=Math.max.apply(Math,g),w=[];g.forEach(function(t,n){e.unitRadius||(e.unitRadius=x/_),w[n]=t*e.unitRadius}),e.radii=w;var E=e.eIdealDisMatrix();e.eIdealDistances=E;var S=function(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)0!==e[i][a]?o.push(1/(e[i][a]*e[i][a])):o.push(0);r.push(o)}return r}(E);e.weights=S;var O=new s.default({linkDistance:i,distances:E}).layout();O.forEach(function(e){(0,o.isNaN)(e[0])&&(e[0]=Math.random()*i),(0,o.isNaN)(e[1])&&(e[1]=Math.random()*i)}),e.positions=O,O.forEach(function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]}),O.forEach(function(e){e[0]-=O[f][0],e[1]-=O[f][1]}),e.run();var k,M=e.preventOverlap,C=e.nodeSize,A=e.strictRadial;if(M){var j,T=e.nodeSpacing;j=(0,o.isNumber)(T)?function(){return T}:(0,o.isFunction)(T)?T:function(){return 0},k=C?(0,o.isArray)(C)?function(e){return(C[0]>C[1]?C[0]:C[1])+j(e)}:function(e){return C+j(e)}:function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+j(e):(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+j(e):e.size+j(e):10+j(e)};var I={nodes:t,nodeSizeFunc:k,adjMatrix:d,positions:O,radii:w,height:m,width:v,strictRadial:A,focusID:f,iterations:e.maxPreventOverlapIteration||200,k:O.length/4.5},N=new u.default(I);O=N.layout()}return O.forEach(function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this.maxIteration,t=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],i=this.radii||[],o=0;o<=e;o++){var a=o/e;this.oneIteration(a,t,i,r,n)}},t.prototype.oneIteration=function(e,t,n,r,i){var o=1-e,a=this.focusIndex;t.forEach(function(s,u){var l=c(s,[0,0]),f=0===l?0:1/l;if(u!==a){var d=0,h=0,p=0;t.forEach(function(e,t){if(u!==t){var n=c(s,e),o=0===n?0:1/n,a=r[t][u];p+=i[u][t],d+=i[u][t]*(e[0]+a*(s[0]-e[0])*o),h+=i[u][t]*(e[1]+a*(s[1]-e[1])*o)}});var g=0===n[u]?0:1/n[u];p*=o,p+=e*g*g,d*=o,d+=e*g*s[0]*f,s[0]=d/p,h*=o,h+=e*g*s[1]*f,s[1]=h/p}})},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,i=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach(function(n,u){var c=[];n.forEach(function(n,s){if(u===s)c.push(0);else if(i[u]===i[s])if("data"===e.sortBy)c.push(n*(Math.abs(u-s)*e.sortStrength)/(i[u]/a));else if(e.sortBy){var l=t[u][e.sortBy]||0,f=t[s][e.sortBy]||0;(0,o.isString)(l)&&(l=l.charCodeAt(0)),(0,o.isString)(f)&&(f=f.charCodeAt(0)),c.push(n*(Math.abs(l-f)*e.sortStrength)/(i[u]/a))}else c.push(n*r/(i[u]/a));else{var d=(r+a)/2;c.push(n*d)}}),s.push(c)}),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(var o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(i=0;i<r;i++)if(i!==t)for(o=0;o<r;o++)if(e[i][o]===1/0){var a=Math.abs(e[t][i]-e[t][o]);a=0===a?1:a,e[i][o]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(196),i=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this.dimension,t=this.distances,n=this.linkDistance;try{var i=r.Matrix.mul(r.Matrix.pow(t,2),-.5),o=i.mean("row"),a=i.mean("column"),s=i.mean();i.add(s).subRowVector(o).subColumnVector(a);var u=new r.SingularValueDecomposition(i),c=r.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(t){return r.Matrix.mul([t],[c]).toJSON()[0].splice(0,e)})}catch(p){for(var l=[],f=0;f<t.length;f++){var d=Math.random()*n,h=Math.random()*n;l.push([d,h])}return l}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this.positions,t=[],n=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=t;for(var i=0;i<n;i++)e.forEach(function(e,n){t[n]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return e},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,i=e.k,o=e.radii||[];t.forEach(function(a,s){r[s]={x:0,y:0},t.forEach(function(t,u){if(s!==u&&o[s]===o[u]){var c=a[0]-t[0],l=a[1]-t[1],f=Math.sqrt(c*c+l*l);if(0===f){f=1;var d=s>u?1:-1;c=.01*d,l=.01*d}if(f<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=i*i/f;r[s].x+=c/f*h,r[s].y+=l/f*h}}})})},e.prototype.updatePositions=function(){var e=this.positions,t=this.disp,n=this.speed,r=this.strictRadial,i=this.focusID,o=this.maxDisplace||this.width/10;r&&t.forEach(function(t,n){var r=e[n][0]-e[i][0],o=e[n][1]-e[i][1],a=Math.sqrt(r*r+o*o),s=o/a,u=-r/a,c=Math.sqrt(t.x*t.x+t.y*t.y),l=Math.acos((s*t.x+u*t.y)/c);l>Math.PI/2&&(l-=Math.PI/2,s*=-1,u*=-1);var f=Math.cos(l)*c;t.x=s*f,t.y=u*f});var a=this.radii;e.forEach(function(s,u){if(u!==i){var c=Math.sqrt(t[u].x*t[u].x+t[u].y*t[u].y);if(c>0&&u!==i){var l=Math.min(o*(n/800),c);if(s[0]+=t[u].x/c*l,s[1]+=t[u].y/c*l,r){var f=s[0]-e[i][0],d=s[1]-e[i][1],h=Math.sqrt(f*f+d*d);f=f/h*a[u],d=d/h*a[u],s[0]=e[i][0]+f,s[1]=e[i][1]+d}}}})},e}();t.default=r},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};u(b,o,function(){return this});var x=Object.getPrototypeOf,_=x&&x(x(A([])));_&&_!==n&&r.call(_,o)&&(b=_);var w=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var n;this._invoke=function(i,o){function a(){return new t(function(n,a){!function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(f).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(u.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return m.prototype=y,u(w,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,a,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(w),u(w,s,"Generator"),u(w,o,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(319),s=n(44),u=n(64),c=n(42),l=n(172),f=n(320),d=n(327),h=n(329),p=n(72),g=n(85),v=n(332),m=n(333),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map(function(e){return f.getBindingDictionary(e)}),u=f.getBindingDictionary(a);return s.forEach(function(e){var t;t=u,e.traverse(function(e,n){n.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,n,r,o,a;return i(this,function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n,r=(n=t.id,function(e){return e.moduleId===n});e._bindingDictionary.removeByCondition(r)})},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some(function(e){return e.constraint(o)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach(function(e){t.applyMiddleware(e)}),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(64),i=n(72),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(321),i=n(44),o=n(64),a=n(42),s=n(173),u=n(85),c=n(322),l=n(58),f=n(323),d=n(324),h=n(326),p=n(175);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=m(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=m(n.container,a.serviceIdentifier)),c=t?s:s.filter(function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)}),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;var a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,m),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function m(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=m(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,g,m,y,b){void 0===b&&(b=!1);var x=new c.Context(t),_=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new p.Target(t,r,n,u);if(void 0!==i){var f=new l.Metadata(i,o);c.metadata.push(f)}return c}(n,r,g,"",m,y);try{return function e(t,n,r,a,s,u){var c,l;if(null===s){c=v(t,n,a,null,u),l=new h.Request(r,a,null,c,u);var p=new f.Plan(a,l);a.addPlan(p)}else c=v(t,n,a,s,u),l=s.addChildRequest(u.serviceIdentifier,c,u);c.forEach(function(n){var r=null;if(u.isArray())r=l.addChildRequest(n.serviceIdentifier,n,u);else{if(n.cache)return;r=l}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var s=d.getDependencies(t,n.implementationType);if(!a.container.options.skipBaseClassChecks){var c=d.getBaseClassDependencyCount(t,n.implementationType);if(s.length<c){var f=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(n.implementationType));throw new Error(f)}}s.forEach(function(n){e(t,!1,n.serviceIdentifier,a,r,n)})}})}(e,b,g,x,null,_),x}catch(w){throw s.isStackOverflowExeption(w)&&x.plan&&u.circularDependencyToException(x.plan.rootRequest),w}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e);return new h.Request(t,a,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(72),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var r=function(){return function(e,t){this.parentContext=e,this.rootRequest=t}}();t.Plan=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(174),o=n(44),a=n(64),s=n(42),u=n(85);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n(175);function l(e,t,n,i){var s=e.getConstructorMetadata(n),u=s.compilerGeneratedMetadata;if(void 0===u){var l=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var h=s.userGeneratedMetadata,p=Object.keys(h),g=0===n.length&&p.length>0,v=p.length>n.length,m=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=a,u=f(s,e,t,n,r);null!==u&&o.push(u)}return o}(i,t,u,h,g||v?p.length:n.length),y=function e(t,n){var i=t.getPropertiesMetadata(n);var o=[];var s=Object.keys(i);for(var u=0,l=s;u<l.length;u++){var f=l[u],h=i[f],p=d(i[f]),g=p.targetName||f,v=p.inject||p.multiInject,m=new c.Target(a.TargetTypeEnum.ClassProperty,g,v);m.metadata=h,o.push(m)}var y=Object.getPrototypeOf(n.prototype).constructor;if(y!==Object){var b=e(t,y);o=r(r([],o),b)}return o}(e,n);return r(r([],m),y)}function f(e,t,n,r,s){var u=s[e.toString()]||[],l=d(u),f=!0!==l.unmanaged,h=r[e],p=l.inject||l.multiInject;if((h=p||h)instanceof i.LazyServiceIdentifer&&(h=h.unwrap()),f){var g=h===Object,v=h===Function;if(!t&&(g||v||void 0===h)){var m=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(m)}var y=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,h);return y.metadata=u,y}return null}function d(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),o=i.map(function(e){return e.metadata.filter(function(e){return e.key===s.UNMANAGED_TAG})}),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(72),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(44),i=n(64),o=n(173),a=n(85),s=n(328),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},c=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&f)return c.map(function(n){return e(t)(n)});var d=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],p=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(g&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)d=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)d=u("toDynamicValue",h.serviceIdentifier,function(){return h.dynamicValue(n.parentContext)});else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)d=u("toFactory",h.serviceIdentifier,function(){return h.factory(n.parentContext)});else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)d=u("toProvider",h.serviceIdentifier,function(){return h.provider(n.parentContext)});else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=s.resolveInstance(h.implementationType,c,e(t))}return"function"===typeof h.onActivation&&(d=h.onActivation(n.parentContext,d)),p&&(h.cache=d,h.activated=!0),g&&null!==t&&!t.has(h.id)&&t.set(h.id,d),d}}};t.resolve=function(e){return c(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(44),o=n(64),a=n(42);t.resolveInstance=function(e,t,n){var s,u,c=null;if(t.length>0){var l=t.filter(function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument}).map(n);u=l,c=function(e,t,n){var r=t.filter(function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty}),i=r.map(n);return r.forEach(function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o}),e}(c=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,c),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(44),i=n(64),o=n(330),a=n(176),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(331),i=n(131),o=n(132),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(64),i=n(176),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(44),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(n,r){var i=n.filter(function(t){return!e(t)});i.length>0?t._map.set(r,i):t._map.delete(r)})},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,n){e.forEach(function(e){return t.add(n,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},e}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(72),i=function(){return function(e){this.id=r.id(),this.registry=e}}();t.ContainerModule=i;var o=function(){return function(e){this.id=r.id(),this.registry=e}}();t.AsyncContainerModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(44),i=n(42);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(58),i=n(68);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(42),i=n(58),o=n(68);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(42),i=n(58),o=n(68);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(42),i=n(58),o=n(68);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(42),i=n(58),o=n(68);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(42),i=n(58),o=n(68);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(44),i=n(42),o=n(58);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){return e.bind(n).toService(t)})}}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol.for("INJECTION");function i(e,t,n,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()},set:function(e){Reflect.defineMetadata(r,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(r,o){i(r,o,function(){return e.get(n)},t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,r){return function(o,a){i(o,a,function(){return e.getNamed(n,r)},t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,r,o){return function(a,s){i(a,s,function(){return e.getTagged(n,r,o)},t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(r,o){i(r,o,function(){return e.getAll(n)},t)}}}},function(e,t,n){var r=n(171);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},function(e,t){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(193)},function(e,t){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},function(e,t,n){e.exports=n(199)},function(e,t,n){e.exports=n(202)},function(e,t,n){e.exports=n(203)},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},function(e,t){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},function(e,t){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},function(e,t,n){e.exports=n(204)},function(e,t,n){e.exports=n(205)},function(e,t,n){e.exports=n(206)},function(e,t,n){e.exports=n(207)},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},function(e,t){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},function(e,t){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},function(e,t){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(194)()},function(e,t){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()?e.addForce(this.body):(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(133)),c=s(n(386)),l=s(n(388)),f=n(129);t.default=function(e,t){var n=e.nodes,i=e.edges,o=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach(function(e){if(i.filter(function(t){return t.source===e.id||t.target===e.id}).length>1){var t=r({},e);delete t.size,s.push(t)}});var d=[];i.forEach(function(e){var t=s.find(function(t){return t.id===e.source}),n=s.find(function(t){return t.id===e.target});t&&n&&d.push(e)});var h=new f.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach(function(e){var t=(h||[]).find(function(t){return t.id===e.id});e.x=(null===t||void 0===t?void 0:t.x)||o/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2});var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id(function(e){return e.id}).distance(function(e){return d.find(function(t){return t.source===e.source&&t.target===e.target})?30:20})).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(function(e){v.on("end",function(){n.forEach(function(e){var t=p.find(function(t){return t.id===e.id});t&&(e.x=t.x,e.y=t.y)});var r=Math.min.apply(Math,n.map(function(e){return e.x})),s=Math.max.apply(Math,n.map(function(e){return e.x})),u=Math.min.apply(Math,n.map(function(e){return e.y})),f=Math.max.apply(Math,n.map(function(e){return e.y})),d=o/(s-r),h=a/(f-u);n.forEach(function(e){void 0!==e.x&&d<1&&(e.x=(e.x-r)*d),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)}),n.forEach(function(e){e.sizeTemp=e.size,e.size=[10,10]}),(0,l.default)(n,i),n.forEach(function(e){e.size=e.sizeTemp||[],delete e.sizeTemp}),(0,c.default)({nodes:n,edges:i},t),e()})})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(387));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,o=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach(function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)});var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach(function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)});for(var c=0;c<e.nodes.length;c++){var l=e.nodes[c],f=u.findGridByNodeId(l.id);if(!f)throw new Error("can not find node cell");var d=f.column,h=f.row;if(l.size[0]+o>a){for(var p=v=Math.ceil((l.size[0]+o)/a)-1,g=0;g<v&&(u.additionColumn.indexOf(d+g+1)>-1&&!u.cells[d+g+1][h].node);g++)p--;u.insertColumn(d,p)}if(l.size[1]+o>s){var v;for(p=v=Math.ceil((l.size[1]+o)/s)-1,g=0;g<v&&(u.additionRow.indexOf(h+g+1)>-1&&!u.cells[d][h+g+1].node);g++)p--;u.insertRow(h,p)}}for(c=0;c<u.columnNum;c++){var m=function(t){var n=u.cells[c][t];if(n.node){var r=e.nodes.find(function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)});r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)m(g)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var n=0;n<t;n++){this.cells[n+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[n+this.columnNum][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(n=this.columnNum-1;n>e;n--)for(i=0;i<this.rowNum;i++)this.cells[n+t][i]=r(r({},this.cells[n][i]),{x:(n+t)*this.CELL_W,y:i*this.CELL_H}),this.cells[n][i]={x:n*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=e&&(this.additionColumn[i]+=t);for(n=0;n<t;n++)this.additionColumn.push(e+n+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var n=0;n<t;n++)for(var i=0;i<this.columnNum;i++)this.cells[i][n+this.rowNum]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(n=this.rowNum-1;n>e;n--)this.cells[i][n+t]=r(r({},this.cells[i][n]),{dx:i,dy:n+t,x:i*this.CELL_W,y:(n+t)*this.CELL_H}),this.cells[i][n]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(n=0;n<this.additionRow.length;n++)this.additionRow[n]>=e&&(this.additionRow[n]+=t);for(i=0;i<t;i++)this.additionRow.push(e+i+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=1200,i=800,o=1e7,a=10,s=3.141592653589793,u=1.5707963267948966,c=.375*s,l=.625*s,f=new Map,d=10,h=10,p=.8,g=.1,v=.5;function m(e,t){var n=(f.get(e.id)||[]).find(function(e){return e.source===t.id||e.target===t.id}),r=e.size[0]*e.size[1],i=t.size[0]*t.size[1],s=r>i?t:e,d=r>i?e:t,h=s.x-s.size[0]/2,p=s.y-s.size[1]/2,g=s.x+s.size[0]/2,v=s.y+s.size[1]/2,m=d.x-d.size[0]/2,y=d.y-d.size[1]/2,b=d.x+d.size[0]/2,x=d.y+d.size[1]/2,_=s.x,w=s.y,E=d.x,S=d.y,O=0,k=0;if(g>=m&&b>=h&&v>=y&&x>=p){0===(k=Math.sqrt(Math.pow(E-_,2)+Math.pow(S-w,2)))&&(k=1e-7),O=1*a/k*100+((g<b?g:b)-(h>m?h:m))*((v<x?v:x)-(p>y?p:y)),O*=o}else{var M=!1,C=function(e,t,n){var r=e.x-e.size[0]/2,i=e.y-e.size[1]/2,o=e.x+e.size[0]/2,a=e.y+e.size[1]/2,s=t.x-t.size[0]/2,f=t.y-t.size[1]/2,d=t.x+t.size[0]/2,h=t.y+t.size[1]/2,p=e.x,g=e.y,v=t.x,m=t.y,y=v-p,b=Math.atan2(y,m-g),x=0,_=0,w=0,E=0;b>u?(_=i-h,x=s-o,w=parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)),E=parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2))):w=E=0<b&&b<=u?(_=f-a)>(x=s-o)?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2)):b<-u?(_=i-h)>(x=-(d-r))?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):_.toFixed(2)):(_=f-a)>(x=Math.abs(y)>(o-r)/2?r-d:y)?parseFloat(_?(_/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x&&0!==b?(x/Math.sin(b)).toFixed(2):_.toFixed(2));var S=parseFloat(b.toFixed(2)),O=n;return n&&(O=c<S&&S<l),{distance:Math.abs(w<E?w:E),isHoriz:O}}(s,d,M);k=C.distance,M=C.isHoriz,k<=a?O+=0!==k?n?a+1*o/k:a+o*a/k:o:(O+=k,n&&(O+=k*k))}return O}function y(e){for(var t=0,n=0;n<e.length;n++){var o=e[n];(o.x<0||o.y<0||o.x>r||o.y>i)&&(t+=1e12);for(var a=n+1;a<e.length;a++)t+=m(o,e[a])}return t}function b(e,t,n,r){var i=new Map;n.forEach(function(e,t){i.set(e.id,e)});var o=r.filter(function(t){return t.source===e.id||t.target===e.id})||[],a=[];o.forEach(function(t){var n=t.source===e.id?t.target:t.source,r=i.get(n);r&&a.push(r)});for(var s=!0,u=0;u<a.length;u++){var c=a[u],l=180*Math.atan((e.y-c.y)/(c.x-e.y)),f=180*Math.atan((t.y-c.y)/(c.x-t.y)),d=l>70&&l<110,h=f>70&&f<110;if((l<30||l>150)&&!(f<30||f>150)||l*f<0){s=!1;break}if(d&&!h||l*f<0){s=!1;break}if((c.x-e.x)*(c.x-t.x)<0){s=!1;break}if((c.y-e.y)*(c.y-t.y)<0){s=!1;break}}return s}function x(e,t){for(var n=!1,r=1*d,i=1*h,o=[r,-r,0,0],a=[0,0,i,-i],s=0;s<e.length;++s)for(var u=e[s],c=_(u,e),l=0;l<o.length;l++){if(b(u,{x:u.x+o[l],y:u.y+a[l]},e,t)){u.x+=o[l],u.y+=a[l];var f=_(u,e),m=Math.random();f<c?(c=f,n=!0):m<p&&m>g?(c=f,n=!0):(u.x-=o[l],u.y-=a[l])}}return p>g&&(p*=v),n?y(e):0}function _(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>r||e.y+e.size[1]+20>i)&&(n+=1e12);for(var o=0;o<t.length;++o)e.id!==t[o].id&&(n+=m(e,t[o]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach(function(e){var n=t.filter(function(t){return t.source===e.id||t.target===e.id});f.set(e,n)}),e.sort(function(e,t){var n,r;return(null===(n=f.get(e.id))||void 0===n?void 0:n.length)-(null===(r=f.get(t.id))||void 0===r?void 0:r.length)});for(var n=y(e),r=20,i=1,o=0,a=0;r>0&&!(++a>=50);){var s=x(e,t);0!==s&&(o=s),i=o-n,n=o,0===i?--r:r=20}return e.forEach(function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2}),{nodes:e,edges:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(145),i=n(149),o=n(150),a=n(151),s=n(152),u=n(153),c=n(129),l=n(164),f=n(165),d=n(166),h=n(167),p=n(168),g=n(211),v=n(212),m=n(213),y=n(214),b=n(215),x=n(163),_=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=_,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:c.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:l.RadialLayout,concentric:f.ConcentricLayout,grid:i.GridLayout,mds:d.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":g.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,i,o=0,a=0,s=0,u=1e3,c=0,l=0,f=0,d="object"===typeof performance&&performance.now?performance:Date,h="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return l||(h(g),l=d.now()+f)}function g(){l=0}function v(){this._call=this._time=this._next=null}function m(e,t,n){var r=new v;return r.restart(e,t,n),r}function y(){l=(c=d.now())+f,o=a=0;try{!function(){p(),++o;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,x(o)}(),l=0}}function b(){var e=d.now(),t=e-c;t>u&&(f-=t,c=e)}function x(e){o||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(y,e-d.now()-f)),s&&(s=clearInterval(s))):(s||(c=d.now(),s=setInterval(b,u)),o=1,h(y)))}v.prototype=m.prototype={constructor:v,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}}},function(e,t,n){"use strict";var r=n(47),i=n(49),o=n(1),a=n.n(o);n(395);t.a=function(e){var t=e.img,n=a.a.useContext(r.a).graph;return a.a.useEffect(function(){var e=new i.a.Grid({img:t});return n.addPlugin(e),function(){n&&!n.destroy&&n.removePlugin(e)}},[t,n]),null}},function(e,t,n){"use strict";var r=n(47),i=n(24),o=n(1),a=n.n(o),s=(n(397),r.a),u={background:"#fff"},c=function(e){var t=e.children,n=e.onClick,r=void 0===n?function(){}:n;return a.a.createElement("li",{onClick:r,onKeyDown:r},t)},l=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n,o=e.direction,l=void 0===o?"horizontal":o,f=e.options,d=e.onChange,h=a.a.useContext(s),p="horizontal"===l,g={position:"absolute"};p?(g.right=0,g.top=0):(g.left=0,g.bottom=0);return f?a.a.createElement("div",{className:"graphin-components-toolbar",style:Object.assign(Object.assign(Object.assign({},u),g),r)},a.a.createElement("ul",{className:"graphin-components-toolbar-content",style:{display:p?"flex":""}},f.map(function(e){var t=e.key,n=e.name;return a.a.createElement(c,{key:t||n,onClick:function(){!function(e){try{d&&d(h,e)}catch(t){console.log(t)}}(e)}},n)}))):a.a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},u),g),r),className:"graphin-components-toolbar"},Object(i.a)(t)||t&&t.type===c?a.a.createElement("ul",{className:"graphin-components-toolbar-content",style:{display:p?"flex":""}},t):t)};l.Item=c,t.a=l},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(20),a=n.n(o),s=n(66),u=n.n(s),c=n(1),l=n(11),f={type:u.a.string,tooltip:u.a.bool,as:u.a.elementType},d=c.forwardRef(function(e,t){var n=e.as,o=void 0===n?"div":n,s=e.className,u=e.type,c=void 0===u?"valid":u,f=e.tooltip,d=void 0!==f&&f,h=Object(i.a)(e,["as","className","type","tooltip"]);return Object(l.jsx)(o,Object(r.a)({},h,{ref:t,className:a()(s,"".concat(c,"-").concat(d?"tooltip":"feedback"))}))});d.displayName="Feedback",d.propTypes=f;var h=d,p=n(48),g=n(23),v=c.forwardRef(function(e,t){var n=e.id,o=e.bsPrefix,s=e.className,u=e.type,f=void 0===u?"checkbox":u,d=e.isValid,h=void 0!==d&&d,v=e.isInvalid,m=void 0!==v&&v,y=e.as,b=void 0===y?"input":y,x=Object(i.a)(e,["id","bsPrefix","className","type","isValid","isInvalid","as"]),_=Object(c.useContext)(p.a).controlId;return o=Object(g.c)(o,"form-check-input"),Object(l.jsx)(b,Object(r.a)({},x,{ref:t,type:f,id:n||_,className:a()(s,o,h&&"is-valid",m&&"is-invalid")}))});v.displayName="FormCheckInput";var m=v,y=c.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.htmlFor,u=Object(i.a)(e,["bsPrefix","className","htmlFor"]),f=Object(c.useContext)(p.a).controlId;return n=Object(g.c)(n,"form-check-label"),Object(l.jsx)("label",Object(r.a)({},u,{ref:t,htmlFor:s||f,className:a()(o,n)}))});y.displayName="FormCheckLabel";var b=y;var x=c.forwardRef(function(e,t){var n=e.id,o=e.bsPrefix,s=e.bsSwitchPrefix,u=e.inline,f=void 0!==u&&u,d=e.reverse,v=void 0!==d&&d,y=e.disabled,x=void 0!==y&&y,_=e.isValid,w=void 0!==_&&_,E=e.isInvalid,S=void 0!==E&&E,O=e.feedbackTooltip,k=void 0!==O&&O,M=e.feedback,C=e.feedbackType,A=e.className,j=e.style,T=e.title,I=void 0===T?"":T,N=e.type,P=void 0===N?"checkbox":N,D=e.label,L=e.children,R=e.as,B=void 0===R?"input":R,F=Object(i.a)(e,["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"]);o=Object(g.c)(o,"form-check"),s=Object(g.c)(s,"form-switch");var z=Object(c.useContext)(p.a).controlId,G=Object(c.useMemo)(function(){return{controlId:n||z}},[z,n]),U=!L&&null!=D&&!1!==D||function(e,t){return c.Children.toArray(e).some(function(e){return c.isValidElement(e)&&e.type===t})}(L,b),V=Object(l.jsx)(m,Object(r.a)({},F,{type:"switch"===P?"checkbox":P,ref:t,isValid:w,isInvalid:S,disabled:x,as:B}));return Object(l.jsx)(p.a.Provider,{value:G,children:Object(l.jsx)("div",{style:j,className:a()(A,U&&o,f&&"".concat(o,"-inline"),v&&"".concat(o,"-reverse"),"switch"===P&&s),children:L||Object(l.jsxs)(l.Fragment,{children:[V,U&&Object(l.jsx)(b,{title:I,children:D}),M&&Object(l.jsx)(h,{type:C,tooltip:k,children:M})]})})})});x.displayName="FormCheck";var _=Object.assign(x,{Input:m,Label:b}),w=n(65),E=(n(76),c.forwardRef(function(e,t){var n,o,s=e.bsPrefix,u=e.type,f=e.size,d=e.htmlSize,h=e.id,v=e.className,m=e.isValid,y=void 0!==m&&m,b=e.isInvalid,x=void 0!==b&&b,_=e.plaintext,E=e.readOnly,S=e.as,O=void 0===S?"input":S,k=Object(i.a)(e,["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),M=Object(c.useContext)(p.a).controlId;(s=Object(g.c)(s,"form-control"),_)?n=Object(w.a)({},"".concat(s,"-plaintext"),!0):(o={},Object(w.a)(o,s,!0),Object(w.a)(o,"".concat(s,"-").concat(f),f),n=o);return Object(l.jsx)(O,Object(r.a)({},k,{type:u,size:d,ref:t,readOnly:E,id:h||M,className:a()(v,n,y&&"is-valid",x&&"is-invalid","color"===u&&"".concat(s,"-color"))}))}));E.displayName="FormControl";var S=Object.assign(E,{Feedback:h}),O=n(53),k=Object(O.a)("form-floating"),M=n(121),C=n(26);var A=c.forwardRef(function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,o=e.className,s=Object(i.a)(e,["as","bsPrefix","className"]);n=Object(g.c)(n,"col");var u=Object(g.a)(),c=Object(g.b)(),l=[],f=[];return u.forEach(function(e){var t,r,i,o=s[e];delete s[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,i=o.order):t=o;var a=e!==c?"-".concat(e):"";t&&l.push(!0===t?"".concat(n).concat(a):"".concat(n).concat(a,"-").concat(t)),null!=i&&f.push("order".concat(a,"-").concat(i)),null!=r&&f.push("offset".concat(a,"-").concat(r))}),[Object(r.a)({},s,{className:a.a.apply(void 0,[o].concat(l,f))}),{as:t,bsPrefix:n,spans:l}]}(e),o=Object(C.a)(n,2),s=o[0],u=s.className,c=Object(i.a)(s,["className"]),f=o[1],d=f.as,h=void 0===d?"div":d,p=f.bsPrefix,v=f.spans;return Object(l.jsx)(h,Object(r.a)({},c,{ref:t,className:a()(u,!v.length&&p)}))});A.displayName="Col";var j=A,T=c.forwardRef(function(e,t){var n=e.as,o=void 0===n?"label":n,s=e.bsPrefix,u=e.column,f=e.visuallyHidden,d=e.className,h=e.htmlFor,v=Object(i.a)(e,["as","bsPrefix","column","visuallyHidden","className","htmlFor"]),m=Object(c.useContext)(p.a).controlId;s=Object(g.c)(s,"form-label");var y="col-form-label";"string"===typeof u&&(y="".concat(y," ").concat(y,"-").concat(u));var b=a()(d,s,f&&"visually-hidden",u&&y);return h=h||m,u?Object(l.jsx)(j,Object(r.a)({ref:t,as:"label",className:b,htmlFor:h},v)):Object(l.jsx)(o,Object(r.a)({ref:t,className:b,htmlFor:h},v))});T.displayName="FormLabel",T.defaultProps={column:!1,visuallyHidden:!1};var I=T,N=c.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.id,u=Object(i.a)(e,["bsPrefix","className","id"]),f=Object(c.useContext)(p.a).controlId;return n=Object(g.c)(n,"form-range"),Object(l.jsx)("input",Object(r.a)({},u,{type:"range",ref:t,className:a()(o,n),id:s||f}))});N.displayName="FormRange";var P=N,D=c.forwardRef(function(e,t){var n=e.bsPrefix,o=e.size,s=e.htmlSize,u=e.className,f=e.isValid,d=void 0!==f&&f,h=e.isInvalid,v=void 0!==h&&h,m=e.id,y=Object(i.a)(e,["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"]),b=Object(c.useContext)(p.a).controlId;return n=Object(g.c)(n,"form-select"),Object(l.jsx)("select",Object(r.a)({},y,{size:s,ref:t,className:a()(u,n,o&&"".concat(n,"-").concat(o),d&&"is-valid",v&&"is-invalid"),id:m||b}))});D.displayName="FormSelect";var L=D,R=c.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.as,u=void 0===s?"small":s,c=e.muted,f=Object(i.a)(e,["bsPrefix","className","as","muted"]);return n=Object(g.c)(n,"form-text"),Object(l.jsx)(u,Object(r.a)({},f,{ref:t,className:a()(o,n,c&&"text-muted")}))});R.displayName="FormText";var B=R,F=c.forwardRef(function(e,t){return Object(l.jsx)(_,Object(r.a)({},e,{ref:t,type:"switch"}))});F.displayName="Switch";var z=Object.assign(F,{Input:_.Input,Label:_.Label}),G=n(248),U={_ref:u.a.any,validated:u.a.bool,as:u.a.elementType},V=c.forwardRef(function(e,t){var n=e.className,o=e.validated,s=e.as,u=void 0===s?"form":s,c=Object(i.a)(e,["className","validated","as"]);return Object(l.jsx)(u,Object(r.a)({},c,{ref:t,className:a()(n,o&&"was-validated")}))});V.displayName="Form",V.propTypes=U;t.a=Object.assign(V,{Group:M.a,Control:S,Floating:k,Check:_,Switch:z,Label:I,Text:B,Range:P,Select:L,FloatingLabel:G.a})},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(20),a=n.n(o),s=n(1),u=n(23),c=n(53),l=n(11),f=function(e){return s.forwardRef(function(t,n){return Object(l.jsx)("div",Object(r.a)({},t,{ref:n,className:a()(t.className,e)}))})},d=s.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.variant,c=e.as,f=void 0===c?"img":c,d=Object(i.a)(e,["bsPrefix","className","variant","as"]),h=Object(u.c)(n,"card-img");return Object(l.jsx)(f,Object(r.a)({ref:t,className:a()(s?"".concat(h,"-").concat(s):h,o)},d))});d.displayName="CardImg";var h=d,p=s.createContext(null);p.displayName="CardHeaderContext";var g=p,v=s.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,c=e.as,f=void 0===c?"div":c,d=Object(i.a)(e,["bsPrefix","className","as"]),h=Object(u.c)(n,"card-header"),p=Object(s.useMemo)(function(){return{cardHeaderBsPrefix:h}},[h]);return Object(l.jsx)(g.Provider,{value:p,children:Object(l.jsx)(f,Object(r.a)({ref:t},d,{className:a()(o,h)}))})});v.displayName="CardHeader";var m=v,y=f("h5"),b=f("h6"),x=Object(c.a)("card-body"),_=Object(c.a)("card-title",{Component:y}),w=Object(c.a)("card-subtitle",{Component:b}),E=Object(c.a)("card-link",{Component:"a"}),S=Object(c.a)("card-text",{Component:"p"}),O=Object(c.a)("card-footer"),k=Object(c.a)("card-img-overlay"),M=s.forwardRef(function(e,t){var n=e.bsPrefix,o=e.className,s=e.bg,c=e.text,f=e.border,d=e.body,h=e.children,p=e.as,g=void 0===p?"div":p,v=Object(i.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),m=Object(u.c)(n,"card");return Object(l.jsx)(g,Object(r.a)({ref:t},v,{className:a()(o,m,s&&"bg-".concat(s),c&&"text-".concat(c),f&&"border-".concat(f)),children:d?Object(l.jsx)(x,{children:h}):h}))});M.displayName="Card",M.defaultProps={body:!1};t.a=Object.assign(M,{Img:h,Title:_,Subtitle:w,Body:x,Link:E,Text:S,Header:m,Footer:O,ImgOverlay:k})},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M354 671h58.9c4.7 0 9.2-2.1 12.3-5.7L512 561.8l86.8 103.5c3 3.6 7.5 5.7 12.3 5.7H670c6.8 0 10.5-7.9 6.1-13.1L553.8 512l122.4-145.9c4.4-5.2.7-13.1-6.1-13.1h-58.9c-4.7 0-9.2 2.1-12.3 5.7L512 462.2l-86.8-103.5c-3-3.6-7.5-5.7-12.3-5.7H354c-6.8 0-10.5 7.9-6.1 13.1L470.2 512 347.9 657.9A7.95 7.95 0 00354 671z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"close-square",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="CloseSquareOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="SearchOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="ExportOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="SettingOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="ClearOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="RedoOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="ZoomOutOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="ZoomInOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="FullscreenExitOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="ShareAltOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="DeploymentUnitOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="AppstoreOutlined";t.a=i.forwardRef(s)},function(e,t,n){"use strict";var r=n(21),i=n(1),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M640.6 429.8h257.1c7.9 0 14.3-6.4 14.3-14.3V158.3c0-7.9-6.4-14.3-14.3-14.3H640.6c-7.9 0-14.3 6.4-14.3 14.3v92.9H490.6c-3.9 0-7.1 3.2-7.1 7.1v221.5h-85.7v-96.5c0-7.9-6.4-14.3-14.3-14.3H126.3c-7.9 0-14.3 6.4-14.3 14.3v257.2c0 7.9 6.4 14.3 14.3 14.3h257.1c7.9 0 14.3-6.4 14.3-14.3V544h85.7v221.5c0 3.9 3.2 7.1 7.1 7.1h135.7v92.9c0 7.9 6.4 14.3 14.3 14.3h257.1c7.9 0 14.3-6.4 14.3-14.3v-257c0-7.9-6.4-14.3-14.3-14.3h-257c-7.9 0-14.3 6.4-14.3 14.3v100h-78.6v-393h78.6v100c0 7.9 6.4 14.3 14.3 14.3zm53.5-217.9h150V362h-150V211.9zM329.9 587h-150V437h150v150zm364.2 75.1h150v150.1h-150V662.1z"}}]},name:"partition",theme:"outlined"},a=n(36),s=function(e,t){return i.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))};s.displayName="PartitionOutlined";t.a=i.forwardRef(s)}]]);
//# sourceMappingURL=1.a2062ed5.chunk.js.map